(function(){var f=angular.module("app",["app.coockiesConsent","app.animateOnChange","ui.router","ngAnimate","ngDialog","ngStorage","ngCookies","pascalprecht.translate","angular-date-picker-polyfill","app.home","app.main","app.offer","app.profile","app.oddFormater","app.result","app.popup","app.ticket","app.odd","app.user","angulartics","angulartics.google.analytics","app.analytics","app.translationView","720kb.socialshare","angularUtils.directives.dirPagination","ui.bootstrap","vcRecaptcha","app.keyboard","app.perfect_scrollbar"]);var i=angular.injector(["ng"]);var k=i.get("$http");var j={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return(j.Android()||j.BlackBerry()||j.iOS()||j.Opera()||j.Windows())}};var g=window.location.href.indexOf("activate?id=")>-1||window.location.href.indexOf("setPassword?iu=")>-1||window.location.href.indexOf("special/")>-1;var b=l()["mobile"];var h=l()["btag"];if(!g&&j.any()&&b==null){window.location.href=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/ibet-mobile/#/app/home?desc=true"}else{a()}function l(){var n={};var m=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(o,p,q){n[p]=q});return n}function a(){var m=angular.injector(["ng"]);var n=m.get("$http");n.get("properties.json").then(function(o){var p=o.data;if(p.enableMinimization=="true"){window.console["log"]=function(){}}e(p.context,function(){return n.get(location.protocol+"//"+location.host+"/"+p.context+"/betparams.json").then(function(q){console.log(q);f.constant("BET_PARAMS",q.data);return n.get(location.protocol+"//"+location.host+"/"+p.context+"/iParameters.json?instance_code="+p.instanceCode+"&application=DESKTOP").then(function(s){var r=s.data;f.value("ODD_SEPARATOR",d("oddSeparator",p,r)).value("BTAG",h).constant("COMPANY",d("company",p,r)).constant("VERSION",p.version).constant("CORE_DESIGN",d("coreDesign",p,r)).constant("DESIGN",p.design).constant("CONTEXT",p.context).constant("DEFAULT_LANGUAGE",d("defaultLanguage",p,r)).constant("TELEPHONE_EXAMPLE",d("telephoneExample",p,r)).constant("CONFIG",p.config).constant("SHOW_WAY_OF_PAYMENT",d("showWayOfPayment",p,r)).constant("SHOW_REGISTRATION",d("showRegistration",p,r)).constant("SHOW_TERMS_AND_PRIVACY",d("showTermsAndPrivacy",p,r)).constant("VIRTUAL_BETTING",d("virtualBetting",p,r)).constant("SHOW_SETTINGS",d("showSettings",p,r)).constant("SHOW_FREEBET",d("showFreeBet",p,r)).constant("IS_MULTYBET",d("multyBet",p,r)).constant("SHOW_CONTACT_FORM",d("showContactForm",p,r)).constant("SHOW_LIVE_BETTING",d("showLiveBetting",p,r)).constant("SHOW_SUPER",d("showSuper",p,r)).constant("RECAPTCHA_PUBLIC_KEY",d("recaptchaPublicKey",p,r)).constant("CASINO_URL",d("casinoUrl",p,r)).constant("MARKET_MOVER_HISTORY_GRAPHICS",d("marketMoverHistoryGraphics",p,r)).constant("SHOW_RSS_FEED",d("showRssFeed",p,r)).constant("SHOW_MESSAGES",d("showMessages",p,r)).constant("ENABLE_LMT",d("enable_live_tracker",p,r)).constant("ENABLE_CASINO_LOBBY",d("enable_casino_lobby",p,r)).constant("LMT_URL",d("live_tracker_script",p,r)).constant("GROUP_BY_PROVIDER_SUBTYPE",d("groupByProviderSubType",p,r)).constant("LUCKY_GUESS_URL",d("luckyGuessUrl",p,r)).constant("LUCKY_GUESS_TICKET_DETAILS_URL",d("luckyGuessTicketDetailsUrl",p,r)).constant("NSOFT_LUCKY_SIX_URL",d("nsoftLuckySixUrl",p,r)).constant("NS7_LUCKY_SIX_URL",d("ns7LuckySixUrl",p,r)).constant("PROVIDER1",d("provider1",p,r)).constant("PROVIDER2",d("provider2",p,r)).constant("PROVIDER3",d("provider3",p,r)).constant("PROVIDER4",d("provider4",p,r)).constant("PROVIDER5",d("provider5",p,r)).constant("NETREFER_PREFIX",d("netrefer_prefix",p,r)).constant("LUCKY_SIX_TICKET_DETAILS_URL",d("luckySixTicketDetailsUrl",p,r)).constant("LUCKY_SIX_BASE_URL",d("luckySixBaseUrl",p,r)).constant("LUCKY_SIX_IFRAME_RESIZE_URL",d("luckySixIFrameResizerUrl",p,r)).constant("NS7_GREYHOUNDS_URL",d("ns7GreyhoundsUrl",p,r)).constant("NS7_LUCKY_X_URL",d("ns7LuckyXUrl",p,r)).constant("NS7_VIRTUAL_HORSES_URL",d("ns7VirtualHorseUrl",p,r)).constant("NS7_VIRTUAL_GREYHOUNDS_URL",d("ns7VirtualGreyhoundsUrl",p,r)).constant("PAYMENT_URL",d("payment_url",p,r)).constant("MAX_BETS_SINGLE_MATCH",d("maxBetsSingleMatch",p,r)).constant("ALEA_LUCKY_SIX_URL",d("aleaLucky6Url",p,r)).constant("PRAG_PICTURES_URL",d("pragPicturesUrl",p,r)).constant("ELBET_BASE_URL",d("elbetBaseUrl",p,r)).constant("ELBET_BASE_URL_EUR",d("elbetBaseUrlEur",p,r)).constant("ENABLE_VIRTUAL_GAMES",d("enableVirtualGames",p,r)).constant("ALLOWED_MESSAGE_ORIGINS",d("allowedMessageOrigins",p,r)).constant("SHOW_OVER_MULTI_EVENT_VIEW",d("showOverMultiEventView",p,r)).constant("MAX_NUMBER_OF_MATCHES_IN_MULTI_VIEW",d("maxNumberOfMatchesInMultiView",p,r)).constant("SHOW_OVER_MULTI_EVENT_VIEW2",d("showOverMultiEvent2",p,r)).constant("EXEFEED_VIRTUAL_GAMES_URL",d("exefeedVirtualGamesUrl",p,r)).constant("ENABLE_TAN",d("enableTAN",p,r)).constant("ENABLE_PAYOUT_AT_BETTING_SHOP",d("enablePayoutAtBettingShop",p,r)).constant("CASINO_CURRENT_WINNERS",d("casinoCurrentWinnersRows",p,r)).constant("FAZI_BASE_LINK_URL",d("faziBaseLinkUrl",p,r)).constant("WALLET_VIRTUAL_GAME_URL",d("walletVirtualGameUrl",p,r)).constant("OFFER_SERVER",d("offerServer",p,r)).constant("SHOW_PRE_PAYOUT",d("showPrePayout",p,r)).constant("EXEFEED_VIRTUAL_GAMES_CLIENT_NAME",d("exefeedVirtualGamesClientName",p,r)).constant("ENABLE_PREPAYMENT",d("enablePrepayment",p,r)).constant("ENABLE_WEBSOCKET",d("enableWebsocket",p,r)).constant("REGISTRATION_CCY_TOKEN",d("registrationCcyToken",p,r)).constant("SHOW_TICKET_AUTH_PROFILE",d("showTicketAuthProfile",p,r)).constant("JACKPOT_WINNERS_DAYS",d("jackpot.winnersDays",p,r)).constant("EXTERNAL_LINKS",{headerBanner:d("externalLinks.headerBanner",p,r),mobile:d("externalLinks.mobile",p,r),submenuGamesDescription:d("externalLinks.submenuGamesDescription",p,r),download:d("externalLinks.download",p,r),betPlaces:d("externalLinks.betPlaces",p,r),job:d("externalLinks.job",p,r),contact:d("externalLinks.contact",p,r),chat:d("externalLinks.chat",p,r),facebook:d("externalLinks.facebook",p,r),twitter:d("externalLinks.twitter",p,r),youtube:d("externalLinks.youtube",p,r),instagram:d("externalLinks.instagram",p,r),viber:d("externalLinks.viber",p,r),right1Banner:d("externalLinks.right1Banner",p,r),right1BannerLink:d("externalLinks.right1BannerLink",p,r),right2Banner:d("externalLinks.right2Banner",p,r),right2BannerLink:d("externalLinks.right2BannerLink",p,r),right3Banner:d("externalLinks.right3Banner",p,r),right3BannerLink:d("externalLinks.right3BannerLink",p,r),ticketBanner:d("externalLinks.ticketBanner",p,r),ticketBannerLink:d("externalLinks.ticketBannerLink",p,r),ticketBannerFrame:d("externalLinks.ticketBannerFrame",p,r),bonusTipBanner:d("externalLinks.bonusTipBanner",p,r),bonusTipBannerLink:d("externalLinks.bonusTipBannerLink",p,r),marketMoversBanner:d("externalLinks.marketMoversBanner",p,r),marketMoversBannerLink:d("externalLinks.marketMoversBannerLink",p,r),backgroundLeftBanner1:d("externalLinks.backgroundLeftBanner1",p,r),backgroundLeftBanner2:d("externalLinks.backgroundLeftBanner2",p,r),backgroundLeftBanner3:d("externalLinks.backgroundLeftBanner3",p,r),backgroundLeftBannerLink1:d("externalLinks.backgroundLeftBannerLink1",p,r),backgroundLeftBannerLink2:d("externalLinks.backgroundLeftBannerLink2",p,r),backgroundLeftBannerLink3:d("externalLinks.backgroundLeftBannerLink3",p,r),backgroundRightBanner1:d("externalLinks.backgroundRightBanner1",p,r),backgroundRightBanner2:d("externalLinks.backgroundRightBanner2",p,r),backgroundRightBanner3:d("externalLinks.backgroundRightBanner3",p,r),backgroundRightBannerLink1:d("externalLinks.backgroundRightBannerLink1",p,r),backgroundRightBannerLink2:d("externalLinks.backgroundRightBannerLink2",p,r),backgroundRightBannerLink3:d("externalLinks.backgroundRightBannerLink3",p,r),statistics:d("externalLinks.statistics",p,r),blog:d("externalLinks.blog",p,r),telephone:d("externalLinks.telephone",p,r),contestLink:d("externalLinks.contestLink",p,r),contestImage:d("externalLinks.contestImage",p,r),ibetTerminal:d("externalLinks.ibetTerminal",p,r),maxbetBlogRssFeed:d("externalLinks.maxbetBlogRssFeed",p,r),promoPage:d("externalLinks.promoPage",p,r),statisticsType:d("externalLinks.statisticsType",p,r),jackpotImage:d("externalLinks.jackpotImage",p,r),jackpotLink:d("externalLinks.jackpotLink",p,r)}).constant("MENU_LINKS",{aboutUs:d("menuLinks.aboutUs",p,r),help:d("menuLinks.help",p,r),bettingHelp:d("menuLinks.bettingHelp",p,r),gamesRules:d("menuLinks.gamesRules",p,r),profileMisionVision:d("menuLinks.profileMisionVision",p,r),responsibleBetting:d("menuLinks.responsibleBetting",p,r),ban18:d("menuLinks.ban18",p,r),contact:d("menuLinks.contact",p,r),virtualBettingHelp:d("menuLinks.virtualBettingHelp",p,r)}).constant("PAYMENT_PARAMS",{enable:d("paymentParams.enable",p,r),}).constant("GOOGLE_ANALYTICS",{enable:p["googleAnalytics.track"],trackId:p["googleAnalytics.trackingId"],cookieDomain:p["googleAnalytics.cookieDomain"]}).constant("VIRTUAL_BETTING_PARAMS",{clientId:d("virtualBettingParams.clientId",p,r),flagUrl:d("virtualBettingParams.flagUrl",p,r),vtoFrameLink:d("virtualBettingParams.vto_frame_link",p,r),vflFrameLink:d("virtualBettingParams.vfl_frame_link",p,r),vdrFrameLink:d("virtualBettingParams.vdr_frame_link",p,r),vcrFrameLink:d("virtualBettingParams.vcr_frame_link",p,r),vblFrameLink:d("virtualBettingParams.vbl_frame_link",p,r),vflStatLink:d("virtualBettingParams.vfl_stat_link",p,r)});c()})},function(q){setTimeout(a,1000)})},function(q){setTimeout(a,1000)})})}function e(m,n){require.config({baseUrl:"/"+m});require(["core/util/base64.factory","core/util/bet-params.service","core/network/socket.service","core/util/provider.service","core/util/toggleClass.directive","core/util/timer.factory","core/util/addMatchStyle.directive","core/util/back.directive","core/util/loadingScreen.directive","core/util/ngEnter.directive","core/util/onscroll.directive","core/util/md5.factory","core/features/contest.service","core/features/location-for-display.service","core/features/market-mover.service","core/features/contact.service","core/offer/game-description.service","core/offer/search.service","core/offer/active-sports.service","core/offer/tip-type-groups.service","core/offer/last-minute-matches.service","core/offer/bonus-tip.service","core/offer/top-matches.service","core/offer/daily-offer.service","core/offer/casino.service","core/ticket/prepayment.service","core/ticket/prepayment-countdown.directive","core/ticket/ticket-details.service","core/ticket/ticket-status.service","core/ticket/tickets-preview.service","core/offer/result.service","core/user/activate-voucher.service","core/user/card-registration.service","core/user/change-password.service","core/user/generate-tan.service","core/user/ipay-voucher.service","core/user/limit.service","core/user/lost-password.service","core/user/profile-details.service","core/user/profile-info.service","core/user/registration.service","core/user/transactions.service","core/user/transfer.service","core/user/withdrawal.service","core/filter/addLocale.filter","core/filter/addLocaleImg.filter","core/filter/addLocaleImgGif.filter","core/filter/addLocaleImgPng.filter","core/filter/addPosHelp21.filter","core/filter/addStatisticsData.filter","core/filter/floatOrNot.filter","core/filter/handicapFormater.filter","core/filter/objectLimitTo.filter","core/filter/orderByLeagueFavorite.filter","core/filter/orderBySpecialFavorite.filter","core/filter/orderBySportFavorite.filter","core/filter/orderObjectBy.filter","core/filter/orderResultObjectBy.filter","core/filter/sportFilter.filter","core/filter/virtualSportFilter.filter","core/filter/startFrom.filter","core/filter/trim.filter","core/filter/ttgBetLineFilter.filter","core/filter/showLiveMatches.filter"],function(){for(var p in arguments){var o=arguments[p];if(o.applications!=null){if(o.type==="service"){f.service(o.name,o.module)}else{if(o.type==="factory"){f.factory(o.name,o.module)}else{if(o.type==="filter"){f.filter(o.name,o.module)}else{if(o.type==="directive"){f.directive(o.name,o.module)}}}}}}n()})}function d(m,o,n){var p=o[m];if(p==null){p=n[m]!=null?n[m]:""}return p}function c(){angular.element(document).ready(function(){var m=angular.bootstrap(document,["app"]);$rootScopeExternal=m.get("$rootScope")})}})();var $rootScopeExternal;
(function(){angular.module("app").factory("HttpRequestVersionInterceptor",a);a.$inject=["VERSION","DESIGN"];function a(c,b){return{request:function(d){if((d.url.lastIndexOf(".html")>0&&d.url.indexOf("views/"+b+"Design/")>=0)||d.url.lastIndexOf(".json")>0){var e=URI(d.url);e.addSearch({v:c});d.url=e.toString()}return d}}}})();
(function(){angular.module("app").config(a);a.$inject=["$stateProvider","$urlRouterProvider","DESIGN","VIRTUAL_BETTING","PROVIDER1","SHOW_REGISTRATION","PROVIDER2","CONFIG","BET_PARAMS","SHOW_OVER_MULTI_EVENT_VIEW","ENABLE_PREPAYMENT"];function a(b,d,o,l,i,f,g,q,k,c,p){d.otherwise("/home");var h=((o=="b"||o=="f")&&c=="true"?"LiveOfferOMEController":"LiveOfferController");var m={"":{templateUrl:"views/"+o+"Design/home/homeUIView.html"},"search@home":{templateUrl:"views/"+o+"Design/search/searchUIView.html",controller:"SearchController",controllerAs:"search"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/sportsSidebar/sportsWithLeaguesUIView.html",controller:"SportWithLeagueController",controllerAs:"sportWithLeague"},"leftSidebarLinks@home":{templateUrl:"views/"+o+"Design/leftSidebarLinks/leftSidebarLinksUIView.html",controller:"SidebarLinksController",controllerAs:"sidebarLinks"},"bonusTip@home":{templateUrl:"views/"+o+"Design/bonusTip/bonusTipView.html",controller:"BonusTipController",controllerAs:"bonusTip"},"marketMovers@home":{templateUrl:"views/"+o+"Design/marketMover/marketMoversUIView.html",controller:"MarketMoverController",controllerAs:"marketMovers"},"timeSlider@home":{templateUrl:"views/"+o+"Design/timeSlider/timeSliderUIView.html",controller:"TimeSliderController",controllerAs:"timeSlider"},"infoContact@home":{templateUrl:"views/"+o+"Design/infoContact/infoContactUIView.html"},"ticket@home":{templateUrl:"views/"+o+"Design/ticket/ticketUIView.html",controller:"TicketController",controllerAs:"ticket"},"ticketSuggestions@home":{templateUrl:"views/"+o+"Design/ticketSuggestions/ticketSuggestionsUIView.html",controller:"TicketSuggestionsController",controllerAs:"ticketSuggestions"},"contest@home":{templateUrl:"views/"+o+"Design/contest/contestUIView.html",controller:"ContestController",controllerAs:"contest"},"jackpot@home":{template:'<realtime-jackpot display-origin="home"></realtime-jackpot>'},"notification@home":{templateUrl:"views/"+o+"Design/notification/notificationUIView.html",controller:"UserNotificationsController",controllerAs:"userNotifications"},"welcome@home":{templateUrl:"views/"+o+"Design/welcome/welcomeUIView.html"},"lastResults@home":{templateUrl:"views/"+o+"Design/results/lastResultsUIView.html",controller:"LastResultsController",controllerAs:"lastResults"},"registrationSidebar@home":{templateUrl:"views/"+o+"Design/registration/registrationSidebar.html"},"superMatches@home":{templateUrl:"views/"+o+"Design/superMatches/superMatchesUIView.html",controller:"SuperMatchesController",controllerAs:"superMatches"},"messages@home":{templateUrl:"views/"+o+"Design/messages/messagesView.html"},"lmtMatch@home":{templateUrl:"views/"+o+"Design/lmt/lmtMatchUIView.html",controller:"LiveMatchController"},"lmtStats@home":{templateUrl:"views/"+o+"Design/lmt/lmtStatsUIView.html",controller:"LiveMatchController"},"recommended@home":{templateUrl:"views/"+o+"Design/recommended/recommendedUIView.html",controller:"RecommendedController",controllerAs:"recommended"}};if(p=="true"){m["prepayment@home"]={templateUrl:"views/"+o+"Design/prepayment/prepaymentUIView.html",controller:"PrepaymentController",controllerAs:"prepayment"}}b.state("home",{"abstract":true,url:"/home?locale",templateUrl:"views/"+o+"Design/home/homeUIView.html",views:m}).state("home.live",function(){var r={url:"/live",views:{"":{templateUrl:"views/"+o+"Design/liveOffer/liveMatchesUIView.html",controller:"LiveOfferController",controllerAs:"live",},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/sportsSidebar/liveSportsUIView.html",controller:"LiveSportController",controllerAs:"liveSport"},"timeSlider@home":{},"superMatches@home":{}},params:{mainContent:"false",virtual:"false"}};if(o=="d"){r.views["lmtMatch@home.live"]={templateUrl:"views/"+o+"Design/lmt/lmtMatchUIView.html",controller:"LiveMatchController"}}r.views["sportsWithLeagues@home"]={templateUrl:"views/"+o+"Design/sportsSidebar/liveSportsUIView.html",controller:"LiveSportController",controllerAs:"liveSport"};return r}()).state("home.overviewlive",function(){var r={url:"/overview",views:{"":{templateUrl:"views/"+o+"Design/liveOffer/liveMatchesUIOverView.html",controller:"LiveOfferOMEController",controllerAs:"live"},"timeSlider@home":{},"superMatches@home":{},"bonusTip@home":{},"marketMovers@home":{},"infoContact@home":{},"leftSidebarLinks@home":{}},params:{mainContent:"false",virtual:"false",type:"overview"}};if(o=="b"||o=="f"){r.views["sportsWithLeagues@home"]={templateUrl:"views/"+o+"Design/sportsSidebar/liveSportsWithFavouritesUIView.html",controller:"LiveSportController",controllerAs:"liveSport"}}else{r.views["sportsWithLeagues@home"]={templateUrl:"views/"+o+"Design/sportsSidebar/liveSportsUIView.html",controller:"LiveSportController",controllerAs:"liveSport"}}return r}()).state("home.multivieweventviewlive",function(){var r={url:"/multivieweventview/:layout",views:{"":{templateUrl:"views/"+o+"Design/liveOffer/liveMatchesUIMultiViewEventView.html",controller:"LiveOfferOMEController",controllerAs:"live",},"timeSlider@home":{},"superMatches@home":{},"bonusTip@home":{},"marketMovers@home":{},"infoContact@home":{},"leftSidebarLinks@home":{}},params:{mainContent:"false",virtual:"false",type:"multiview"}};if(o=="b"||o=="f"){r.views["sportsWithLeagues@home"]={templateUrl:"views/"+o+"Design/sportsSidebar/liveSportWithLeaguesUIView.html",controller:"LiveOfferSportController",controllerAs:"liveSport"}}else{r.views["sportsWithLeagues@home"]={templateUrl:"views/"+o+"Design/sportsSidebar/liveSportsUIView.html",controller:"LiveSportController",controllerAs:"liveSport"}}return r}()).state("home.topMatches",function(){var r={url:"/topMatches",views:{"":{templateUrl:"views/"+o+"Design/topMatches/topMatchesUIView.html",controller:"TopMatchesController",controllerAs:"topMatches"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/sportsSidebar/sportsWithLeaguesUIView.html",controller:"SportWithLeagueController",controllerAs:"sportWithLeague"},"timeSlider@home":{templateUrl:"views/"+o+"Design/timeSlider/timeSliderUIView.html",controller:"TimeSliderController",controllerAs:"timeSlider"},},params:{mainContent:"false"}};if(o=="d"){r.views["homeTop@home.topMatches"]={templateUrl:"views/"+o+"Design/homeTop/homeTop.html",}}return r}()).state("home.topLeagues",function(){var r={url:"/topLeagues",views:{"":{templateUrl:"views/"+o+"Design/topLeagues/topLeaguesUIView.html",controller:"TopLeaguesController",controllerAs:"topLeagues"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/sportsSidebar/sportsWithLeaguesUIView.html",controller:"SportWithLeagueController",controllerAs:"sportWithLeague"},"timeSlider@home":{templateUrl:"views/"+o+"Design/timeSlider/timeSliderUIView.html",controller:"TimeSliderController",controllerAs:"timeSlider"}}};if(o=="d"){r.views["homeTop@home.topLeagues"]={templateUrl:"views/"+o+"Design/homeTop/homeTop.html",}}return r}()).state("home.lastMinuteMatches",{url:"/lastMinuteMatches/:sport",views:{"":{templateUrl:"views/"+o+"Design/lastMinuteMatches/lastMinuteMatchesUIView.html",controller:"LastMinuteMatchesController",controllerAs:"lastMinuteMatches"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/sportsSidebar/sportsWithLeaguesUIView.html",controller:"SportWithLeagueController",controllerAs:"sportWithLeague"},"timeSlider@home":{templateUrl:"views/"+o+"Design/timeSlider/timeSliderUIView.html",controller:"TimeSliderController",controllerAs:"timeSlider"},},params:{mainContent:"false"}}).state("home.bonusMatches",function(){var r={url:"/bonusMatches",views:{"":{templateUrl:"views/"+o+"Design/bonusTip/bonusTipUIView.html",controller:"BonusTipController",controllerAs:"bonusTip"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/sportsSidebar/sportsWithLeaguesUIView.html",controller:"SportWithLeagueController",controllerAs:"sportWithLeague"},"timeSlider@home":{templateUrl:"views/"+o+"Design/timeSlider/timeSliderUIView.html",controller:"TimeSliderController",controllerAs:"timeSlider"},"bonusTip@home":{},},params:{mainContent:"false"}};if(o=="d"){r.views["homeTop@home.bonusMatches"]={templateUrl:"views/"+o+"Design/homeTop/homeTop.html",}}return r}()).state("home.mainContent",function(){var r={url:"",views:{"":{templateUrl:"views/"+o+"Design/mainContent/mainContentUIView.html",controller:"MainController",controllerAs:"main"},"live@home.mainContent":{templateUrl:"views/"+o+"Design/liveOffer/liveMatchesUIView.html",controller:h,controllerAs:"live"},"topMatches@home.mainContent":{templateUrl:"views/"+o+"Design/topMatches/topMatchesUIView.html",controller:"TopMatchesController",controllerAs:"topMatches"},"lastMinuteMatches@home.mainContent":{templateUrl:"views/"+o+"Design/lastMinuteMatches/lastMinuteMatchesUIView.html",controller:"LastMinuteMatchesController",controllerAs:"lastMinuteMatches"}},params:{mainContent:"true",virtual:"false",login:"false"}};if(o=="d"){r.views["upcomingLeaguesWithMatches@home.mainContent"]={templateUrl:"views/"+o+"Design/upcomingLeaguesWithMatches/upcomingLeaguesWithMatchesUIView.html",controller:"UpcomingLeaguesWithMatches",controllerAs:"upcomingMatches"}}return r}()).state("home.leaguesWithMatches",{url:"/leaguesWithMatches",templateUrl:"views/"+o+"Design/leagueWithMatches/leaguesWithMatchesUIView.html",controller:"LeaguesWithMatchesController",controllerAs:"leaguesWithMatches"}).state("home.matchesForSuperCode",{url:"/matchesForSuperCode",templateUrl:"views/"+o+"Design/superMatches/matchesForSuperCodeUIView.html",controller:"MatchesForSuperController",controllerAs:"forSuper"}).state("home.marketMoversPage",{url:"/marketMover",views:{"":{templateUrl:"views/"+o+"Design/marketMover/marketMoversPageUIView.html",controller:"MarketMoverController",controllerAs:"marketMovers"},"marketMovers@home":{},},}).state("home.dailyOffer",function(){var r={url:"/dailyOffer/:day",views:{"":{templateUrl:"views/"+o+"Design/dailyOffer/dailyOfferUIView.html",controller:"DailyOfferController",controllerAs:"dailyOffer"},"dailyOffer@home":{},}};if(o=="d"){r.views["homeTop@home.dailyOffer"]={templateUrl:"views/"+o+"Design/homeTop/homeTop.html",}}return r}()).state("home.ads",{url:"/ads",templateUrl:"views/"+o+"Design/banner/adsBannerUIView.html",}).state("home.special",{url:"/special",templateUrl:"views/"+o+"Design/special/specialUIView.html",controller:"SpecialController",controllerAs:"special"}).state("home.shareSpecial",{url:"/special/:matchId/:matchSport",templateUrl:"views/"+o+"Design/special/specialUIView.html",controller:"SpecialController",controllerAs:"special"}).state("home.results",{url:"/results?locale",views:{"":{templateUrl:"views/"+o+"Design/results/resultsUIView.html",controller:"ResultsController",controllerAs:"results"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/sportsSidebar/resultsSportsUIView.html",controller:"ResultsSportController",controllerAs:"resultsSport"},"lastResults@home":{templateUrl:"views/"+o+"Design/results/lastResultsUIView.html",controller:"LastResultsController",controllerAs:"lastResults"},"timeSlider@home":{},"superMatches@home":{}},params:{live:"0"}}).state("home.ticketStatus",{url:"/ticketStatus?locale&ticketCode&pin&uuid",views:{"":{templateUrl:"views/"+o+"Design/ticketStatus/ticketStatus.html",controller:"TicketStatusController",controllerAs:"ticketStatus"}}}).state("home.searchMatches",{url:"/searchMatches",views:{"":{templateUrl:"views/"+o+"Design/searchMatches/searchMatches.html",controller:"SearchMatchesController",controllerAs:"searchMatches"}}}).state("lostPassword",{url:"/lostPassword",views:{"":{templateUrl:"views/"+o+"Design/lostPassword/lostPasswordUIView.html",controller:"LostPasswordController",controllerAs:"lostPassword"}}}).state("newPassword",{url:"/newPassword?userName&passwordKey",views:{"":{templateUrl:"views/"+o+"Design/lostPassword/newPasswordUIView.html",controller:"NewPasswordController",controllerAs:"newPassword"}}}).state("activate",{url:"/activate?id&em",views:{"":{templateUrl:"views/"+o+"Design/activateAccount/activateUIView.html",controller:"ActivateController",controllerAs:"activate"}}}).state("setPassword",{url:"/setPassword?iu",views:{"":{templateUrl:"views/"+o+"Design/activateAccount/setPasswordUIView.html",controller:"SetPasswordController",controllerAs:"setPassword"}}}).state("sessions",{url:"/admin/sessions",views:{"":{templateUrl:"views/"+o+"Design/admin/sessionsUIView.html",controller:"SessionsController",controllerAs:"sessions"}}}).state("statistics",{url:"/admin/statistics",views:{"":{templateUrl:"views/"+o+"Design/admin/statisticsUIView.html",controller:"StatisticsController",controllerAs:"statistics"}}}).state("home.rules",{url:"/rules",views:{"":{templateUrl:"views/"+o+"Design/rules/rules.html"}}}).state("home.rulesSportsBetting",{url:"/rulesSportsBetting",views:{"":{templateUrl:"views/"+o+"Design/rules/rulesSportsBetting/rulesSportsBetting.html"}}}).state("home.rulesWebService",{url:"/rulesWebService",views:{"":{templateUrl:"views/"+o+"Design/rules/rulesWebService/rulesWebService.html"}}}).state("home.rulesGreyHoundRaces",{url:"/rulesGreyHoundRaces",views:{"":{templateUrl:"views/"+o+"Design/rules/rulesGreyHoundRaces/rulesGreyHoundRaces.html"}}}).state("home.rulesLuckySix",{url:"/rulesLuckySix",views:{"":{templateUrl:"views/"+o+"Design/rules/rulesLuckySix/rulesLuckySix.html"}}}).state("home.rulesContest",{url:"/rulesContest",views:{"":{templateUrl:"views/"+o+"Design/rules/rulesContest/rulesContest.html"}}}).state("home.description",{url:"/description",views:{"":{templateUrl:"views/"+o+"Design/description/description.html"}}}).state("home.download",{url:"/download",views:{"":{templateUrl:"views/"+o+"Design/download/download.html"}}}).state("home.job",{url:"/job",views:{"":{templateUrl:"views/"+o+"Design/job/job.html"}}}).state("home.betplaces",{url:"/betPlaces",views:{"":{templateUrl:"views/"+o+"Design/betPlaces/betPlaces.html"}}}).state("home.about",{url:"/about",views:{"":{templateUrl:"views/"+o+"Design/aboutUs/about.html"}}}).state("home.help",{url:"/help",views:{"":{templateUrl:"views/"+o+"Design/help/help.html"}}}).state("home.wayOfPayin",{url:"/wayOfPayIn",views:{"":{templateUrl:"views/"+o+"Design/wayOfPayIn/wayOfPayIn.html"}}}).state("home.wayOfPayinUg",{url:"/wayOfPayinUg",views:{"":{templateUrl:"views/"+o+"Design/wayOfPayIn/wayOfPayinUg.html"}}}).state("home.pmv",{url:"/profileMisionVision",views:{"":{templateUrl:"views/"+o+"Design/profileMisionVision/profileMisionVision.html"}}}).state("home.bettinghelp",{url:"/bettingHelp",views:{"":{templateUrl:"views/"+o+"Design/bettingHelp/bettingHelp.html"}}}).state("home.ban18",{url:"/ban18",views:{"":{templateUrl:"views/"+o+"Design/ban18/ban18.html"}}}).state("home.contact",{url:"/contact",views:{"":{templateUrl:"views/"+o+"Design/contact/contact.html"}}}).state("home.responsibleBetting",{url:"/responsibleBetting",views:{"":{templateUrl:"views/"+o+"Design/responsibleBetting/responsibleBetting.html"}}}).state("home.promo",{url:"/promotion",views:{"":{templateUrl:"views/"+o+"Design/promotion/promotion.html"}}});if(l=="true"){b.state("home.virtualBetting",{url:"/virtualBetting",views:{"":{templateUrl:"views/"+o+"Design/virtualBetting/virtualBetting.html",controller:"VirtualBettingController",controllerAs:"virtualBetting"},"live@home.virtualBetting":{templateUrl:"views/"+o+"Design/liveOffer/liveMatchesUIView.html",controller:"LiveOfferController",controllerAs:"live"},"ticket@home":{templateUrl:"views/"+o+"Design/ticket/ticketUIView.html",controller:"TicketController",controllerAs:"ticket"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/virtualBetting/virtualBettingMenuUIView.html",controller:"LiveSportController",controllerAs:"liveSport"},"timeSlider@home":{},"marketMovers@home":{},"bonusTip@home":{},"search@home":{},"ticketSuggestions@home":{},"contest@home":{},"leftSidebarLinks@home":{},"superMatches@home":{},"lmtMatch@home":{},"lmtStats@home":{},"lastResults@home":{}},params:{virtual:"true",mainContent:"false",},}).state("home.games",{url:"/game/:gameId",views:{"":{templateUrl:"views/"+o+"Design/virtualGame/virtualGame.html",controller:"VirtualGamesController",controllerAs:"virtualGamesController"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/virtualBetting/virtualBettingMenuUIView.html",controller:"LiveSportController",controllerAs:"liveSport"},"live@home.virtualBetting":{},"ticket@home":{},"timeSlider@home":{},"marketMovers@home":{},"bonusTip@home":{},"search@home":{},"ticketSuggestions@home":{},"contest@home":{},"leftSidebarLinks@home":{},"superMatches@home":{},"lmtMatch@home":{},"lmtStats@home":{},"lastResults@home":{}}}).state("home.virtualBettingHelp",{url:"/virtualBettingHelp",views:{"":{templateUrl:"views/"+o+"Design/virtualBettingHelp/virtualBettingHelp.html"},"ticket@home":{templateUrl:"views/"+o+"Design/ticket/ticketUIView.html",controller:"TicketController",controllerAs:"ticket"},"sportsWithLeagues@home":{templateUrl:"views/"+o+"Design/virtualBetting/virtualBettingMenuUIView.html",controller:"LiveSportController",controllerAs:"liveSport"},"timeSlider@home":{},"marketMovers@home":{},"bonusTip@home":{},"search@home":{},"ticketSuggestions@home":{},"contest@home":{},"leftSidebarLinks@home":{},"superMatches@home":{},"lmtMatch@home":{},"lmtStats@home":{},"lastResults@home":{}}})}if(k.showContest){b.state("home.contestPage",{url:"/contest",views:{"":{templateUrl:"views/"+o+"Design/contest/contestPageUIView.html",controller:"ContestController",controllerAs:"contest"},"contest@home":{},},params:{mainContent:"false"}})}if(f=="true"){b.state("registration",function(){var r={url:"/registration",views:{"":{}},};if(q=="ug"){r.views[""]={templateUrl:"views/"+o+"Design/registration/registrationSimpleUIView.html",controller:"RegistrationController",controllerAs:"registration"}}else{r.views[""]={templateUrl:"views/"+o+"Design/registration/registrationUIView.html",controller:"RegistrationController",controllerAs:"registration"}}return r}())}if(o==="b"){b.state("login",{url:"/login",onEnter:j})}if(o==="l"){b.state("externalDemo",{url:"/externalDemo",views:{"":{templateUrl:"views/"+o+"Design/demo/externalDemoUIVIew.html"}}})}if(o==="d"||o==="l"||o==="x"){b.state("casino",{url:"/casino",views:{"":{templateUrl:"views/"+o+"Design/casino/casinoUIView.html",controller:"SecondCasinoController",controllerAs:"secondCasinoController"}}}).state("casino-game-display",{views:{"":{template:e}},params:{hd:"",providerName:""}})}b.state("casino3",{url:"/casinopage",views:{"":{templateUrl:"views/"+o+"Design/casino/casino3UIView.html",controller:"SecondCasinoController",controllerAs:"secondCasinoController"}}});b.state("virtualGame",{url:"/game/:gameId",views:{"":{templateUrl:"views/"+o+"Design/virtualGames/virtualGames.html",controller:"VirtualGamesController",controllerAs:"virtualGamesController"}}});if(o!="d"&&o!="l"&&o!="x"){b.state("casino",{url:"/casino",views:{"":{templateUrl:"views/"+o+"Design/casino/casino2UIView.html",controller:"WalletIframeController",controllerAs:"wallet"}}}).state("casino-game-display",{views:{"":{template:e}},params:{hd:"",providerName:""}})}b.state("mobileInfo",{url:"/mobileInfo",views:{"":{templateUrl:"views/"+o+"Design/mobile/mobileUIView.html"}}});b.state("elbet-dev",{url:"/elbet-dev",views:{"":{templateUrl:"views/"+o+"Design/dev/elbet-dev.html",controller:"ElbetController",controllerAs:"elbetController"}}});if(k.showJackpot){b.state("home.jackpot",{url:"/jackpot",views:{"":{templateUrl:"views/"+o+"Design/jackpot/jackpotPageUIView.html",controller:"JackpotController",controllerAs:"jackpot"},"jackpot@home":{}}})}e.$inject=["$stateParams"];function e(r){return"<casino-game-display hd='"+r.hd+"' provider-name='"+r.providerName+"' class='casino-game-display-wrapper'></casino-game-display>"}function n(){return"<virtual-game-display></virtual-game-display>"}j.$inject=["$state"];function j(r){r.go("home.mainContent",{login:"true"})}}})();
(function(){angular.module("app").config(a).run(b);a.$inject=["$translateProvider","DEFAULT_LANGUAGE","ngDialogProvider","VERSION","$httpProvider"];function a(g,f,d,e,c){g.useStaticFilesLoader({prefix:"translations/",suffix:".json?v="+e});g.preferredLanguage(f);g.useSanitizeValueStrategy("escaped");g.useCookieStorage();d.setDefaults({className:"ngdialog-theme-default",showClose:true,closeByEscape:true,disableAnimation:true});c.interceptors.push("HttpRequestVersionInterceptor")}b.$inject=["$rootScope","$state","$translate","UserService","UserNotificationsService","ActiveSportsService","BetParamsService","ProviderService","PrepaymentService","SocketService","JackpotService","$locale","ODD_SEPARATOR","$cookies","EXTERNAL_LINKS","DEFAULT_LANGUAGE","TELEPHONE_EXAMPLE","SHOW_WAY_OF_PAYMENT","CONFIG","MENU_LINKS","BET_PARAMS","base64","$window","ImageSliderService","ngDialog","SHOW_REGISTRATION","SHOW_TERMS_AND_PRIVACY","VIRTUAL_BETTING","SHOW_SETTINGS","VIRTUAL_BETTING_PARAMS","PAYMENT_PARAMS","IS_MULTYBET","SHOW_FREEBET","SHOW_CONTACT_FORM","SHOW_LIVE_BETTING","SHOW_SUPER","MARKET_MOVER_HISTORY_GRAPHICS","SHOW_RSS_FEED","GROUP_BY_PROVIDER_SUBTYPE","LUCKY_GUESS_TICKET_DETAILS_URL","LUCKY_GUESS_URL","NSOFT_LUCKY_SIX_URL","NS7_LUCKY_SIX_URL","PROVIDER1","PROVIDER2","PROVIDER3","SHOW_MESSAGES","LMT_URL","ENABLE_LMT","ENABLE_CASINO_LOBBY","$sce","LUCKY_SIX_TICKET_DETAILS_URL","LUCKY_SIX_BASE_URL","LUCKY_SIX_IFRAME_RESIZE_URL","NS7_GREYHOUNDS_URL","NS7_LUCKY_X_URL","NS7_VIRTUAL_HORSES_URL","NS7_VIRTUAL_GREYHOUNDS_URL","BTAG","$sessionStorage","PROVIDER4","NETREFER_PREFIX","DESIGN","COMPANY","PROVIDER5","ALEA_LUCKY_SIX_URL","PRAG_PICTURES_URL","ELBET_BASE_URL","ENABLE_VIRTUAL_GAMES","ALLOWED_MESSAGE_ORIGINS","GOOGLE_ANALYTICS","SHOW_OVER_MULTI_EVENT_VIEW","EXEFEED_VIRTUAL_GAMES_URL","SHOW_OVER_MULTI_EVENT_VIEW2","ELBET_BASE_URL_EUR","ENABLE_PAYOUT_AT_BETTING_SHOP","ENABLE_TAN","CASINO_CURRENT_WINNERS","MAX_NUMBER_OF_MATCHES_IN_MULTI_VIEW","FAZI_BASE_LINK_URL","WALLET_VIRTUAL_GAME_URL","ENABLE_PREPAYMENT","ENABLE_WEBSOCKET"];function b(E,ap,u,ak,O,f,m,P,r,aw,g,aU,U,j,ah,au,T,D,B,at,aN,aB,Z,W,V,aM,c,aP,ag,av,q,ao,aj,S,Y,x,d,aR,ad,ai,aI,ax,Q,N,L,K,e,aA,am,M,ay,aQ,h,X,C,aa,aL,I,s,aq,H,A,ar,aE,G,k,aF,ac,t,aS,al,aG,R,af,az,l,J,ab,aK,w,aH,i,aD){E.externalLinks=ah;E.menuLinks=at;E.telephoneExample=T;E.showWayOfPayment=D;E.showRegistration=aM;E.showTermsAndPrivacy=c;E.virtualBetting=aP;E.showSettings=ag;E.showContest=(aN!=null&&aN.showContest!=null?aN.showContest.toString():"false");E.showFreeBet=aj;E.virtualBettingParams=av;E.config=B;E.company=aE;var aJ={enable:(aN!=null&&aN.enablePaymentCard!=null?aN.enablePaymentCard.toString():null)};E.paymentParams=aJ;E.enableTransfer=(aN!=null&&aN.enableTransfer!=null?aN.enableTransfer.toString():"false");E.isMultyBet=ao;E.showContactForm=S;E.showLiveBetting=Y;E.showSuper=x;E.marketMoverHistoryGraphics=d;E.enableVoucher=(aN!=null&&aN.enableVoucher!=null?aN.enableVoucher.toString():"false");E.enableIPayVoucher=(aN!=null&&aN.enableIPay!=null?aN.enableIPay.toString():"false");E.showRssFeed=aR;E.eTicketExclusively=(aN!=null&&aN.eTicketExclusively!=null?aN.eTicketExclusively.toString():"false");E.groupByProviderSubType=ad;E.luckyGuessUrl=aI;E.luckyGuessTicketDetailsUrl=ai;E.showMessages=e!=null&&e=="true";E.nsoftLuckySixUrl=ax;E.ns7LuckySixUrl=Q;E.provider1=N;E.provider2=L;E.provider3=K;E.provider4=H;E.provider5=G;E.enableLMT=am;E.enableCasinoLobby=M;E.luckySixTicketDetailsUrl=aQ;E.luckySixIFrameResizeUrl=X;E.luckySixBaseUrl=h;E.ns7GreyhoundsUrl=C;E.ns7LuckyXUrl=aa;E.ns7VirtualHorsesUrl=aL;E.ns7VirtualGreyhoundsUrl=I;E.aleaLuckySixUrl=k;E.pragPicturesUrl=aF;E.showOverMultiEventView=aG;E.maxNumberOfMatchesInMultiView=aK;E.showOverMultiEvent2=af;E.exefeedVirtualGamesUrl=R;E.enablePayoutAtBettingShop=l;E.enableTan=J;E.casinoCurrentWinners=ab;E.faziBaseLinkUrl=w;E.walletVirtualGameUrl=aH;E.enableJackpot=(aN!=null&&aN.showJackpot!=null?aN.showJackpot.toString():"false");E.enablePrepayment=i;E.googleAnalitycs={enable:al.enable!=null&&al.enable=="true",cookieDomain:"",trackId:""};if(al.cookieDomain!=null&&al.cookieDomain!=""){E.googleAnalitycs.cookieDomain=al.cookieDomain.replace("'","").replace("'","")}if(al.trackId!=null&&al.trackId!=""){E.googleAnalitycs.trackId=al.trackId.replace("'","").replace("'","")}if(i=="true"){r.init()}if(E.enableJackpot=="true"){g.init()}if(aD=="true"){aw.connect()}F();E.elbetBaseUrl=ac;E.elbetBaseUrlEur=az;E.enableVirtualGames=t;var ae={leagues:50,tipTypeGroups:75,sports:100};E.favoriteParams=ae;if(ar=="d"){ak.getGeoIpLan(function(aV){if(aV!=null){if(aV.string!=null){E.locale=aV.string;u.use(E.locale)}}if(aV==null||aV.string==null){aC()}ak.changeServerLanguage(E.locale,function(){})});m.getFormats(function(aV){if(aV!=null){E.odd_separator=aV.oddSeparator;aU.NUMBER_FORMATS.DECIMAL_SEP=aV.decimalSeparator;aU.NUMBER_FORMATS.GROUP_SEP=aV.thousandSeparator}})}else{aC();ak.changeServerLanguage(E.locale,function(){})}function aC(){var aV=j.get("NG_TRANSLATE_LANG_KEY");if(aV!=null){E.locale=aV.replace(/"/g,"")}else{E.locale=au}}function an(){E.loadApp=true;E.showApp=true;if(ar=="l"){W.getImages("COMMERCIAL",function(aW){if(aW.ImageWithTranslations!=null&&aW.ImageWithTranslations.length>0){var aV=V.open({template:"views/"+ar+"Design/dialog/commercialsDialog.html",showClose:true,closeByDocument:true,closeByEscape:true,className:"ngdialog-theme-default commercial-popup"});setTimeout(function(){aV.close()},5000)}})}}E.showApp=false;E.loadApp=false;E.showImage=true;if(s!=undefined){aq.btag=A+s.split("#")[0]}if(aA){E.LMT_URL=ay.trustAsResourceUrl(aA.replace("$lang",(E.locale=="sr"?"srl":E.locale)))}v();aO();p();function v(){aU.NUMBER_FORMATS.PATTERNS[1].negSuf="\u00a0\u00a4";aU.NUMBER_FORMATS.PATTERNS[1].posSuf="\u00a0\u00a4";aU.NUMBER_FORMATS.PATTERNS[1].negPre="-";aU.NUMBER_FORMATS.PATTERNS[1].posPre=""}function aO(){E.betParams=aN;console.log(aN);if(E.betParams.decimalOddSeparator!=null){U=E.betParams.decimalOddSeparator}else{U="."}if(E.betParams.ccy!=null){aU.NUMBER_FORMATS.CURRENCY_SYM=E.betParams.ccy;u("user.ccy_"+E.betParams.ccy).then(function(aV){if(aV!=null){aU.NUMBER_FORMATS.CURRENCY_SYM=aV}})}if(E.betParams.decimalCurrencySeparator!=null){aU.NUMBER_FORMATS.DECIMAL_SEP=E.betParams.decimalCurrencySeparator}if(E.betParams.groupCurrencySeparator!=null){aU.NUMBER_FORMATS.GROUP_SEP=E.betParams.groupCurrencySeparator}z();o();aT();y()}function z(){ak.isLogedUserFromServer(function(aW){if(!aW){if(Z.localStorage.saveCr!=null&&Z.localStorage.saveCr=="true"){var aV=ak.getUsernameAndPasword();if(aV!=null&&(Z.localStorage.logout==null||Z.localStorage.logout=="false")){ak.login(aB.decode(aV.d1),aB.decode(aV.d2),function(aX){ak.pollUsernameFromServer(true,function(aY){});Z.location.reload()})}else{an()}if(Z.localStorage.logout=="true"){Z.localStorage.logout=false;Z.localStorage.saveCr=false}}else{an()}}else{an()}})}function p(){E.$on("$stateChangeStart",function(aY,aV,aX,aZ,aW){E.stateName=aV.name;E.stateParams=aX;if(aV.name.indexOf("profile")!=-1){ak.isLogedUserFromServer(function(a0){if(!a0){aY.preventDefault();ap.go("home.mainContent")}})}})}function o(){f.getTranslatedActiveSports(function(aV){})}function aT(){ak.getFullLocale(function(aV){E.fullLocale=aV.string})}function y(){P.pollEnabledProviders()}function F(){window.addEventListener("message",n)}function n(aY){var aV=aY.origin||aY.originalEvent.origin;if(aS!=null){var aZ=aS.split("@");var a0=false;for(var aW in aZ){var aX=aZ[aW];if(aV==aX){a0=true;break}}if(!a0){return}E.$broadcast("messageReceivedFromForeignOrigin",{origin:aV,message:aY.data})}}}})();
(function(){angular.module("app").service("DomainService",a);a.$inject=["CONTEXT","$location","OFFER_SERVER","$http"];function a(i,g,c,k){var f={timeDifference:0};var b={timeDifference:0};function e(){return g.protocol()+"://"+g.host()+":"+g.port()+"/"+i}function d(){var o="ws";if(g.protocol()==="https"){o="wss"}return o+"://"+g.host()+":"+g.port()+"/"+i+"/ws/stomp"}function n(){return c!=null&&c!=""?c:e()}function h(){return g.protocol()+"://"+g.host()+":"+g.port()}function l(p){var o=Date.now();k.get(e()+"/serverTime.json").success(function(r){var q=Date.now()-o;console.log(q);p(r.serverTime+q)}).error(function(){p(null)})}function j(p){var o=Date.now();k.get(n()+"/serverTime.json").success(function(r){var q=Date.now()-o;console.log(q);p(r.serverTime+q)}).error(function(){p(null)})}function m(){l(function(o){f.timeDifference=o!=null?Date.now()-o:0;console.log(f)});if(c!=null&&c!=""){j(function(o){b.timeDifference=o!=null?Date.now()-o:0;console.log(b)})}}m();return{getIBetServer:e,getIBetOfferServer:n,getAddress:h,getIBetWsStompClient:d,serverData:f,offerServerData:b}}})();
(function(){angular.module("app").config(a);a.$inject=["$stateProvider","DESIGN","PAYMENT_PARAMS","BET_PARAMS"];function a(e,b,c,d){e.state("profile",{url:"/profile",templateUrl:"views/"+b+"Design/profile/profileUIView.html",views:{"":{templateUrl:"views/"+b+"Design/profile/profileUIView.html"},"info@profile":{templateUrl:"views/"+b+"Design/profileInfo/profileInfoUIView.html",controller:"ProfileInfoController",controllerAs:"profileInfo"}},redirectTo:"profile.tickets"}).state("profile.tickets",{url:"/tickets",views:{"":{templateUrl:"views/"+b+"Design/ticketsPreview/ticketsPreviewUIView.html",controller:"TicketsPreviewController",controllerAs:"ticketsPreview",}}}).state("profile.withdrawal",{url:"/withdrawal",views:{"":{templateUrl:"views/"+b+"Design/withdrawal/withdrawalUIView.html",controller:"WithdrawalController",controllerAs:"withdrawal"}}}).state("profile.wayOfPayinHelp",{url:"/wayOfPayinHelp",views:{"":{templateUrl:"views/"+b+"Design/withdrawal/withdrawalPaymentByAccount.html"}}}).state("profile.payoutBankAccount",{url:"/payoutBankAccount",views:{"":{templateUrl:"views/"+b+"Design/withdrawal/withdrawalBankAccount.html",controller:"WithdrawalController",controllerAs:"withdrawal"}}}).state("profile.payoutBettingShop",{url:"/payoutBettingShop",views:{"":{templateUrl:"views/"+b+"Design/withdrawal/withdrawalBettingShop.html",controller:"WithdrawalController",controllerAs:"withdrawal"}}}).state("profile.transactions",{url:"/transactions",views:{"":{templateUrl:"views/"+b+"Design/transactions/transactionsUIView.html",controller:"TransactionsController",controllerAs:"transactions"},auth:function(f){return f!="anonymousUser"}}}).state("profile.changePassword",{url:"/changePassword",views:{"":{templateUrl:"views/"+b+"Design/changePassword/changePasswordUIView.html",controller:"ChangePasswordController",controllerAs:"changePassword"}}}).state("profile.details",{url:"/details",views:{"":{templateUrl:"views/"+b+"Design/profileDetails/profileDetailsUIView.html",controller:"ProfileDetailsController",controllerAs:"profileDetails",}}}).state("profile.limits",{url:"/limits",views:{"":{templateUrl:"views/"+b+"Design/limits/limitsUIView.html",controller:"LimitController",controllerAs:"limit"}}}).state("profile.settings",{url:"/settings",views:{"":{templateUrl:"views/"+b+"Design/settings/settingsUIView.html",controller:"SettingsController",controllerAs:"settings"}}}).state("profile.messages",{url:"/messages",views:{"":{templateUrl:"views/"+b+"Design/messages/messagesUIView.html"}}}).state("profile.card",{url:"/card?reqUuid&status&signature&EMSID",reloadOnSearch:false,views:{"":{templateUrl:"views/"+b+"Design/profileAvans/profileAvansUIView.html",controller:"PaymentController",controllerAs:"payment"}}}).state("profile.settingsFavorites",{url:"/settingsFavorites",views:{"":{templateUrl:"views/"+b+"Design/settings/settingsFavoritesUIView.html",controller:"FavoritesAdminController",controllerAs:"admin"}}}).state("profile.settingsModules",{url:"/settingsModules",views:{"":{templateUrl:"views/"+b+"Design/settings/settingModuleUIView.html",controller:"SettingsController",controllerAs:"settings"}}}).state("profile.generateTan",{url:"/generateTan",views:{"":{templateUrl:"views/"+b+"Design/generateTan/generateTanUIView.html",controller:"GenerateTanController",controllerAs:"tan"}}});if(d!=null&&d.enableTransfer!=null&&d.enableTransfer.toString()=="true"){e.state("profile.moneyTransferToAccount",{url:"/moneyTransferToAccount",views:{"":{templateUrl:"views/"+b+"Design/withdrawal/moneyTransferToAccount.html",controller:"TransferController",controllerAs:"transfer"}}})}if(d!=null&&d.enablePaymentCard!=null&&d.enablePaymentCard.toString()=="true"){e.state("profile.paymentCard",{url:"/paymentCard?reqUuid",reloadOnSearch:false,views:{"":{templateUrl:"views/"+b+"Design/profileAvans/paymentUIView.html",controller:"PaymentGatewayController",controllerAs:"payment"}}})}if(d!=null&&d.enableVoucher!=null&&d.enableVoucher.toString()=="true"){e.state("profile.activateVoucher",{url:"/activateVoucher",views:{"":{templateUrl:"views/"+b+"Design/activateVoucher/activateVoucherUIView.html",controller:"ActivateVoucherController",controllerAs:"voucher"}}})}if(d!=null&&d.enableIPay!=null&&d.enableIPay.toString()=="true"){e.state("profile.activateIpayVoucher",{url:"/activateIpayVoucher",views:{"":{templateUrl:"views/"+b+"Design/activateIpayVoucher/activateIpayVoucherUIView.html",controller:"IPayVoucherController",controllerAs:"iPayVoucher"}}})}}})();
(function(){angular.module("app").controller("ElbetController",a);a.$inject=["$sce","UserService","ProviderService","$rootScope","$scope"];function a(h,e,f,i,j){var c=this;c.loading=true;c.url={url:i.elbetBaseUrl};c.trustSrc=g;c.isEnabledProvider=b;d();function d(){var k=angular.element(document.querySelector("#top-view"));k.removeClass("content");e.getSessionIdWithCallback(function(l){e.getUserAccountWithCallback(function(m){if(m!=null&&m.userUuid!=null){c.url.url+="?sessionId="+l.string;c.url.url+="&userUuid="+m.userUuid;c.url.url+="&locale="+i.fullLocale}c.loading=false})})}function g(k){return h.trustAsResourceUrl(k)}function b(k){return k!=null&&k!=""&&f.isEnabled(k)}}})();
(function(){angular.module("app.oddFormater",[])})();
(function(){angular.module("app.oddFormater").filter("showOdd",b);b.$inject=["ODD_SEPARATOR","$rootScope","DESIGN"];function b(f,e,d){return function(g){if(d=="d"&&f!=e.odd_separator&&e.odd_separator!=null){f=e.odd_separator}if(g<=1){return"-"}var h=c(g);if(h!=a()&&f!="."&&h.toString().indexOf(".")>-1){h=h.toString().replace(".",f)}return h}}function a(){return"-"}function c(d){if(Number(d)!=null){var e=Number(d);if(Number(d)<10){e=(Math.round(e*100)/100).toFixed(2)}else{if(d>=10&&d<100){e=(Math.round(e*100)/100).toFixed(1)}else{if(d>=100){e=(Math.round(e*100)/100).toFixed(0)}}}if(e>1){return e}else{return a()}}return a()}})();
(function(){angular.module("app.popup",[])})();
(function(){angular.module("app.popup").controller("popupCtrl",a).controller("popupCtrlNested",b);a.$inject=["$scope"];function a(c){c.popup_state=0;c.togglePopupClass=function(){c.popup_state=!c.popup_state}}b.$inject=["$scope"];function b(c){c.popup_state=false;c.popup_state_nested=false;c.togglePopupClass=function(){c.popup_state=!c.popup_state;c.popup_state_nested=false};c.togglePopupClassNested=function(){c.popup_state_nested=!c.popup_state_nested}}})();
(function(){angular.module("app.animateOnChange",[])})();
(function(){angular.module("app.animateOnChange").directive("animateOnChange",a);a.$inject=["$animate","$timeout","$rootScope","LiveOfferService","DESIGN"];function a(f,d,c,e,b){return function(h,i,g){h.$watch(g.animateOnChange,function(j,k){if(!e.isVirtual()){if(j!=k){var l=j>k?"change-up":"change-down";f.addClass(i,l).then(function(){var m=0;if(b=="f"){m=600}setTimeout(function(){f.removeClass(i,l)},m)})}}})}}})();
(function(){angular.module("app.odd",[])})();
(function(){angular.module("app.odd").directive("odd",a);a.$inject=["DESIGN"];function a(c){return{restrict:"E",scope:{matchCode:"=",tipTypeCode:"=",tipTypeValue:"=",selected:"&selected",tipTypeTag:"="},link:d,controller:b,controllerAs:"oddcontroller",templateUrl:"views/"+c+"Design/odd/odd.html"};function d(f,h){var j=f.selected();if(j!=null&&j(null,f.matchCode,f.tipTypeCode)){angular.element(h.children()[0]).addClass("selected")}f.addRemoveBet=function(){if(j!=null&&j(null,f.matchCode,f.tipTypeCode)){angular.element(h.children()[0]).addClass("selected")}else{angular.element(h.children()[0]).removeClass("selected")}};function e(l,k){if(j!=null&&j(null,f.matchCode,f.tipTypeCode)){angular.element(h.children()[0]).addClass("selected")}else{angular.element(h.children()[0]).removeClass("selected")}}var g=f.$on("ticket-changed",e);function i(){g()}f.$on("$destroy",i)}}b.$inject=["$scope","$state"];function b(c,d){var g;var e=this;c.$watch(function(){return c.matchCode},function(h){c.addRemoveBet();if(g){g()}g=c.$on("tip-type-"+c.matchCode+"-"+c.tipTypeCode,function(j,i){c.addRemoveBet()})});function f(){g()}c.$on("$destroy",f);e.state=d}})();
(function(){angular.module("app.coockiesConsent",[])})();
(function(){angular.module("app.coockiesConsent").directive("consent",b);b.$inject=["DESIGN"];function b(c){return{scope:{},templateUrl:"views/"+c+"Design/coockiesConsent/coockiesConsent.html",controller:a}}a.$inject=["$scope","$cookies","$translate"];function a(c,d,f){f("coockie.consent.confirm").then(function(g){c.coockieConsentConfirm=g});f("coockie.consent.msg").then(function(g){c.coockieConsentMsg=g});var e=d.get("consent");c.consent=function(i){if(i===undefined){return e}else{if(i){var g=new Date(),h=new Date(g.getFullYear(),g.getMonth()+12,g.getDate());d.put("consent",true,{expires:h});e=true}}}}})();
(function(){angular.module("app.translationView",[])})();
(function(){angular.module("app.translationView").directive("translateRules",h).directive("translateAboutUs",a).directive("translateHelp",j).directive("profileMisionVision",d).directive("terms",i).directive("privacy",u).directive("bettingHelp",o).directive("ban18",g).directive("contact",q).directive("responsibleBetting",t).directive("virtualBettingHelp",s).directive("contestPageInfoTxt",n).directive("jackpotPageInfoTxt",l).directive("wayOfPayinAccounts",k).directive("profileAvansHelp",e).directive("rulesSportsBetting",f).directive("rulesWebService",b).directive("rulesGreyHoundRaces",c).directive("rulesLuckySix",r).directive("rulesContest",m).directive("ipayHelp",p);h.$inject=["DESIGN","$rootScope"];function h(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.gamesRules+"_"+v.locale+".html"}}a.$inject=["DESIGN","$rootScope"];function a(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.aboutUs+"_"+v.locale+".html"}}j.$inject=["DESIGN","$rootScope"];function j(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.help+"_"+v.locale+".html"}}d.$inject=["DESIGN","$rootScope"];function d(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.profileMisionVision+"_"+v.locale+".html"}}i.$inject=["DESIGN","$rootScope"];function i(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/terms/termsView-"+v.config+"_"+v.locale+".html"}}u.$inject=["DESIGN","$rootScope"];function u(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/privacy/privacyView-"+v.config+"_"+v.locale+".html"}}o.$inject=["DESIGN","$rootScope"];function o(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.bettingHelp+"_"+v.locale+".html"}}g.$inject=["DESIGN","$rootScope"];function g(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.ban18+"_"+v.locale+".html"}}q.$inject=["DESIGN","$rootScope"];function q(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.contact+"_"+v.locale+".html"}}t.$inject=["DESIGN","$rootScope"];function t(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.responsibleBetting+"_"+v.locale+".html"}}s.$inject=["DESIGN","$rootScope"];function s(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+v.menuLinks.virtualBettingHelp+"_"+v.locale+".html"}}n.$inject=["DomainService"];function n(v){return{restrict:"E",templateUrl:function(){return v.getIBetServer()+"/getContestTemplate.html"}}}l.$inject=["DomainService"];function l(v){return{restrict:"E",templateUrl:function(){return v.getIBetServer()+"/getJackpotTemplate.html"}}}k.$inject=["DESIGN","$rootScope"];function k(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/wayOfPayIn/wayOfPayinAccounts_"+v.locale+".html"}}e.$inject=["DESIGN","$rootScope"];function e(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/profileAvans/profileAvansHelp_"+v.locale+".html"}}f.$inject=["DESIGN","$rootScope"];function f(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/rules/rulesSportsBetting/rulesSportsBetting_"+v.locale+".html"}}b.$inject=["DESIGN","$rootScope"];function b(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/rules/rulesWebService/rulesWebService_"+v.locale+".html"}}c.$inject=["DESIGN","$rootScope"];function c(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/rules/rulesGreyHoundRaces/rulesGreyHoundRaces_"+v.locale+".html"}}m.$inject=["DESIGN","$rootScope"];function m(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/rules/rulesContest/rulesContest_"+v.locale+".html",controller:"HomeController",controllerAs:"home"}}r.$inject=["DESIGN","$rootScope"];function r(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/rules/rulesLuckySix/rulesLuckySix_"+v.locale+".html"}}p.$inject=["DESIGN","$rootScope"];function p(w,v){return{restrict:"E",scope:{},templateUrl:"views/"+w+"Design/activateIpayVoucher/ipayHelp.html"}}})();
(function(){angular.module("app.perfect_scrollbar",[])})();
(function(){angular.module("app.perfect_scrollbar").directive("perfectScrollbar",["$parse","$window",function(b,c){var a=["handlers","wheelSpeed","wheelPropagation","swipePropagation","minScrollbarLength","maxScrollbarLength","useBothWheelAxes","useKeyboard","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","theme"];return{restrict:"EA",transclude:true,template:"<div><div ng-transclude></div></div>",replace:true,link:function(k,e,j){var m=angular.element(c);var n={};for(var h=0,f=a.length;h<f;h++){var d=a[h];if(j[d]!==undefined){n[d]=b(j[d])()}}k.$evalAsync(function(){e.perfectScrollbar(n);var i=b(j.onScroll);e.scroll(function(){var p=e.scrollTop();var o=e.prop("scrollHeight")-e.height();var q=e.scrollLeft();var l=e.prop("scrollWidth")-e.width();k.$apply(function(){i(k,{scrollTop:p,scrollHeight:o,scrollLeft:q,scrollWidth:l})})})});k.$watch(function(){return e.prop("scrollHeight")},function(l,i){if(l){g("contentSizeChange")}});function g(i){k.$evalAsync(function(){if(j.scrollDown=="true"&&i!="mouseenter"){setTimeout(function(){$(e).scrollTop($(e).prop("scrollHeight"))},100)}e.perfectScrollbar("update")})}e.on("mouseenter",function(){g("mouseenter")});if(j.refreshOnChange){k.$watchCollection(j.refreshOnChange,function(){g()})}if(j.refreshOnResize){m.on("resize",function(){g()})}e.on("$destroy",function(){m.off("resize",function(){g()});e.perfectScrollbar("destroy")})}}}])})();
(function(){angular.module("app.offer",["offer.leagueWithMatches","offer.special","offer.bonusTip","offer.liveOffer","offer.liveSpecialDetails","offer.sportWithLeague","offer.topMatches","offer.topLeagues","offer.lastMinuteMatches","offer.favorites","offer.timeSlider","offer.match","offer.shortMatchPreview","offer.virtualBetting","offer.casino","offer.superMatches","offer.walletIframe","offer.dailyOffer","offer.lmt","offer.casino-game","offer.casino-game-display","offer.upcomingLeaguesWithMatches","offer.inPlay","offer.searchMatches","offer.recommended","offer.virtualGames","offer.liveMatchesOverViewDetails"])})();
(function(){angular.module("app.main",["main.marketMover","main.search","main.ticketStatus","main.registration","main.imageSlider","main.lostPassword","main.sidebarLinks","main.ticketSuggestions","main.sessions","main.statistics","main.userNotifications","main.contest","main.contact","main.locationForDisplay","main.gameDescription","main.rssFeed","main.downloads","main.banner","main.prepayment","main.jackpot"])})();
(function(){angular.module("app.main").controller("MainController",a);a.$inject=["ngDialog","$stateParams","DESIGN","$rootScope"];function a(g,f,c,b){var e=this;d();function d(){if(f.login!=null&&f.login=="true"&&b.user=="anonymousUser"){g.open({template:"views/"+c+"Design/loginPage/loginUIView.html",className:"ngdialog-theme-default login-page-dialog"})}}}})();
(function(){angular.module("app.profile",["profile.ticketsPreview","profile.transactions","profile.withdrawal","profile.profileDetails","profile.profileInfo","profile.changePassword","profile.limit","profile.settings","profile.payment","profile.transfer","profile.activateVoucher","profile.ipayVoucher","profile.generateTan","profile.luckyGuessTicketDetails","profile.luckySixTicketDetails","profile.ticketDetails","profile.aleaTicketDetails"])})();
(function(){angular.module("app.profile").directive("ticketMatch",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{ticket:"=",ticketUuid:"=",authStatus:"=",ticketStatus:"=",authTicketStatus:"=",copyTicket:"=",closeThisDialog:"=",socialNetworkEnable:"=",redirectMain:"=",isAuth:"=",page:"=",prePayout:"=",showTicketPrepaymentInfo:"="},controller:a,templateUrl:"views/"+c+"Design/ticketMatch/ticketMatchView.html"}}a.$inject=["$scope","TicketsPreviewService","$rootScope","TicketSuggestionsService","DomainService","$state","BetParamsService","DESIGN","$translate","TicketService","SHOW_PRE_PAYOUT","ngDialog","$timeout"];function a(q,k,l,r,j,c,g,o,e,i,n,m,f){q.showPrePayout=n;if(o=="d"){q.fixOnly;q.sysOnly;q.fixAndSys;q.bonusPercent=0;h()}function h(){d(q.ticket.caption);p()}q.payInTax=l.betParams.payInTax;if(q.ticketUuid!=null){if(q.authStatus!=null&&(q.authStatus==0||q.authStatus==5)){k.getTicketAuthByUuid(q.ticketUuid,function(s){q.ticket=s.ITicketList[0];q.isAuth=true})}else{k.getTicketByUuid(q.ticketUuid,function(s){q.ticket=s.ITicket;q.isAuth=false})}}q.checkTicket=function(){var C=g.getRound();if(C.roundNumber>q.ticket.round){return false}var w=0;var u=0;for(var A in q.ticket.ticketStatusSystem){var s=q.ticket.ticketStatusSystem[A];w+=s.ticketStatusMatch.length;for(var B in s.ticketStatusMatch){var x=s.ticketStatusMatch[B];var v=x.ticketStatusTipType!=null&&x.ticketStatusTipType[0]!=null?x.ticketStatusTipType[0]:null;var z=x.kickOffTime;if(v!=null){if(!v.live){if(z!==null){var t=new Date();var y=new Date(z);if(y<t){u+=1}}}else{if(x.matchResults.status=="FINISHED"){u+=1;return false}}}}}if(w===u){return false}return true};q.copyTicketInWebTicket=function(){r.copyTicket(q.ticket,true);if(q.closeThisDialog){q.closeThisDialog()}if(q.redirectMain!==null&&q.redirectMain==="true"){c.go("home.mainContent")}};q.getURLShare=function(s){var t=j.getAddress();return t+"/bet/#/home/ticketStatus?uuid="+s};q.showPeriodResult=function(s){if(s==null){return false}return((Number(s.h)>0&&Number(s.a)>0)||(Number(s.h)===0&&Number(s.a)>0)||(Number(s.h)>0&&Number(s.a)===0))};q.showScore=function(s){return s!=null&&s.h>-1&&s.a>-1};function d(t){var u=t.split("#");if(u[u.length-1]==""){u.splice(u.length-1,1)}if(u.length==1){var s=u[0].split("/");if(s[0]!=s[1]){q.sysOnly=true}else{q.fixOnly=true}}else{q.fixAndSys=true}}q.checkIsEqualItemsOfCaption=function(t){var s=t.split("/");if(s[0]==s[1]){return true}else{return false}};function p(){var v=l.betParams;var u=0;q.bonusPercent=0;for(var t=0;t<q.ticket.ticketStatusSystem.length;t++){if(q.ticket.ticketStatusSystem[t].caption!=null||q.ticket.ticketStatusSystem[t].caption!=""){var s=q.ticket.ticketStatusSystem[t].caption.split("/");if(s[0]!=null){u=parseInt(u)+parseInt(s[0])}}}q.bonusPercent=v["bonus0"+u];return q.bonusPercent}q.submitPrePayoutRequest=function(){m.openConfirm({template:"views/"+o+"Design/dialog/dialogViewPrePayout.html",scope:q}).then(function(s){if(s=="ok"){i.submitPrePayoutRequest(q.ticket.uuid,function(t){f(function(){m.closeAll()},4000);q.message=t.message;q.status=t.ibetResponseStatus;m.open({template:"views/"+o+"Design/dialog/dialogView.html",scope:q,preCloseCallback:function(){if(q.closeThisDialog){q.closeThisDialog()}}})})}},function(s){})}}})();
(function(){angular.module("app.profile").directive("ticketAuthMatch",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{ticketAuthOriginal:"=",ticketAuthChanged:"=",ticketUuid:"=",authStatus:"=",closeThisDialog:"="},controller:a,templateUrl:"views/"+c+"Design/ticketMatch/ticketAuthMatchView.html"}}a.$inject=["$scope","$rootScope","TicketsPreviewService"];function a(m,k,j){m.payInTax=k.betParams.payInTax;m.isOddChanged=g;m.isSpecialBetValueTypeChanged=c;m.isPayInChanged=i;m.isNumberOfMatchesChanged=o;m.showOddChangedMsg=false;m.showSpecialBetValueTypeChangedMsg=false;m.showPayInChangedMsg=false;m.showNumberOfMatchesChangedMsg=false;m.authoriseTicket=h;m.hideAuthoriseTicketOptions=false;var d=0;var e=0;var n={};if(m.ticketUuid!=null){l()}else{f()}function f(){for(var u in m.ticketAuthOriginal.ticketStatusSystem){var s=m.ticketAuthOriginal.ticketStatusSystem[u];for(var p in s.ticketStatusMatch){var q=s.ticketStatusMatch[p];if(!q.deleted){d++}for(var r in q.ticketStatusTipType){var t=q.ticketStatusTipType[r];n[t.code+"-"+q.code]=t}}}for(var u in m.ticketAuthChanged.ticketStatusSystem){var s=m.ticketAuthChanged.ticketStatusSystem[u];for(var p in s.ticketStatusMatch){var q=s.ticketStatusMatch[p];if(!q.deleted){e++}}}o();if(m.ticketAuthChanged.approvedByIUser!=null){m.hideAuthoriseTicketOptions=true}}function l(){j.getTicketAuthByUuid(m.ticketUuid,function(p){m.ticketAuthOriginal=p.ITicketList[0];m.ticketAuthChanged=p.ITicketList[1];f()})}function g(p,q){if(!m.showOddChangedMsg){m.showOddChangedMsg=p.odd!=n[p.code+"-"+q].odd}return p.odd!=n[p.code+"-"+q].odd}function c(p,q){if(!m.showSpecialBetValueTypeChangedMsg){m.showSpecialBetValueTypeChangedMsg=p.special!=n[p.code+"-"+q].special}return p.special!=n[p.code+"-"+q].special}function i(){if(m.ticketAuthOriginal!=null&&m.ticketAuthChanged!=null){if(!m.showPayInChangedMsg){m.showPayInChangedMsg=m.ticketAuthOriginal.payIn!=m.ticketAuthChanged.payIn}return m.ticketAuthOriginal.payIn!=m.ticketAuthChanged.payIn}return false}function o(){if(!m.showNumberOfMatchesChangedMsg){m.showNumberOfMatchesChangedMsg=e!=d}return e!=d}function h(p){m.hideAuthoriseTicketOptions=true;if(m.ticketUuid!=null){j.authoriseTicket({code:m.ticketAuthChanged.banAuthId,auth:p},function(){m.closeThisDialog()})}else{k.$broadcast("authorise-ticket",{code:m.ticketAuthChanged.banAuthId,auth:p})}}}})();
(function(){angular.module("profile.changePassword",[])})();
(function(){angular.module("profile.changePassword").controller("ChangePasswordController",a);a.$inject=["ChangePasswordService","ngDialog","$scope","$translate","DESIGN"];function a(h,g,d,f,b){var e=this;e.changePasswordForm={password:null,newPassword:null,reNewPassword:null};e.saveChangePasswordForm=c;function c(){h.saveChangePasswordForm(e.changePasswordForm,function(i){f("password_update.dialog_header").then(function(j){d.header=j});d.message=i.message;d.status=i.ibetResponseStatus;g.open({template:"views/"+b+"Design/dialog/dialogView.html",scope:d})})}}})();
(function(){angular.module("profile.limit",[])})();
(function(){angular.module("profile.limit").controller("LimitController",a);a.$inject=["LimitService","$scope","ngDialog","$translate","DESIGN"];function a(h,l,j,c,k){var e=this;e.changeLimit=b;e.openDialog=d;e.newValue="0";g();function g(){h.getLimits(function(m){e.limits=m.limits;e.ccy=m.ccy});l.$watch(function(){return e.newValue},function(n,m){f()},true);f()}function d(o,m){e.period=o;e.type=m;e.dialogForChangeLimit=j.open({template:"views/"+k+"Design/dialog/changeLimitDialog.html",scope:l});var n=0}l.checkValue=function(){if(e.newValue>0){b(e.period,e.type,e.newValue)}else{c("profile_transfer.err_amount").then(function(m){l.errorMessage=m})}};function b(o,m,n){h.saveLimit(o,m,n,function(p){c("limits.dialog_header").then(function(r){l.header=r});l.message=p.message;if(p.limits!=null){e.limits=p.limits}try{e.dialogForChangeLimit.close()}catch(q){}i()})}function f(){if(e.newValue!=null&&e.newValue!=""&&e.newValue!="0"){$("#confirmChange").removeAttr("disabled")}else{$("#confirmChange").attr("disabled","true")}}function i(){j.open({template:"views/"+k+"Design/dialog/dialogView.html",scope:l})}}})();
(function(){angular.module("profile.profileInfo",[])})();
(function(){angular.module("profile.profileInfo").controller("ProfileInfoController",a);a.$inject=["UserService","ProfileInfoService","$scope","$rootScope","DESIGN","ngDialog","$translate","ProviderService","CONFIG","ENABLE_PREPAYMENT"];function a(m,i,n,f,h,j,o,g,t,d){var q=this;q.userAccount=m.getUserAccount();q.userFreeBetAccount=m.getUserFreeBetAccount();q.saveNoActiveContest=p;q.casinoDeposit=k;q.casinoWithdraw=c;q.casinoDepositAmount=null;q.casinoWithdrawAmount=null;q.casinoTransferDepositInProgress=false;q.casinoTransferWithdrawInProgress=false;q.casinoTransferCall=r;q.casinoTransferCancel=s;q.enablePrepayment=d;q.config=t;b();function b(){i.getNoActiveContest(function(v){q.noActiveContest=v.string});i.getUserInfo(function(v){q.userInfo=v});n.$on("user-account-updated",function(w,v){q.userAccount=m.getUserAccount()});n.$on("user-free-bet-account-updated",function(w,v){q.userFreeBetAccount=m.getUserFreeBetAccount()});n.$on("$destroy",function u(){q.userAccount=null;q.userFreeBetAccount=null;q.userInfo=null})}function p(u){if(u==null){return}i.saveNoActiveContest(u,function(v){if(v.string=="SUCCESS"){q.noActiveContest=u}})}function l(){if(g.isEnabled(f.provider2)){m.isLogedUserFromServer(function(u){if(u){m.getCasinoBalance(function(v){console.log("CASINO BALANCE Profile");console.log(v);if(v!=null&&v!=""){q.casinoBalance=v.additionalInformation.accountBalance;q.casinoBalanceCcy=v.additionalInformation.currency=="din"?"RSD":v.additionalInformation.currency}else{q.casinoBalance=null;q.casinoBalanceCcy=null}})}})}}function k(){console.log(q.casinoDepositAmount);if(q.casinoDepositAmount==null||q.casinoDepositAmount==""||q.casinoDepositAmount<=0||q.casinoTransferDepositInProgress){return}if(g.isEnabled(f.provider2)){q.casinoTransferDepositInProgress=true;q.amount=q.casinoDepositAmount+" "+q.casinoBalanceCcy}}function c(){console.log(q.casinoWithdrawAmount);if(q.casinoWithdrawAmount==null||q.casinoWithdrawAmount==""||q.casinoWithdrawAmount<=0||q.casinoTransferWithdrawInProgress){return}if(g.isEnabled(f.provider2)){q.casinoTransferWithdrawInProgress=true;q.amount=q.casinoWithdrawAmount+" "+q.casinoBalanceCcy}}function r(u,v){if(v=="DEPOSIT"){m.casinoDeposit(u,function(w){e(w,v)})}else{if(v=="WITHDRAW"){m.casinoWithdraw(u,function(w){e(w,v)})}}}function s(u){q.amount=null;q.casinoTransferDepositInProgress=false;q.casinoTransferWithdrawInProgress=false;if(u=="DEPOSIT"){q.casinoDepositAmount=null}else{if(u=="WITHDRAW"){q.casinoWithdrawAmount=null}}}function e(u,v){console.log("CASINO Deposit Profile");console.log(u);o("dialog.casino_header").then(function(w){n.header=w});if(u==null){o("dialog.casino_transfer_unknown_error").then(function(w){n.message=w});n.status="ERROR";j.open({template:"views/"+h+"Design/dialog/dialogView.html",scope:n})}else{if(u.success==1){if(v=="DEPOSIT"){q.casinoDepositAmount=null}else{if(v=="WITHDRAW"){q.casinoWithdrawAmount=null}}o("dialog.casino_transfer_success").then(function(w){n.message=w});n.status="SUCCESS";j.open({template:"views/"+h+"Design/dialog/dialogView.html",scope:n})}else{o("dialog.casino_transfer_error").then(function(w){n.message=w});n.status="ERROR";j.open({template:"views/"+h+"Design/dialog/dialogView.html",scope:n})}}q.amount=null;q.casinoTransferDepositInProgress=false;q.casinoTransferWithdrawInProgress=false}}})();
(function(){angular.module("profile.profileDetails",[])})();
(function(){angular.module("profile.profileDetails").controller("ProfileDetailsController",a);a.$inject=["ProfileDetailsService","ngDialog","$scope","$translate","DESIGN"];function a(f,m,p,d,n){var g=this;var l=(new Date()).getYear()-10;var i=$.map($(Array(l)),function(r,q){return q+1900});var c=$.map($(Array(12)),function(r,q){return q+1});var o=$.map($(Array(31)),function(r,q){return q+1});g.numberOfDays=31;g.years=i;g.days=o;g.months=c;g.updateNumberOfDays=j;g.saveUserForm=e;h();function h(){f.getUserForm(function(r){g.userForm=r});p.$on("$destroy",function q(){g.userForm=null});f.getListOfCountries(function(r){g.selectOptions=[];angular.forEach(r,function(t,s){g.selectOptions.push({name:t,code:s})})});p.sortType="name";p.sortReverse=false}function b(){var q=g.userForm.birthYear||0;return((q%400===0||q%100!==0)&&(q%4===0))?1:0}function k(){var q=g.userForm.birthMonth||0;return 31-((q===2)?(3-b()):((q-1)%7%2))}function j(){g.numberOfDays=k()}function e(){f.saveUserForm(g.userForm,function(q){if(n!="d"){d("profile_details.dialog_header").then(function(r){p.header=r});p.message=q.message;p.status=q.ibetResponseStatus;m.open({template:"views/"+n+"Design/dialog/dialogView.html",scope:p})}else{g.ibetResponseMessage=q.message;g.ibetResponseStatus=q.ibetResponseStatus}})}}})();
(function(){angular.module("profile.ticketsPreview",[])})();
(function(){angular.module("profile.ticketsPreview").controller("TicketsPreviewController",a);a.$inject=["TicketsPreviewService","$scope","DESIGN","$stateParams","UserService","$translate","$rootScope","SHOW_TICKET_AUTH_PROFILE"];function a(z,p,l,x,n,q,j,y){var m;var u=this;if(l=="d"){r();u.ticketType="ALL"}u.accountTypes=[q("profile_transactions.all").then(function(A){u.accountTypes[0]={type:"ALL",name:A,id:0}}),q("tickets.accountTypeInternet").then(function(A){u.accountTypes[1]={type:"INTERNET",name:A,id:1}}),q("tickets.accountTypeLoyalty").then(function(A){u.accountTypes[2]={type:"LOYALITY",name:A,id:2}}),];if(n.getUserFreeBetAccount().balance!=null&&j.showFreeBet=="true"){q("tickets.accountTypeFreeBet").then(function(A){u.accountTypes[3]={type:"FB",name:A,id:3}})}if(l!="d"){u.won=false;u.loss=false;u.active=false;u.cancel=false}u.updateFilterDays=k;u.filterDays="today";u.updateFilterTicketStatus=c;u.nextPage=s;u.previousPage=e;u.getHitsForAllTipTypes=f;u.authTickets=[];u.updateAccountType=w;u.loading=true;u.design=l;u.accountType=u.accountTypes[0];u.accountType.type=u.accountTypes[0].type;u.accountType.name=u.accountTypes[0].name;u.accountType.id=0;u.hasNext=false;u.hasPrevious=false;u.toDate=null;u.today=new Date();var v=new Date();u.lastWeek=new Date(v.getFullYear(),v.getMonth(),v.getDate()-7);u.fromDate={date:u.lastWeek};u.numberOfTicketCombination=b;d();function d(){if(x.locale!=null){n.changeServerLanguage(x.locale,function(){q.use(x.locale)})}p.$on("authorise-ticket",function(C,B){z.authoriseTicket({code:B.code,auth:B.auth},function(){setTimeout(t,5000);if(y=="true"){setTimeout(g,5000)}})});p.$on("user-free-bet-account-updated",function(C,B){if(u.accountTypes[3]==null&&j.showFreeBet=="true"){q("tickets.accountTypeFreeBet").then(function(D){u.accountTypes[3]={type:"FB",name:D,id:3}})}});p.$on("$destroy",function A(){if(m!=null){clearInterval(m);m=null}u.authTickets=null;u.tickets=null});if(l=="d"){p.$watch(function(){return u.ticketType},function(B){c()},true);p.$watch("myDate",function(B){if(B!=null){u.fromDate={date:new Date(B)};if(p.coll){p.coll=!p.coll}}});p.$watch("myDateTo",function(B){if(B!=null){u.toDate={date:new Date(B)};if(p.collTo){p.collTo=!p.collTo}}})}if(y=="true"){g();if(m==null){m=setInterval(g,7000)}}p.$on("result_update_tickets",function(C,B){i(B.results)})}function o(B){u.tickets=B.tickets;u.page=B.page;if(l=="d"){u.numOfPages=B.numOfPages}u.hasNext=B.hasNext;u.hasPrevious=B.hasPrevious;u.sumPayIn=B.sumPayIn;u.supPayOut=B.supPayOut;u.diff=B.diff;u.ccy=B.ccy;for(var A=0;A<u.accountTypes.length;A++){if(B.accType==null){u.accountType.type=u.accountTypes[0].type;u.accountType.name=u.accountTypes[0].name;u.accountType.id=0}else{if(u.accountTypes[A].type==B.accType){u.accountType.type=u.accountTypes[A].type;u.accountType.name=u.accountTypes[A].name;if(u.accountType.type=="INTERNET"){u.accountType.id=1}else{if(u.accountType.type=="LOYALITY"){u.accountType.id=2}else{if(u.accountType.type=="FB"){u.accountType.id=3}else{if(u.accountType.type=="ALL"){u.accountType.id=0}}}}}}}u.showAccountChooser=B.showAccountChooser;u.loading=false}function h(A){u.authTickets=A.authTickets;if(A.ticketAuthorized=="true"){t(u.page)}}function k(){t()}function c(){t()}function s(){u.page=u.page+1;t(u.page)}function e(){u.page=u.page-1;t(u.page)}function f(I){var F=0;var E=0;for(var B in I){var A=I[B];for(var C in A.ticketStatusMatch){var H=A.ticketStatusMatch[C];for(var D in H.ticketStatusTipType){F++;var G=H.ticketStatusTipType[D];if(G.status==1){E++}}}}return E+"/"+F}function i(F){if(F!=null&&u.tickets!=null){for(var D in u.tickets){for(var E in u.tickets[D].ticketStatusSystem){for(var A in u.tickets[D].ticketStatusSystem[E].ticketStatusMatch){var B=u.tickets[D].ticketStatusSystem[E].ticketStatusMatch[A];if(F[B.code]!=null){var C=F[B.code].matchResult;u.tickets[D].ticketStatusSystem[E].ticketStatusMatch[A].matchResults=C}}}}}}function t(A){u.loading=true;var B={};B.accType=u.accountType.type;if(A!=null){B.page=A}if(u.filterDays=="today"){B.today="today"}if(u.filterDays=="yesterday"){B.yesterday="yesterday"}if(u.filterDays=="rest"){B.rest="rest"}if(l=="d"){if(u.ticketType=="WON"){B.won=true}if(u.ticketType=="LOSS"){B.loss=true}if(u.ticketType=="OPEN"){B.active=true}if(u.ticketType=="CANCEL"){B.cancel=true}if(u.fromDate!=null){B.fromDay=u.fromDate.date.getTime()}if(u.toDate!=null){B.toDay=u.toDate.date.getTime()}else{if(u.fromDate!=null&&u.toDate==null){B.toDay=new Date().getTime()}}}else{if(u.won){B.won=u.won}if(u.loss){B.loss=u.loss}if(u.active){B.active=u.active}if(u.cancel){B.cancel=u.cancel}}u.tickets={};z.getTickets(B,function(C){o(C)})}function g(){z.getAuthorisedTickets(function(A){h(A)})}function w(){t()}function r(){u.all=q.instant("nx_profile.info.select.all");u.won=q.instant("nx_profile.info.select.won");u.lose=q.instant("nx_profile.info.select.lost");u.open=q.instant("nx_profile.info.select.active");u.cancel=q.instant("nx_profile.info.select.storno");u.ticketTypes={ALL:{type:"ALL",name:u.all},WON:{type:"WON",name:u.won},LOSS:{type:"LOSS",name:u.lose},OPEN:{type:"OPEN",name:u.open},CANCEL:{type:"CANCEL",name:u.cancel}}}function b(B){var E=B.split("#");if(E[E.length-1]==""){E.splice(E.length-1,1)}var D="";var G=q.instant("nx_profile.info.combinations");var F=q.instant("nx_profile.info.system");var H=q.instant("nx_profile.info.system.of");if(E.length==1){var A=E[0].split("/");if(A[0]!=A[1]){D=F+A[0]+" "+H+" "+A[1]}else{D=A[1]+" "+G}}else{for(var C=0;C<E.length;C++){var A=E[C].split("/");if(A[0]!=A[1]){if(D==""){D=F+" "+E[C]}else{D=D+" + "+E[C]}}else{if(D==""){D=A[1]+" "+G}else{D=D+" + "+A[1]+" "+G}}}}return D}}})();
(function(){angular.module("profile.ticketsPreview").controller("XTicketController",a);a.$inject=["TicketsPreviewService","$rootScope","$scope","ngDialog","DESIGN"];function a(f,g,j,h,i){var c=this;c.eTicketExclusively=(g.eTicketExclusively==null||g.eTicketExclusively=="true")?true:false;c.showTicket=e;d();function d(){b()}function b(){f.getAllXTickets(function(k){if(k!=null){c.xtickets=k.xTickets}})}function e(k){j.scopeTicket=k;j.authStatus=k.authStatusType;j.authTicketStatus=k.authTicketStatus;j.eticket="true";h.open({template:"views/"+i+"Design/dialog/ticketDialogView.html",scope:j,className:"ngdialog-theme-default notifications-dialog"})}}})();
(function(){angular.module("profile.withdrawal",[])})();
(function(){angular.module("profile.withdrawal").controller("WithdrawalController",a);a.$inject=["WithdrawalService","UserService","ngDialog","$scope","$translate","DESIGN","ProfileDetailsService","$state","$rootScope","GenerateTanService"];function a(l,k,o,r,c,p,e,b,n,h){var d=this;d.locationDescription=f;d.showChooseLocationMessage=false;d.submitWithdrawal=q;d.cancelWithdrawal=j;d.choseIDepositType=m;d.generateTAN=i;d.showCancelWithdrawal=false;d.code="";d.loading=false;d.bankAcc=null;d.iDepositType=l.getDepositType();d.bankWithdrawalAllowed=n.betParams.bankWithdrawalAllowed;d.currentTan;g();function g(){l.getLocationsForWithdrawal(function(t){d.locations=t;if(d.locations!=null&&d.locations.length>1){d.showChooseLocationMessage=true}else{if(d.locations!=null&&d.locations.length==1){d.selectedLocation=d.locations[0]}}});e.getUserForm(function(t){if(n.config=="ug"){d.mobileNumber=t.personalNumber}else{d.bankAcc=t.bankAccount}});if(p!="d"){l.getInfoForWithdrawal(function(t){d.infoForWithdrawal=t})}k.getUserAccountWithCallback(function(t){d.balance=t.balance;d.reserved=t.reserved;d.showCancelWithdrawal=t.reserved>0;d.ccy=t.ccy=="din"?"RSD":t.ccy});if(p=="d"){h.getTan(function(t){if(t!==null){d.currentTan=t.string}else{console.log("data of getTan is null")}})}r.$on("user-account-updated",function(v,u){var t=k.getUserAccount();d.showCancelWithdrawal=t.reserved>0});r.$on("$destroy",function s(){d.userAccount=null})}function f(s){if(s.place!=null){return s.place+", "+s.address}return s.address}function q(){r.withdrawal_code=null;if(d.iDepositType!="BACC"&&d.selectedLocation==null){c("withdrawal.dialog_header").then(function(s){r.header=s});c("withdrawal.dialog_select_location").then(function(s){r.message=s});r.status="ERROR";o.open({template:"views/"+p+"Design/dialog/dialogView.html",scope:r});return}if(d.amount==null){c("withdrawal.dialog_header").then(function(s){r.header=s});c("withdrawal.dialog_insert_amount").then(function(s){r.message=s});r.status="ERROR";o.open({template:"views/"+p+"Design/dialog/dialogView.html",scope:r});return}d.loading=true;l.withdrawalRequest(d.amount,(d.iDepositType!="BACC"?d.selectedLocation.betLocationCode:null),d.balance,d.iDepositType,(n.config=="ug"?d.mobileNumber:d.bankAcc),function(s){d.delayMsg=s.delayMsg;c("withdrawal.dialog_header").then(function(t){r.header=t});r.message=s.msg;if(s.status!=="ERROR"){r.withdrawal_code=s.code;c("widthdrawal.dialog_withdrawal_code").then(function(t){r.withdrawal_code_info=t});c("widthdrawal.dialog_withdrawal_code_warning").then(function(t){r.withdrawal_code_warning=t})}r.status=s.status;if(d.iDepositType=="AGENT"){d.code=s.code}d.loading=false;o.open({template:"views/"+p+"Design/dialog/dialogView.html",scope:r,preCloseCallback:function(t){if(d.iDepositType=="BACC"&&s.code!=null){b.reload()}}})})}function j(){r.withdrawal_code=null;l.cancelRequest(function(s){c("withdrawal.dialog_header").then(function(t){r.header=t});r.message=s.message;r.status=s.ibetResponseStatus;o.open({template:"views/"+p+"Design/dialog/dialogView.html",scope:r})})}function m(s){d.iDepositType=s;l.setDepositType(s)}function i(){h.generateTan(function(s){d.currentTan=s.string})}}})();
(function(){angular.module("profile.transactions",[])})();
(function(){angular.module("profile.transactions").controller("TransactionsController",a);a.$inject=["TransactionsService","$scope","$stateParams","UserService","$translate","$rootScope","DESIGN","LuckyGuessTicketDetailsService","LuckySixTicketDetailsService","TicketsPreviewService","$filter","CasinoService"];function a(v,r,A,q,t,k,o,s,j,D,p,l){var y=this;if(o!="d"){y.transactionTypes=[t("profile_transactions.all").then(function(G){y.transactionTypes[0]={type:"A",name:G,id:0}}),t("profile_transactions.transfers").then(function(G){y.transactionTypes[1]={type:"T",name:G,id:1}}),t("profile_transactions.bets").then(function(G){y.transactionTypes[2]={type:"B",name:G,id:2}})]}if(o=="d"){y.transactionTypes=[t("nx_profile_transactions.all").then(function(G){y.transactionTypes[0]={type:"A",name:G,id:0}}),t("nx_profile_transactions.transfers").then(function(G){y.transactionTypes[1]={type:"T",name:G,id:1}}),t("nx_profile_transactions.bets").then(function(G){y.transactionTypes[2]={type:"B",name:G,id:2}})]}y.accountTypes=[t("tickets.accountTypeInternet").then(function(G){y.accountTypes[0]={type:"INTERNET",name:G,id:0}}),t("tickets.accountTypeLoyalty").then(function(G){y.accountTypes[1]={type:"LOYALITY",name:G,id:1}})];if(q.getUserFreeBetAccount().balance!=null&&k.showFreeBet=="true"){t("tickets.accountTypeFreeBet").then(function(G){y.accountTypes[2]={type:"FB",name:G,id:2}})}y.previousPage=h;y.updateFilterDays=m;y.updateAccountType=z;y.updateTransactionType=e;y.nextPage=u;y.loading=true;y.transactionType=y.transactionTypes[0];y.transactionType.type=y.transactionTypes[0].type;y.transactionType.name=y.transactionTypes[0].name;y.transactionType.id=0;y.accountType=y.accountTypes[0];y.accountType.type=y.accountTypes[0].type;y.accountType.name=y.accountTypes[0].name;y.accountType.id=0;y.totalIn=0;y.totalOut=0;y.getProviderSubType=c;y.fromDate=null;y.toDate=null;y.today=new Date();y.changeOnCalendar=C;y.getTicketByUuid=F;y.getNumberOfTransactionsPages=g;y.goToPage=n;y.getTicketDetails=x;y.getCasinoGameByIdAndProvider=i;d();function d(){if(o=="l"||o=="b"){s.getLuckyGuessKey();j.getLuckySixKey()}v.getTransactions(function(H){E(H);if(A.locale!=null){q.changeServerLanguage(A.locale,function(){t.use(A.locale)})}});r.$on("user-free-bet-account-updated",function(I,H){if(y.accountTypes[2]==null&&k.showFreeBet=="true"){t("tickets.accountTypeFreeBet").then(function(J){y.accountTypes[2]={type:"FB",name:J,id:2}})}});r.$on("$destroy",function G(){y.transactions=null;y.transactionFilterForm=null});if(o=="d"){r.$watch("transDate",function(H){if(H!=null){y.fromDate={date:new Date(H)};if(r.tcoll){r.tcoll=!r.tcoll}}});r.$watch("transDateTo",function(H){if(H!=null){y.toDate={date:new Date(H)};if(r.tcollTo){r.tcollTo=!r.tcollTo}}})}}function E(H){y.transactions=H.transactionsWithCount.transactions;y.sumOfAccountTransactions=H.transactionsWithCount.sumOfAccountTransactions;y.transactionFilterForm=H.transactionFilterForm;y.providerMap=H.providerMap;if(o=="d"){y.fromDate={date:new Date(y.transactionFilterForm.fromDate)};y.toDate={date:new Date(y.transactionFilterForm.toDate)}}if(H.transactionsWithCount!=null){if(k.groupByProviderSubType!=="true"){f(H.transactionsWithCount.providerInfoList)}else{b(H.providers)}}for(var G=0;G<y.transactionTypes.length;G++){if(y.transactionTypes[G].type==y.transactionFilterForm.transactionType){y.transactionType.type=y.transactionTypes[G].type;y.transactionType.name=y.transactionTypes[G].name;if(y.transactionType.type=="A"){y.transactionType.id=0}if(y.transactionType.type=="T"){y.transactionType.id=1}if(y.transactionType.type=="B"){y.transactionType.id=2}else{y.transactionType.id=y.transactionTypes[G].id}}}for(var G=0;G<y.accountTypes.length;G++){if(y.accountTypes[G].type==y.transactionFilterForm.accountType){y.accountType.type=y.accountTypes[G].type;y.accountType.name=y.accountTypes[G].name;if(y.accountType.type=="INTERNET"){y.accountType.id=0}else{if(y.accountType.type=="LOYALITY"){y.accountType.id=1}else{if(y.accountType.type=="FB"){y.accountType.id=2}}}}}y.totalIn=0;y.totalOut=0;if(y.sumOfAccountTransactions!=null&&y.sumOfAccountTransactions.length>0&&y.sumOfAccountTransactions[0]!=null){if(y.sumOfAccountTransactions[0].totalIn!=null){y.totalIn=y.sumOfAccountTransactions[0].totalIn}if(y.sumOfAccountTransactions[0].totalOut!=null){y.totalOut=y.sumOfAccountTransactions[0].totalOut}}y.filterDays=H.filterDays;y.showAccountChooser=H.showAccountChooser;y.ccy=H.ccy;y.loading=false;if(o=="d"){for(var G=0;G<y.transactions.length;G++){if(y.transactions[G].ticketUUID!=null){B(y.transactions[G])}}}}function m(){if(y.transactionFilterForm!=null){y.transactionFilterForm.days=y.filterDays;w()}}function z(){if(y.transactionFilterForm!=null){y.transactionFilterForm.accountType=y.accountType.type;w()}}function e(){if(y.transactionFilterForm!=null){y.transactionFilterForm.transactionType=y.transactionType.type;w()}}function u(){if(y.transactionFilterForm!=null){y.transactionFilterForm.page=y.transactionFilterForm.page+1;w()}}function h(){if(y.transactionFilterForm!=null){y.transactionFilterForm.page=y.transactionFilterForm.page-1;w()}}function C(){if(y.fromDate!=null){y.transactionFilterForm.fromDate=y.fromDate.date}if(y.toDate!=null){y.transactionFilterForm.toDate=y.toDate.date}w()}function w(){y.loading=true;v.saveTransactionFilterForm(y.transactionFilterForm,function(G){E(G)})}function f(H){y.transactionTypes.splice(3,y.transactionTypes.length);var J=y.transactionTypes.length;if(H!=null){for(var K in H){if(H[K].providerType!=null&&H[K].application){var G="transaction.type."+p("trim")(H[K].application);var I=t.instant(G);if(I==null||I==G){I=H[K].application}y.transactionTypes[J]={type:H[K].application,name:I,id:J};J++}}}}function b(H){y.transactionTypes.splice(3,y.transactionTypes.length);var J=y.transactionTypes.length;if(H!=null){for(var K in H){var G=(o==="l")?("l_transaction.type."+H[K]):null;if(o==="b"){G="b_transaction.type."+H[K]}if(o=="d"){G="nx_transaction.type."+H[K]}var I=t.instant(G);if(I==null||I==G){I=H[K]}y.transactionTypes[J]={type:H[K],name:I,id:J};J++}}}function c(G){if(y.providerMap!=null&&y.providerMap[G]!=null){return y.providerMap[G]}return G}function F(G){}function B(G){D.getTicketByUuid(G.ticketUUID,function(H){G.ticket=H.ITicket})}function g(I){var H=[];for(var G=0;G<I;G++){H.push(G+1)}return H}function n(G){if(y.transactionFilterForm!=null){y.transactionFilterForm.page=G;w()}}function x(G){D.getTicketDetails(G.externalTicketId,G.application,G.provider,G.domain,function(H){G.ticket=H})}function i(H,G){if(G!=true){if(y.getProviderSubType(H.provider)=="CASINO"){SecondCasinoService.getCasinoGameByIdAndProvider(H.application,H.provider,function(I){if(I!=""){H.application=I.gameName}})}return true}else{return false}}}})();
(function(){angular.module("main.ticketStatus",[])})();
(function(){angular.module("main.ticketStatus").controller("TicketStatusController",a);a.$inject=["TicketStatusService","$scope","$translate","ngDialog","DESIGN","$stateParams","UserService","$rootScope","TicketsPreviewService"];function a(j,q,d,n,p,o,i,m,l){var e=this;e.hasTicket=null;e.getTicketByPinCodeAndLoc=b;e.status="";e.ticketStatus="";e.ticketStatusForm={pin:null,code:null,};e.uuid=m.stateParams.uuid;h();function h(){if(o.locale!=null){i.changeServerLanguage(o.locale,function(){var s=angular.element("#app-loaded");s.addClass("hide");d.use(o.locale)})}if(e.uuid!=null){e.loading=true;l.getTicketByUuid(e.uuid,function(s){e.ticket=s.ITicket;e.hasTicket=true;e.loading=false;if(e.ticket!=null){e.status=r();e.ticketStatus=c();e.oddTranslate=g();e.minMaxOdd=f()}})}if(m.stateParams.pin!=null&&m.stateParams.ticketCode!=null){e.ticketStatusForm.pin=m.stateParams.pin;e.ticketStatusForm.code=m.stateParams.ticketCode;b(null)}q.$on("result_update_tickets",function(t,s){k(s.results)})}function b(s){if(e.ticketStatusForm.pin==null&&e.ticketStatusForm.code==null){return}e.loading=true;j.getTicketByPinCodeAndLoc(e.ticketStatusForm,function(t){e.hasTicket=t.status!="ERROR"?true:false;e.ticket=t.ticket;e.loading=false;if(t.status!="ERROR"){e.status=r();e.ticketStatus=c();e.oddTranslate=g();e.minMaxOdd=f()}else{d("tstatus.error_dialog_header").then(function(u){q.header=u});q.message=t.msg;q.status=t.status;n.open({template:"views/"+p+"Design/dialog/dialogView.html",scope:q})}})}function r(){if(e.ticket.status===0){return"ticket.t-status-0"}else{if(e.ticket.status==-1){return"ticket.t-status--1"}else{if(e.ticket.status==1){return"ticket.t-status-1"}}}}function c(){if(e.ticket.ticketStatus===1){return"ticket.ticket-status-1"}else{if(e.ticket.ticketStatus==2){return"ticket.ticket-status-2"}}}function g(){if(e.ticket.minTotalOdd==e.ticket.maxTotalOdd){return true}else{return false}}function f(){if(e.ticket.minTotalOdd==e.ticket.maxTotalOdd){return e.ticket.minTotalOdd}else{return e.ticket.minTotalOdd+"/"+e.ticket.maxTotalOdd}}function k(x){if(x!=null&&e.ticket!=null){for(var w in e.ticket.ticketStatusSystem){for(var t in e.ticket.ticketStatusSystem[w].ticketStatusMatch){var u=e.ticket.ticketStatusSystem[w].ticketStatusMatch[t];if(x[u.code]!=null){var v=x[u.code].matchResult;e.ticket.ticketStatusSystem[w].ticketStatusMatch[t].matchResults=v}}}}}}})();
(function(){angular.module("main.lostPassword",[])})();
(function(){angular.module("main.lostPassword").controller("LostPasswordController",a);a.$inject=["$scope","ngDialog","$state","LostPasswordService","$translate","DESIGN"];function a(j,h,b,f,c,i){var d=this;d.sendEmail=e;d.goToHome=g;d.loading=false;if(i=="d"){d.ibetResponseStatus=null;d.ibetResponseMessage=null}function e(){if(d.email==null){if(i!="d"){c("lost_password.dialog_header").then(function(k){j.header=k});c("lost_password.dialog_enter_email").then(function(k){j.message=k});j.status="ERROR";h.open({template:"views/"+i+"Design/dialog/dialogView.html",scope:j})}else{d.ibetResponseStatus="ERROR";c("nx_lost_password.dialog_enter_email").then(function(k){d.ibetResponseMessage=k})}return}d.loading=true;f.forgottenPasswordRequest(d.email,function(k){if(i=="d"){d.ibetResponseMessage=k.message;d.ibetResponseStatus=k.ibetResponseStatus;d.loading=false;return}else{c("lost_password.dialog_header").then(function(l){j.header=l});j.message=k.message;j.status=k.ibetResponseStatus;d.loading=false;h.open({template:"views/"+i+"Design/dialog/dialogView.html",scope:j,preCloseCallback:function(l){if(k.ibetResponseStatus=="OK"){b.go("home.mainContent")}}})}})}function g(){b.go("home.mainContent")}}})();
(function(){angular.module("main.lostPassword").controller("NewPasswordController",a);a.$inject=["$scope","ngDialog","$rootScope","$state","LostPasswordService","DESIGN","$translate"];function a(j,h,g,b,f,i,c){var d=this;d.loading=false;d.resetPassword=k;e();function e(){f.resetPasswordForm(function(m){d.resetPasswordForm=m;d.resetPasswordForm.userName=g.stateParams.userName;d.resetPasswordForm.passwordKey=g.stateParams.passwordKey});j.$on("$destroy",function l(){d.resetPasswordForm=null})}function k(){d.loading=true;f.sendResetPasswordForm(d.resetPasswordForm,function(l){c("reset_password.dialog_header").then(function(m){j.header=m});j.message=l.message;j.status=l.ibetResponseStatus;d.loading=false;h.open({template:"views/"+i+"Design/dialog/dialogView.html",scope:j,preCloseCallback:function(m){if(l.ibetResponseStatus=="OK"){b.go("home.mainContent")}}})})}}})();
(function(){angular.module("main.registration",[])})();
(function(){angular.module("main.registration").controller("RegistrationController",a);a.$inject=["$scope","RegistrationService","ngDialog","$translate","DESIGN","$state","$rootScope","REGISTRATION_CCY_TOKEN"];function a(m,s,l,n,j,p,h,c){var q=this;var r=(new Date()).getYear()-10;var o=$.map($(Array(r)),function(u,t){return t+1900});var f=$.map($(Array(12)),function(u,t){return t+1});var d=$.map($(Array(31)),function(u,t){return t+1});q.numberOfDays=31;q.years=o;q.days=d;q.months=f;q.design=j;q.updateNumberOfDays=i;q.saveRegistrationForm=e;b();function b(){s.getRegistrationForm(function(x){q.registrationForm=x;q.registrationForm.birthYear=1900;q.registrationForm.birthMonth=1;q.registrationForm.birthDay=1;if(q.design==="l"){q.registrationForm.smsNotification=true;q.registrationForm.emailNotification=true;q.registrationForm.privacy=true}if(q.design==="b"){q.registrationForm.emailNotification=true}if(h.config=="ug"){q.registrationForm.country="UG"}});s.getListOfCountries(function(y){q.selectOptions=[];for(var x in y){q.selectOptions.push({name:y[x],code:x})}if(q.selectOptions.length==0){n("registration.dialog_header").then(function(z){m.header=z});m.message=n.instant("registration.dialog_msg_geoip_forbidden");m.status="ERROR";l.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:m,preCloseCallback:function(z){if(y.ibetResponseStatus=="OK"){p.go("home.mainContent")}}})}});if(c!=null&&c!=""){q.currencyList=[];var u=c.split("#");for(var v in u){var t=u[v].split(":");q.currencyList.push({ccy:t[0],location:t[1]})}}m.$on("$destroy",function w(){q.registrationForm=null;q.listOfCountries=null});m.sortType="name";m.sortReverse=false}function g(){var t=q.registrationForm.birthYear||0;return((t%400===0||t%100!==0)&&(t%4===0))?1:0}function k(){var t=q.registrationForm.birthMonth||0;return 31-((t===2)?(3-g()):((t-1)%7%2))}function i(){q.numberOfDays=k()}function e(){if(h.showTermsAndPrivacy=="false"){q.registrationForm.privacy=true;q.registrationForm.termsAndConditions=true}console.log(q.selectedCcy);if(c!=null&&c!=""){if(q.selectedCcy==null){n("registration.dialog_header").then(function(t){m.header=t});m.message=n.instant("registration.dialog.select_currency");m.status="ERROR";l.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:m});return}else{q.registrationForm.location=q.selectedCcy.location}}if(h.config!="ug"&&h.config!="ron"){s.saveRegistrationForm(q.registrationForm,function(t){n("registration.dialog_header").then(function(u){m.header=u});m.message=t.message;m.status=t.ibetResponseStatus;l.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:m,preCloseCallback:function(u){if(t.ibetResponseStatus=="OK"){p.go("home.mainContent")}}})})}else{if(h.config=="ron"){if(q.registrationForm.over18YearsOld!=true){n("registration.dialog_header").then(function(t){m.header=t});n("ron_box.for.years").then(function(t){m.message=t});m.status="ERROR";l.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:m,})}else{s.createRegistrationForm(q.registrationForm,function(t){n("registration.dialog_header").then(function(u){m.header=u});m.message=t.message;m.status=t.ibetResponseStatus;l.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:m,preCloseCallback:function(u){if(t.ibetResponseStatus=="OK"){p.go("home.mainContent")}}})})}}if(h.config=="ug"){s.saveRegistrationSimpleForm(q.registrationForm,function(t){n("registration.dialog_header").then(function(u){m.header=u});m.message=t.message;m.status=t.ibetResponseStatus;l.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:m,preCloseCallback:function(u){if(t.ibetResponseStatus=="OK"){p.go("home.mainContent")}}})})}}}}})();
(function(){angular.module("main.registration").controller("ActivateController",a);a.$inject=["$scope","$rootScope","RegistrationService"];function a(c,b,f){var e=this;e.activationMessage="";d();function d(){f.activateAccount(b.stateParams.id,b.stateParams.em,function(h){e.activationMessage=h.message;e.activationStatus=h.ibetResponseStatus});c.$on("$destroy",function g(){e.activationMessage=null;e.activationStatus=null})}}})();
(function(){angular.module("main.registration").controller("SetPasswordController",a);a.$inject=["$scope","$rootScope","RegistrationService","ngDialog","$state","DESIGN"];function a(k,h,d,i,b,j){var e=this;e.loading=false;e.setPassword=c;var g;e.password;e.retypePassword;f();function f(){d.getUsernameForActivation(h.stateParams.iu,function(m){if(m.ibetResponseStatus!="OK"){k.message=m.message;k.status=m.ibetResponseStatus;i.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:k,preCloseCallback:function(n){b.go("home.mainContent")}})}else{g=m.message;e.activationStatus=m.ibetResponseStatus}});k.$on("$destroy",function l(){e.activationMessage=null;e.activationStatus=null})}function c(){e.loading=true;d.activateAccountAndSetPassword(g,e.password,e.retypePassword,function(l){k.message=l.message;k.status=l.ibetResponseStatus;e.loading=false;i.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:k,preCloseCallback:function(m){if(l.ibetResponseStatus=="OK"){b.go("home.mainContent")}}})})}}})();
(function(){angular.module("main.registration").controller("CardRegistrationController",a);a.$inject=["$scope","CardRegistrationService","$translate","$state","$rootScope","DESIGN","ngDialog"];function a(q,j,d,b,l,n,m){var e=this;e.registrationForm={};e.checkUsernameAvailability=c;e.createAccount=h;e.saveAccountDetails=p;e.cancel=r;e.skip=o;i();function i(){e.cardCode=j.getCardCode();e.availability="";e.detailsForm=false;k()}function h(){j.createAccount(e.registrationForm.username,e.registrationForm.password,e.registrationForm.rePassword,e.cardCode.code,function(s){e.message=s.message;e.status=s.ibetResponseStatus;if(e.status=="OK"){g(e.registrationForm.username);e.detailsForm=true}})}function c(s){if(s!=""&&s!=null){j.checkUsernameAvailability(s,function(t){if(t=="OK"){e.availability=t}else{if(t=="NOT_AVAILABLE"){e.availability=t}}console.log(e.availability)})}}function g(s){j.getCardRegistrationDetails(s,function(t){console.log(t);e.userDetailsForm=t})}function p(t,u){j.saveAccountDetails(t,u,s);function s(v){e.detailsMessage=v.message;e.detailsStatus=v.ibetResponseStatus;console.log(v.message);console.log(v.ibetResponseStatus);if(e.detailsStatus=="OK"){o()}}}function r(){k();b.go("home.mainContent")}function o(){k();f(true);b.go("home.mainContent")}function f(s){m.open({template:"views/"+n+"Design/dialog/loginDialog.html",controller:"UserController",controllerAs:"userController",className:"ngdialog-theme-default login-popup-dialog"});j.setCardRegistrationInfo(true)}function k(){e.availability="";e.message="";e.status="";e.detailsMessage="";e.detailsStatus="";e.detailsForm=false;e.registrationForm={};e.userDetailsForm={}}}})();
(function(){angular.module("main.rssFeed",[])})();
(function(){angular.module("main.rssFeed").factory("RssFeed",a);a.$inject=["$http"];function a(b){return{parseFeed:function(c){return b.jsonp("//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=50&callback=JSON_CALLBACK&q="+encodeURIComponent(c))}}}})();
(function(){angular.module("main.rssFeed").directive("rssFeed",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{feedSrc:"="},controller:a,templateUrl:"views/"+c+"Design/rssFeed/rssFeedView.html"}}a.$inject=["$scope","RssFeed"];function a(c,f){function e(){f.parseFeed(c.feedSrc).then(function(g){c.feeds=g.data.responseData.feed.entries})}e();c.convertPublishedDate=d;function d(g){return new Date(g)}setInterval(e,10*60000)}})();
(function(){angular.module("app.user",[])})();
(function(){angular.module("app.user").controller("UserController",a);a.$inject=["UserService","$translate","$window","$scope","ngDialog","base64","$location","$locale","DESIGN","$rootScope","TicketService","CardRegistrationService","$state"];function a(v,z,t,w,r,b,j,G,q,o,k,x,C){var D=this;D.changeLanguage=m;D.user=v.getUsername();D.pollUserBalance=c;if(q!="d"){D.showBalance=false}else{D.showBalance=true}D.login=s;D.logout=B;D.username="";D.password="";D.clearLoginData=E;var m=false;var A=false;D.saveCredentalis=t.localStorage.saveCr!=null&&t.localStorage.saveCr=="true"?true:false;D.changeSaveCr=g;D.isForAutoLogin=h;D.openLoginPopupDialog=f;D.cardId="";D.checkCode=n;D.setPopupState=y;var p=null;d();function d(){e();v.getLanguages(function(H){D.languages=H});v.getLastLogin(function(H){D.lastLogin=H});w.$on("user-session-timeout",function(J,I){k.clearTicket();j.path("/");if(q!="d"){t.localStorage.logout=true;var H=(q=="x")?"x_user.session_expired":"user.session_expired";z(H).then(function(K){w.message=K});r.open({template:"views/"+q+"Design/dialog/dialogView.html",scope:w,preCloseCallback:function(K){t.location.reload()}})}else{t.localStorage.logout=true;t.location.reload()}});o.$on("$translateChangeEnd",function(){if(m){i()}});w.$on("userBalanceUpdated",function(I,H){D.userBalance=H.balance});D.info=x.getCardRegistrationInfo()}function i(){if(C.current.name=="casino-game-display"){C.go("casino")}t.location.reload()}function s(){if(!F()&&!A){A=true;v.login(D.username,D.password,function(H){w.instanceRedirect=" ";if(H.status==0){t.location.reload()}else{D.password="";z("login.dialog_header").then(function(I){w.header=I});if(H.status==1){z("login.user_not_activated").then(function(I){w.message=I})}else{if(H.status==2){z("login.bad_instance_code").then(function(I){w.message=I;if(H.message!=null){z("login.go_to_"+H.message).then(function(J){w.instanceRedirect=" "+J})}})}else{if(H.status==4){z("server.unavailable").then(function(I){w.message=" "+I})}else{z("login.error_message").then(function(I){w.message=I})}}}w.status="ERROR";D.loading=false;if(q!="d"){r.open({template:"views/"+q+"Design/dialog/dialogView.html",scope:w})}}A=false})}}function B(){D.saveCredentalis=false;v.logout()}function E(){D.username="";D.password=""}function c(){D.showBalance=!D.showBalance;if(q=="d"){if(!D.showBalance){u()}}else{if(D.showBalance){u()}}}function u(){v.getUserAccountWithCallback(function(H){D.userBalance=H.balance;D.ccy=H.ccy=="din"?"RSD":H.ccy;G.NUMBER_FORMATS.CURRENCY_SYM=D.ccy});v.getUserFreeBetAccountWithCallback(function(H){D.userFreeBetBalance=H.balance;if(D.userFreeBetBalance!=null){if(H.freebetTotalBonusInfo!=null&&H.freebetTotalBonusInfo.totalBlockedAmount>0){D.userFreeBetBalance=H.balance-H.freebetTotalBonusInfo.totalBlockedAmount;D.userFreeBetBlockedAmount=H.freebetTotalBonusInfo.totalBlockedAmount}D.freeBetCcy=H.ccy=="din"?"RSD":H.ccy}})}function m(H){v.changeServerLanguage(H,function(){var I=angular.element("#app-loaded");I.addClass("hide");m=true;z.use(H)})}function F(){if(D.username!=null&&D.username.trim()!=""&&D.password!=null&&D.password.trim()!=""){return false}else{if(D.cardId!=null){return false}else{return true}}}function g(){if(D.saveCredentalis){t.localStorage.saveCr="true"}else{v.saveUsernameAndPasword("","");t.localStorage.saveCr="false"}}function e(){if(t.localStorage.saveCr!=null&&t.localStorage.saveCr=="true"){var H=v.getUsernameAndPasword();if(H!=null&&H.d1!=null&&H.d2!=null){D.password=b.decode(H.d2);D.username=b.decode(H.d1)}}}function h(){t.localStorage.logout=true}function f(){x.setCardRegistrationInfo(false);console.log(w);w.ngDialog=r;r.open({template:"views/"+q+"Design/dialog/loginDialog.html",controller:"UserController",controllerAs:"userController",scope:w,className:"ngdialog-theme-default login-popup-dialog"})}D.setCardInfoFalse=function(){console.log(D.info);x.setCardRegistrationInfo(false);D.info=x.getCardRegistrationInfo();console.log(D.info)};function n(){if(!F()){D.registrationError="";console.log(D.cardId);x.checkCardCode(D.cardId,function(H){if(H===null||H=="null"||H==""){D.registrationError=z.instant("nx_login.error_message");x.setCardCode(null)}else{x.setCardCode(D.cardId);l()}})}else{if(F()){D.registrationError="";x.checkCardCode(D.cardId,function(H){if(H===null||H=="null"||H==""){D.registrationError=z.instant("nx_login.error_message")}})}}}function l(){w.ngDialog.close();C.go("registration")}function y(H){if(H&&p==null){console.log("set timeout");p=setInterval(u,10000)}else{console.log("clear pollUserDataInterval"+p);clearInterval(p);p=null}}}})();
(function(){angular.module("app.user").service("UserService",a);a.$inject=["$http","DomainService","$window","$rootScope","base64","$document","ProviderService","DESIGN","$translate","ngDialog"];function a(D,f,r,m,c,C,n,p,x,q){var j=1000*60;var e={string:"anonymousUser"};m.user=e.string;var d={};var u={};var t=90;var E=null;var h=false;var o=function(F){return $.param(F)};function y(){B(true);setInterval(B,j);m.$on("poll-user-account",g);v()}var g=function(){D.get(f.getIBetServer()+"/profile/iUserAccount.json").success(function(F){d=F;m.$broadcast("userBalanceUpdated",{balance:F.balance});m.$broadcast("user-account-updated")}).error(function(F){});D.get(f.getIBetServer()+"/profile/iUserFreeBetAccount.json").success(function(F){if(F==null){u={}}else{u=F}m.$broadcast("user-free-bet-account-updated")}).error(function(F){})};var B=function(F,G){D.get(f.getIBetServer()+"/async/getUsername.json").success(function(H){if(e.string!="anonymousUser"&&H.string=="anonymousUser"){m.$broadcast("user-session-timeout")}e.string=H.string;m.user=e.string;if(G!=null){G(e.string)}if(F==true&&e.string!="anonymousUser"){g();n.isEnabledServerCheckWithCallback(m.provider2,function(I){if(I&&p=="b"){l()}})}}).error(function(H){})};this.isUseFreeBetAccount=function(){return h};this.setUseFreeBetAccount=function(F){return h=F};this.getPhpSessionId=function(){return E};this.pollUsernameFromServer=B;this.changeServerLanguage=function(G,F){D.post(f.getIBetServer()+"/setLocale.html",{locale:G},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:o}).success(function(H){F(H)}).error(function(H){F(H)})};this.getGeoIpLan=function(F){D.get(f.getIBetServer()+"/geoIp.json").success(function(G){F(G)}).error(function(G){})};this.isLogedUserFromServer=function(F){D.get(f.getIBetServer()+"/async/getUsername.json").success(function(G){F(G.string!="anonymousUser")}).error(function(G){F(false)})};this.login=function(H,F,G){D.post(f.getIBetServer()+"/loginProcess",{j_username:H,j_password:F,no_html:"true"},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:o}).success(function(I){if(r.localStorage.saveCr!=null&&r.localStorage.saveCr=="true"){w(H,F)}r.localStorage.logout=false;G({status:0})}).error(function(I){r.localStorage.logout=true;G(I)})};var l=function(F){D.get(f.getIBetServer()+"/async/casino/getToken.json").success(function(G){if(G!=null&&G.stringWrapper!=null&&G.stringWrapper.string){E=G.stringWrapper.string}if(F){F(G)}console.log(G)}).error(function(G){console.log(data);if(F){F(data)}})};var A=function(){if(n.isEnabled(m.provider2)){D.get(f.getIBetServer()+"/async/casino/closeCasinoSession.json").success(function(F){console.log(F)}).error(function(F){console.log(F)})}};this.casinoDeposit=function(F,G){};this.casinoWithdraw=function(F,G){};this.getCasinoBalance=function(F){};this.logout=function(F){r.localStorage.logout=true;A();D.get(f.getIBetServer()+"/logout.html").success(function(G){if(F){F(true)}r.location.reload()}).error(function(G){if(F){F(false)}alert("Logout error")})};this.getUsername=function(){return e};this.getUserAccount=function(){return d};this.setUserAccountBalance=function(F){d.balance=F};this.getUserFreeBetAccount=function(){return u};this.getUserAccountWithCallback=function(F){D.get(f.getIBetServer()+"/profile/iUserAccount.json").success(function(G){m.$broadcast("userBalanceUpdated",{balance:G.balance});F(G)}).error(function(G){})};this.getUserFreeBetAccountWithCallback=function(F){D.get(f.getIBetServer()+"/profile/iUserFreeBetAccount.json").success(function(G){F(G)}).error(function(G){})};this.getSessionIdWithCallback=function(F){D.get(f.getIBetServer()+"/getSessionId.json").success(function(G){F(G)}).error(function(G){})};this.getLanguages=function(F){D.get(f.getIBetServer()+"/getLanguages.json").success(function(G){F(G)}).error(function(G){})};this.getLastLogin=function(F){D.get(f.getIBetServer()+"/user/lastLogin.json").success(function(G){F(G)}).error(function(G){})};function w(H,F){var G={d1:c.encode(H),d2:c.encode(F)};r.localStorage.data=JSON.stringify(G)}function b(){var G=r.localStorage.data;if(G==null){return null}var F=JSON.parse(G);if(F.d1==""||F.d2==""){return null}return F}var k;function v(){r.localStorage.lastInteraction=new Date().getTime();var F=function(G){r.localStorage.lastInteraction=new Date().getTime()};k=setInterval(i,1000);C.on("click",F)}function z(){q.openConfirm({template:"views/"+p+"Design/dialog/sessionExpired.html"}).then(function(F){k=setInterval(i,1000)},function(F){s()})}function s(){D.get(f.getIBetServer()+"/logout.html").success(function(F){B();m.$broadcast("user-session-timeout");A()}).error(function(F){alert("Logout error")})}function i(){if(e.string!="anonymousUser"){var F=new Date();F.setMinutes(F.getMinutes()-t);var G=r.localStorage.lastInteraction;if(G<F.getTime()){clearInterval(k);if(p!="d"){s()}else{z()}}}}this.getUsernameAndPasword=b;this.saveUsernameAndPasword=w;this.casinoLogout=A;this.casinoLogin=l;this.getFullLocale=function(F){D.get(f.getIBetServer()+"/getFullLocale.json").success(function(G){F(G)}).error(function(G){})};y()}})();
(function(){angular.module("ticket.tPreviewHeight",[])})();
(function(){angular.module("ticket.tPreviewHeight").directive("tpheight",a);a.$inject=["$window"];function a(c){return{restrict:"A",scope:{height:"@height",iheight:"@iheight",},link:b};function b(f,e,d){f.onResizeFunction=function(){var g=angular.element(c).height();e.css("max-height",(g-parseInt(f.height)+"px"));e.css("height",(g-parseInt(f.iheight)+"px"))};f.onResizeFunction();angular.element(c).bind("resize",function(){f.onResizeFunction();f.$apply()})}}})();
(function(){angular.module("ticket.tPreviewHeight").directive("tdynamic",a);a.$inject=["$window","$timeout"];function a(d,c){return{restrict:"A",scope:{tfooterHeight:"=",notificationHeight:"=",registrationHeight:"="},link:b};function b(n,i,l){var g=angular.element(".ticket-size-inner");var j=90;var h=102;var e=0;var f=0;var k=0;c(m,false);function m(){var o=angular.element(document.querySelectorAll("[tfooter-height]"));e=o.height();var q=angular.element(document.querySelectorAll("[notification-height]"));f=q.height();var p=angular.element(document.querySelectorAll("[registration-height]"));k=p.height();n.$watch(function(){return o.height()},function(s,r){if(s!=r){e=s;n.onResizeFunction()}});n.$watch(function(){return q.height()},function(s,r){if(s!=r){f=s;n.onResizeFunction()}});n.$watch(function(){return p.height()},function(s,r){if(s!=r){k=s;n.onResizeFunction()}});angular.element(d).bind("scroll",function(){var r=angular.element(".passedHeader");if(r.length==0){j=90;n.onResizeFunction()}else{j=0;n.onResizeFunction()}})}n.onResizeFunction=function(){var o=angular.element(d).height();var p=o-e-f-k-h-j-20;g.css("max-height",(parseInt(p)+"px"))};n.onResizeFunction();angular.element(i).bind("resize",function(){n.onResizeFunction();n.$apply()})}}})();
(function(){angular.module("main.ticketSuggestions",[])})();
(function(){angular.module("main.ticketSuggestions").service("TicketSuggestionsService",a);a.$inject=["$http","DomainService","TicketService","$rootScope","DESIGN","$filter"];function a(g,f,d,c,b,e){this.getTicketSuggestions=function(h){g.get(f.getIBetServer()+"/getTicketTemplates.json").success(function(j){for(var n in j){var q=1;var o=j[n].ticket;for(var p in o.ticketStatusSystem){var i=o.ticketStatusSystem[p];for(var r in i.ticketStatusMatch){var l=i.ticketStatusMatch[r];for(var m in l.ticketStatusTipType){var k=l.ticketStatusTipType[m];q*=k.odd}}}o.maxTotalOdd=q;console.log(o);console.log(q)}h(j)}).error(function(i){h(null)})};this.copyTicket=function(n,l){if(n!=null){if(l!=null&&l){d.clearTicket()}if(n.payIn>0){d.setPayIn(n.payIn)}else{d.setPayIn(c.betParams!=null?c.betParams.minPayIn:20)}console.log(n);for(var o in n.ticketStatusSystem){var h=n.ticketStatusSystem[o];for(var p in h.ticketStatusMatch){var k=h.ticketStatusMatch[p];for(var m in k.ticketStatusTipType){var j=k.ticketStatusTipType[m];if(b!=="d"){if(j.live){d.addBet(k.code,k.kickOffTime,j.code,j.caption,j.odd,(j.special!=0?j.special:null),null,j.groupName,k.home,k.away,null,null,n.round,k.leagueName,k.ticketPrintType,(j.specialBetValueType!=null?j.specialBetValueType[0]:null),j.handicapParam,j.specialDisplay)}else{d.addBet(k.code,k.kickOffTime,j.code,j.caption,j.odd,(j.special!=0?j.special:null),null,j.groupName,k.home,k.away,null,null,n.round,k.leagueName,k.ticketPrintType,(j.specialBetValueType!=null?j.specialBetValueType[0]:null),j.handicapParam,j.specialDisplay)}}else{var i=e("date")(k.kickOffTime,"dd.MM. HH:mm");if(j.live){d.addBet(k.code,i,j.code,j.groupName,j.odd,(j.special!=0?j.special:null),null,j.caption,k.home,k.away,null,null,n.round,k.leagueName,k.ticketPrintType,(j.specialBetValueType!=null?j.specialBetValueType[0]:null),j.handicapParam,j.specialDisplay)}else{d.addBet(k.code,i,j.code,j.caption,j.odd,(j.special!=0?j.special:null),null,j.groupName,k.home,k.away,null,null,n.round,k.leagueName,k.ticketPrintType,(j.specialBetValueType!=null?j.specialBetValueType[0]:null),j.handicapParam,j.specialDisplay)}}c.$broadcast("tip-type-"+k.code+"-"+j.code)}}}}}}})();
(function(){angular.module("main.ticketSuggestions").controller("TicketSuggestionsController",a);a.$inject=["TicketSuggestionsService","TicketService","$rootScope"];function a(h,c,b){var e=this;e.addTicket=g;d();function d(){h.getTicketSuggestions(function(i){e.ticketTemplates=i;console.log(i)})}function g(i){h.copyTicket(i,false)}function f(o){for(var j in o.ticketStatusSystem){var l=o.ticketStatusSystem[j];for(var k in l.ticketStatusMatch){var i=l.ticketStatusMatch[k];for(var m in i.ticketStatusTipType){var n=i.ticketStatusTipType[m];c.addBet(i.code,n.code,n.caption,n.odd,n.special,null,n.groupName,i.home,i.away,i.leagueName,i.ticketPrintType);b.$broadcast("tip-type-"+i.code+"-"+n.code)}}}}}})();
(function(){angular.module("main.prepayment",[])})();
(function(){angular.module("main.prepayment").controller("PrepaymentController",a);a.$inject=["PrepaymentService","$scope","ngDialog","DESIGN","$interval"];function a(d,l,j,k,f){var c=this;c.acceptPrepayment=b;c.rejectPrepayment=g;c.returnClassForPrepaymentStatus=d.returnClassForPrepaymentStatus;c.returnLabelForPrepaymentStatus=d.returnLabelForPrepaymentStatus;c.showTicket=i;c.getPrepaymentMapSize=d.getPrepaymentMapSize;c.shortView=5;c.maxView=20;var h=null;e();function e(){c.prepaymentMap=d.getPrepaymentMap();l.$on("prepaymentEventForTicket",function(m,n){if(n.ticketUuid==l.ticketUuid&&h!=null){i(n.uuid,n.payoutStatus,n.requestStatus,n.proposedPayout,n.ticketUuid,n.payoutDeadline)}})}function b(m){d.acceptPrepayment(m,function(n){console.log(n);l.message=n.message;l.status=n.ibetResponseStatus;if(n.ibetResponseStatus=="OK"){h.close();h=null}})}function g(m){d.rejectPrepayment(m,function(n){console.log(n);l.message=n.message;l.status=n.ibetResponseStatus;if(n.ibetResponseStatus=="OK"){h.close();h=null}})}function i(o,m,r,q,p,n){if(h!=null){h.close();h=null}l.labelForPrepaymentStatus=d.returnLabelForPrepaymentStatus(m,r);d.getPrepayment(o,function(s){if(r==2){l.bookmakerNote=s.bookmakerNote}if(m==0&&r==1){l.ticketUuid=p;l.uuid=o;l.proposedPayout=q;l.acceptPrepayment=b;l.rejectPrepayment=g;l.ticketStatus="true";l.payoutDeadline=n;h=j.open({template:"views/"+k+"Design/dialog/ticketPrepaymentView.html",scope:l,className:"ngdialog-theme-default notifications-dialog",preCloseCallback:function(){l.ticketUuid=null;l.bookmakerNote=null}})}else{l.ticketUuid=p;l.proposedPayout=null;l.ticketStatus="true";h=j.open({template:"views/"+k+"Design/dialog/ticketPrepaymentView.html",scope:l,className:"ngdialog-theme-default notifications-dialog",preCloseCallback:function(){l.ticketUuid=null;l.bookmakerNote=null}})}})}}})();
(function(){angular.module("main.prepayment").directive("prepayment",a);a.$inject=["DESIGN"];function a(b){return{scope:{},templateUrl:"views/"+b+"Design/prepayment/prepaymentUIView.html",controller:"PrepaymentController",controllerAs:"prepayment"}}})();
(function(){angular.module("main.imageSlider",[])})();
(function(){angular.module("main.imageSlider").controller("ImageSliderController",a);a.$inject=["$state","ImageSliderService","TipTypeGroupsService","$scope","$window","DomainService","DESIGN","$rootScope","CORE_DESIGN","$timeout"];function a(y,F,D,l,O,z,L,q,c,C){var p=this;p.state=y;p.activeTab=0;p.current={};p.currentMatch={};p.changeTab=h;p.isTabActive=E;if(L=="d"&&q.betParams.imageDelay!=null){p.interval=q.betParams.imageDelay*1000}else{p.interval=8000}p.canChangeTab=true;p.getActiveTab=u;p.changeableTab=g;p.setBck=k;p.showTipTypes=n;p.isFrame=t;var r;p.tipTypesForMatch=[];p.getOddTitle=I;p.openExternalLink=o;p.checkForLink=x;p.hasLink=N;p.calculatePreviusIndex=w;p.calculateNextIndex=H;var s;var b;var d;j(L);p.check=q.showImage;p.change=K;p.coreDesign=c;m();function m(){B();l.$watch(function(){return p.current},function(S,R){if(p.currentMatch!=null&&p.current!=null){J()}k()},true);l.$on("$destroy",function Q(){if(r!=null&&L!="d"){clearInterval(r);r=null}if(r!=null&&L=="d"){C.cancel(r);r=null}p.slides=null;p.current=null;p.currentMatch=null;p.matches=null;p.images=null;p.tipTypesForMatch=null})}function B(){var Q="HOME";F.getImages(Q,function(R){p.slides=R.ImageWithTranslations;p.matches=R.Match;p.images=R.ImageWithTranslations;if(p.images&&p.images.length>0){f();G();p.current=M(0);p.currentMatch=i(p.current.iImage.matchId);if(L=="d"){r=C(e,p.interval)}else{r=setInterval(A,p.interval)}}})}function n(){if(p.current!=null&&p.currentMatch!=null){return true}else{return false}}function J(){p.tipTypesForMatch=[];var Q={};for(var T in p.currentMatch.odBetPickGroups){var Y=p.currentMatch.odBetPickGroups[T].tipTypes;var X=p.current.iImage.tipTypeToken;var U=X.split("#");for(var S in Y){var W={};for(var R=0;R<U.length;R++){if(Y[S].tipTypeId.toString()==U[R]){W.name=Y[S].name;W.tipTypeId=Y[S].tipTypeId;W.value=Y[S].value;W.handicapParamValue=p.currentMatch.odBetPickGroups[T].handicapParamValue;W.id=p.currentMatch.odBetPickGroups[T].id;W.description=p.currentMatch.odBetPickGroups[T].description;Q[Y[S].tipTypeId]=W}}}}for(var V in Q){p.tipTypesForMatch.push(Q[V])}}function t(){if(p.current!=null&&p.current.matchCode=="frame"){return true}else{return false}}function M(Q){Q=(Q>=p.images.length)?p.images.length-1:Q;Q=(Q<0)?0:Q;return p.images[Q]}function v(Q){if(Q>=p.matches.length){return null}Q=(Q<0)?0:Q;return p.matches[Q]}function h(Q){p.activeTab=Q;p.current=M(Q);p.currentMatch=i(p.current.iImage.matchId)}function E(Q){if(Q===p.activeTab){return true}else{return false}}function u(){return p.activeTab}function A(){if(p.canChangeTab){var Q=H();p.current=M(Q);p.currentMatch=i(p.current.iImage.matchId);p.activeTab=Q}}function e(){if(p.canChangeTab){var Q=H();p.current=M(Q);p.currentMatch=i(p.current.iImage.matchId);p.activeTab=Q}r=C(e,p.interval)}function H(){if(p.activeTab+1>=p.images.length){return 0}else{return p.activeTab+1}}function w(){if(p.activeTab==0){return p.images.length-1}else{return p.activeTab-1}}function h(Q){if(Q>=p.images.length){p.activeTab=0}else{p.activeTab=Q}p.current=M(p.activeTab);p.currentMatch=i(p.current.iImage.matchId)}function g(Q){p.canChangeTab=Q}function f(){for(var Q=0;Q<p.images.length;Q++){if(i(p.images[Q].iImage.matchId)==null){p.images[Q].matchCode="frame"}}}function k(){if(p.images!=null&&p.images.length>0){var Q=$(".tab-main-2-img");if(L=="f"){P(Q)}else{if(p.current!=null&&p.current.iImage!=null&&p.current!="frame"&&p.current.matchCode!="frame"){Q.css("background-image","url('"+z.getIBetServer()+"/img/"+p.coreDesign+"/icimage_"+p.current.iImage.id+p.current.iImage.fileType+"')");Q.css("width",d);$(".main-offer-teams").css("visibility","visible");Q.css("background-size",s)}else{if(p.current=="frame"||p.current.matchCode==="frame"){P(Q)}}}}}function P(Q){Q.css("background-image","none");Q.css("width","100%");Q.css("background-repeat","no-repeat");Q.css("background-size",b);$(".main-offer-teams").css("visibility","hidden");Q.css("background-image","url('"+z.getIBetServer()+"/img/"+p.coreDesign+"/icimage_"+p.current.iImage.id+p.current.iImage.fileType+"')")}function i(R){if(p.matches!=null&&R!=null){for(var Q=0;Q<p.matches.length;Q++){if(p.matches[Q]!=null&&p.matches[Q].id==R){return p.matches[Q]}}}else{return null}return null}function I(U,Q,R,T,S){return D.getOddTitle(U,Q,R,T,S)}function G(){if(p.images!=null){var V=new Array();var Q=0;var U=0;var R=new Array();for(var T=0;T<p.images.length;T++){if(p.images[T].matchCode=="frame"){V[Q]=p.images[T];Q++}else{R[U]=p.images[T];U++}}if(L!="d"){Q--;U--;for(var T=0;T<p.images.length;T++){if(Q==-1&&U>=0){p.images[T]=R[U];U--}else{if(U==-1&&Q>=0){p.images[T]=V[Q];Q--}else{if(T%2!=0&&V!=null&&Q>=0){p.images[T]=V[Q];Q--}else{if(T%2==0&&R!=null&&U>=0){p.images[T]=R[U];U--}}}}}}else{var W=0;for(var T=0;T<p.matches.length;T++){if(p.matches[T]!=null){for(var S=0;S<R.length;S++){if(p.matches[T].id==R[S].iImage.matchId){p.slides[T]=R[S];W++;break}}}}if(V.length>0){for(var T=0;T<V.length;T++){if(W==0){p.slides[W]=V[T]}else{p.slides[W]=V[T];W++}}}}}}function o(){if(p.current.iImage.externalLink!=null&&p.current.iImage.externalLink!=""){O.open(p.current.iImage.externalLink)}}function x(){if(p.current.iImage!=null){if(p.current.iImage.externalLink!=null&&p.current.iImage.externalLink!=""){$(".tab-main-2-img").css("cursor","pointer")}else{$(".tab-main-2-img").css("cursor","default")}}}function N(){if(p.current.iImage!=null){if(p.current.iImage.externalLink!=null&&p.current.iImage.externalLink!=""){return true}else{return false}}}function K(){q.showImage=!q.showImage;p.check=q.showImage}function j(Q){switch(Q){case"b":b="738px 210px";s="445px 205px";d="60%";break;case"e":b="738px 210px";s="445px 205px";d="60%";break;case"d":b="710px 290px";s="710px 290px";d="100%";break;case"l":b="802px 210px";s="512px 205px";d="60%";break;case"x":b="795px 205px";s="795px 205px";d="100%";break}}}})();
(function(){angular.module("main.imageSlider").service("ImageSliderService",a);a.$inject=["$http","DomainService","$cacheFactory","DESIGN"];function a(n,i,o,p){var b=o("images");var d="D";var h={};q();function k(){b.removeAll()}function c(){return h}function g(){return Object.keys(h).length}setInterval(j,1000*60*5);function e(u,v,r){var s=u!=null?u:"defaultImagesKey";var t=b.get(s);if(t===undefined){n.get(i.getIBetServer()+"/async/images.json",{params:{imageType:u,deviceType:d,recommended:r}}).success(function(w){b.put(s,w);setTimeout(k,1000*60*4);if(p=="f"&&(u=="HOME"||u=="RECOMMENDED")){l(w)}v(w)}).error(function(w){v(null)})}else{v(t)}}function j(){var r="HOME";var t=false;if(p=="f"){t=true}var s=b.get(r);if(s===undefined){e(r,function(u){},t)}}function f(s){if(s==null){return true}for(var r in s){if(s[r]!=null){return false}}return true}function q(){k();j()}function l(t){m();if(t==null||t.Match==null||f(t.Match)){return 1}var r=0;for(var s in t.Match){if(t.Match[s]!=null){h[r]=t.Match[s];r++}}}function m(){for(var r in h){h[r]=null;delete h[r]}}this.getMatches=c;this.getImages=e;this.getMatchesSize=g}})();
(function(){angular.module("app.home",[])})();
(function(){angular.module("app.home").controller("HomeController",a);a.$inject=["$state","$translate","COMPANY","$scope","$location","$window","SettingsService","$sce","DESIGN","DomainService","ProviderService","CasinoService"];function a(v,o,t,m,e,k,n,j,i,c,h,g){var p;var w=this;w.goToMobile=f;w.trustSrcTerminal=y;w.trustSrcDocs=u;w.design=i;w.isEnabledProvider=x;w.trustSrc=d;w.getAllVirtualGames=r;w.virtualGames={};q();b();function b(){p=setInterval(s,1000);w.state=v;m.$on("$stateChangeStart",function(D,A,C,E,B){w.translatedTitle=t;o("router."+A.name).then(function(F){w.translatedTitle=F})});m.$on("$destroy",function z(){w.translatedTitle=null;w.state=null;clearInterval(p)});s()}function s(){w.clock=Date.now()}function f(){var z=e.protocol()+"://"+e.host()+":"+e.port()+"/ibet-mobile/#/app/home?desc=true";k.location=z}function y(){return j.trustAsResourceUrl(e.protocol()+"://"+e.host()+":"+e.port()+"/ibet-terminal")}function u(z){return j.trustAsResourceUrl(c.getIBetServer()+"/download/"+z+"/pdf.html")}function d(z){return j.trustAsResourceUrl(z)}function q(){n.setInit(w.settings);n.getSettings(function(z){w.settings=z})}function x(z){return z!=null&&z!=""&&h.isEnabled(z)}function r(){g.getVirtualGames(function(B){for(var A in B){var z=B[A];w.virtualGames[z.gameId]=z}})}var l={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return(l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows())}};w.isMobile=l.any()}})();
(function(){angular.module("offer.liveOffer",[])})();
(function(){angular.module("offer.liveOffer").controller("LiveOfferController",a);a.$inject=["$scope","LiveOfferService","LeaguesWithMatchesService","$stateParams","$filter","$location","$anchorScroll","DESIGN","SettingsService","$rootScope","LiveMatchTrackerService","ngDialog","$state","ActiveSportsService","LiveLeagueOfferService","$localStorage","$sessionStorage"];function a(x,K,aj,af,X,U,T,ac,ag,E,i,s,P,r,J,ab,q){var D=this;D.mainContent=af.mainContent;D.liveMatches=K.getLiveMatches();D.liveSport=K.liveSport;D.setLiveSport=m;D.specialCode=0;D.setSpecialCode=o;D.getMinuteOrKickOffTime=c;D.getBetsCount=ak;D.getPeriodScore=aa;D.getPeriodScoreHome=p;D.getCurrentPeriodScoreHome=H;D.getPeriodScoreAway=e;D.getCurrentPeriodScoreAway=A;D.showPeriodResult=al;D.design=ac;D.getSportStatus=O;D.hideSport=ai;D.tmstmp=K.getTmstmp();D.getLiveMatchesSize=B;D.secondHalfTimeHome=ah;D.secondHalfTimeAway=Z;D.goToTop=b;D.virtualFootballRound=K.getChangedData().virtualFootballRound;D.virtualBasketballRound=K.getChangedData().virtualBasketballRound;D.seasonName=K.getChangedData().seasonName;D.seasonNumber=K.getChangedData().seasonNumber;D.limit=(ac==="f")?7:5;D.openStatisticVirtual=W;D.getFlag=h;D.betParams=E.betParams;D.minOdd=D.betParams.minOddLive;D.virtualParams=E.virtualBettingParams;D.scrollLiveSpecial=Q;D.openStatisticNx=l;D.filterParam=false;D.isLiveFavorite=N;D.toggleLiveFavorite=k;D.toggleLiveFavoriteView=ae;D.selectedLiveMatchFavorites=K.getLiveMatchFavorites();D.deleteAllLiveMatchFavorites=K.deleteAllLiveMatchFavorites;D.checkIsMyGames=C;D.getPeriodScoreAByPhase=V;D.getPeriodScoreHByPhase=w;D.sportsResultType=K.getResultTypes();var G=r.getSportsForLive();x.promena=1;D.getBetsCountWithinTopBets=am;if(ac=="d"){D.setForHours=j;D.hours=6;D.isForHours=z;D.getSumScore=t;D.returnSecondHalf=g;D.checkHaveOdds=ad;D.checkLenOfOdds=I;D.setCodeForOpenSpecial=M;D.isLastDelete=F}D.parseBetRadarId=S;D.brMatchId=null;D.initLMT=f;D.checkSportForLMT=n;D.isValid=d;D.getPeriodForLabel=L;u();y();function y(){U.hash("top");T();x.$watch(function(){return K.getTmstmp()},function(ap){D.tmstmp=ap});x.$watch(function(){return K.getVtoData()},function(ap){D.vtoData=ap});if(ac=="d"){x.$watch(function(){return K.getLiveMatchFavorites()},function(ap){D.selectedLiveMatchFavorites=ap})}x.$on("VflMatchday",function(ar,aq){var au=aq.match_day;var at=v(aq.season_name);var ap=aq.season_no;D.seasonNumber=ap;D.seasonName=at;D.virtualFootballRound=au;x.$digest()});x.$on("VblMatchday",function(ar,aq){var au=aq.match_day;var at=aq.season_name.toString();var ap=aq.season_no;D.seasonName=at;D.seasonNumber=ap;D.virtualBasketballRound=au;x.$digest()});x.$on("$destroy",function ao(){K.stopLivePolling();K.statusChangedTrack(false);D.liveMatches=null;K.liveSport.type=null});if((D.mainContent!=null&&D.mainContent=="false")&&D.design==="l"){m(null)}K.startLivePolling(af.virtual);K.statusChangedTrack(true);if(ac=="d"){var an=K.getForOpenSpecial();if(an!=""){o(an);K.setForOpenSpecial("")}}}function o(ap,an){D.specialCode=ap;E.LMT_MATCH=D.brMatchId=an;var ao=ap==0?false:n(ap);if(ao&&ap!=0){f()}if((ap==0&&D.brMatchId!=null)||!ao){i.removeMatch(D.brMatchId,null,"match");i.removeMatch(D.brMatchId,null,"stats")}}function d(an){if(an!=null&&SRLive){return true}return false}function m(an){if(ac=="f"){C()}if(an==null||K.getSports().indexOf(an)>-1){setTimeout(function(){K.liveSport.type=an},0)}b()}function v(ao){var an="VFL Season ";if(ao.toString().indexOf("VFL")>-1){return ao.toString().substr(an.length,ao.length)}}function aa(an,ao){if(ao=="H"&&((Number(an.h)>0&&Number(an.a)>0)||(Number(an.h)===0&&Number(an.a)>0)||(Number(an.h)>0&&Number(an.a)===0)||(Number(an.h)===0&&Number(an.a)===0))){return an.h+"-"+an.a}else{if(ao!="H"&&((Number(an.h)>0&&Number(an.a)>0)||(Number(an.h)===0&&Number(an.a)>0)||(Number(an.h)>0&&Number(an.a)===0))){return an.h+"-"+an.a}}return""}function p(an){if((Number(an.h)>0&&Number(an.a)>0)||(Number(an.h)===0&&Number(an.a)>0)||(Number(an.h)>0&&Number(an.a)===0)){return an.h}return""}function H(ar,an){var ap="";switch(an){case"FIRST_SET":return ar[0].h;case"SECOND_SET":return ar[1].h;case"THIRD_SET":return ar[2].h;case"FOURTH_SET":return ar[3].h;case"FIFTH_SET":return ar[4].h;case"SIXTH_SET":return ar[5].h;case"SEVENTH_SET":return ar[6].h;default:for(var ao in ar){var aq=ar[ao];if((Number(aq.h)>0&&Number(aq.a)>0)||(Number(aq.h)===0&&Number(aq.a)>0)||(Number(aq.h)>0&&Number(aq.a)===0)){ap=aq.h}else{return ap}}}return ap}function A(ar,an){var ap="";switch(an){case"FIRST_SET":return ar[0].a;case"SECOND_SET":return ar[1].a;case"THIRD_SET":return ar[2].a;case"FOURTH_SET":return ar[3].a;case"FIFTH_SET":return ar[4].a;case"SIXTH_SET":return ar[5].a;case"SEVENTH_SET":return ar[6].a;default:for(var ao in ar){var aq=ar[ao];if((Number(aq.h)>0&&Number(aq.a)>0)||(Number(aq.h)===0&&Number(aq.a)>0)||(Number(aq.h)>0&&Number(aq.a)===0)){ap=aq.a}else{return ap}}}return ap}function e(an){if((Number(an.h)>0&&Number(an.a)>0)||(Number(an.h)===0&&Number(an.a)>0)||(Number(an.h)>0&&Number(an.a)===0)){return an.a}return""}function c(an,ao,ap,ar){var aq=null;if(an!="NOT_STARTED"){switch(an){case"FIRST_SET":case"SECOND_SET":case"THIRD_SET":case"FOURTH_SET":case"FIFTH_SET":case"SIXTH_SET":case"SEVENTH_SET":case"FIRST_QUARTER":case"SECOND_QUARTER":case"THIRD_QUARTER":case"FORTH_QUARTER":case"FIRST_PERIOD":case"SECOND_PERIOD":case"THIRD_PERIOD":case"EXTRATIME_HOCKEY":case"EXTRATIME_BASKET":case"INTERRUPTED":aq="match_live_status."+an;break;case"PAUSE":case"FIRST_PAUSE":case"SECOND_PAUSE":case"THIRD_PAUSE":case"FOURTH_PAUSE":if(an=="PAUSE"){if(ar=="S"){aq="match_live_status."+an+(ar!=null?("_"+ar):"")}else{aq="match_live_status."+an}}else{aq="match_live_status."+an+(ar!=null?("_"+ar):"")}break;default:aq=ao}}if(aq===null){aq=X("date")(new Date(ap),"dd.MM. HH:mm")}return aq}function ak(ar){if(ar.liveStatus==0){return 0}var an=ar.bets;var aq=ar.topBets;var ap=0;if(aq!=null&&aq[0].picks!=null&&aq[0].picks.length>0&&aq[0].liveBetStatus=="U"){ap++}if(aq!=null&&aq[1].picks!=null&&aq[1].picks.length>0&&aq[1].liveBetStatus=="U"){ap++}var at=-ap;for(var ao=0;ao<an.length;ao++){if(an[ao]&&an[ao].liveBetStatus=="U"&&an[ao].picks!=null&&an[ao].picks.length>0){at++}}if(at>0){at="+"+at}return at>=0?at:0}function al(ao,an){if((ao=="T"||ao=="V")&&an!=null&&((Number(an.h)>0&&Number(an.a)>0)||(Number(an.h)===0&&Number(an.a)>0)||(Number(an.h)>0&&Number(an.a)===0))){return true}return false}function O(aq,an,ap){if(K.getSports().indexOf(aq)==-1){return ap}if((D.mainContent!=null&&D.mainContent=="true")&&D.design==="l"&&K.liveSport.type==null){for(var ao in G){var aq=G[ao];if(K.getSports().indexOf(aq)!=-1){K.liveSport.type=aq;break}}}if(K.liveSport.type===aq){return an}}function ai(an){return K.getSports().indexOf(an)==-1}function B(){return Object.keys(D.liveMatches).length}function ah(an,ao){return an-ao}function Z(ao,an){return ao-an}function b(){if(D.mainContent!=null&&D.mainContent=="false"){U.hash("top");T()}}function W(ao,au,at,aq){ao=Y(ao);au=Y(au);at=Y(at);if(D.liveSport.type=="T"){var ap=document.getElementById("vto_frame").contentWindow;if(ao!=null&&ao!=""){ap.openVtoStats(ao)}}else{if(D.liveSport.type=="B"){var ar=document.getElementById("vbl_frame").contentWindow;if(au!=null&&au!=""&&at!=null&&at!=""){ar.openVblStats(au,at)}}else{if(D.liveSport.type=="S"){if(ao!=null&&ao!=""){var an=D.virtualParams.vflStatLink.replace("$clientid$",D.virtualParams.clientId).replace("$lang$",R()).replace("$matchid$",ao);window.open(an,"vflstats","width=650,height=490")}}}}}function Y(ao){if(ao==null){ao=""}if(ao.indexOf("_")>-1){var an=ao.split("_");if(an!=null&&an[an.length-1]!=null){return Number(an[an.length-1])}}return ao}function h(an){return D.virtualParams.flagUrl.replace("$clientid$",D.virtualParams.clientId).replace("$playerId$",Y(an))}function u(){ag.setInit(D.settings);ag.getSettings(function(aq){D.settings=aq;var an=!D.settings.promo&&D.settings.lastMinuteOffer&&D.settings.topOffer?2:0;var ap=D.settings.topOffer?0:D.settings.lastMinuteOffer?7:9;var ao=D.settings.lastMinuteOffer?0:D.settings.topOffer?7:9;D.limit+=an+ap+ao})}function Q(){U.hash("special-live-table-"+D.specialCode);T.yOffset=0}function R(){if(E.locale=="sr"){return"srl"}return E.locale}function S(an){if(an!=null&&an.indexOf("BR_")>-1){E.LMT_MATCH=Number(an.substr(3,an.length));return Number(an.substr(3,an.length))}else{E.LMT_MATCH=null;return null}}function f(){if(D.brMatchId!=null){if(D.specialCode!=0){setTimeout(function(){i.addMatch(D.brMatchId);i.addMatchStats(D.brMatchId)},0)}}}function n(ao){if(D.liveMatches!=null&&D.liveMatches[ao]!=null){var an=D.liveMatches[ao].sport;if(ac=="d"){return(an=="T"||an=="S")}else{return(an=="T"||an=="S"||an=="B")}}return false}function l(an,ao){x.loading=true;aj.getStatistics(an).then(function(ap){x.statistic=ap;x.sport=ao;x.loading=false;s.open({template:"views/"+ac+"Design/leagueWithMatches/statistic.html",scope:x,className:"ngdialog-theme-default statistic-popup-dialog",preCloseCallback:function(aq){if(ap.ibetResponseStatus=="OK"){P.go("home.mainContent")}}})})}function N(an){return K.containsLiveMatchFavoriteId(an)}function k(ao,an){K.toggleLiveMatchFavorite(ao,an)}function ae(){D.filterParam=!D.filterParam}function C(){if(D.filterParam){ae()}}function F(){if(D.selectedLiveMatchFavorites.length==0&&D.filterParam){K.liveSport.type=null;ae()}}function j(){if(D.hours<24){D.hours+=6}}function z(ao){var ap=new Date(ao);var an=new Date();an.setHours(an.getHours()+D.hours);if(an.getTime()>ap.getTime()){return true}else{return false}}function t(ap,aq){var ao=0;for(var an=0;an<ap.length;an++){if(aq=="h"){ao+=ap[an].h}else{ao+=ap[an].a}}return ao}function g(ao,an){if(ao!=null&&an!=null&&ao>0&&an>0){return ao-an}else{return"-"}}function ad(ao){for(var an=0;an<ao.length;an++){if(ao[an].oddValue>=D.minOdd){return true}}return false}function I(ap){var an=0;for(var ao=0;ao<ap.length;ao++){if(ap[ao].oddValue>=D.minOdd){an++}}return an}function M(an){if(an!=null){K.liveSport.type=null;K.setForOpenSpecial(an)}}function V(ao,an){return K.getPeriodScoreAByPhase(ao,an)}function w(ao,an){return K.getPeriodScoreHByPhase(ao,an)}function L(ao,an){return K.getPeriodForLabel(ao,an)}function am(ao){if(ao.liveStatus==0){return 0}else{var an=ao.bets;if(an.length>0){return"+"+an.length}else{return 0}}}}})();
(function(){angular.module("offer.liveOffer").controller("LiveOfferOMEController",a);a.$inject=["$scope","LiveOfferService","LeaguesWithMatchesService","$stateParams","$filter","$location","$anchorScroll","DESIGN","SettingsService","$rootScope","LiveMatchTrackerService","ngDialog","$state","ActiveSportsService","$localStorage","$sessionStorage","LiveLeagueOfferService"];function a(D,m,l,am,au,ak,al,Y,G,w,g,H,U,b,ao,W,aj){var v=this;v.mainContent=am.mainContent;v.liveMatches=m.getLiveMatches();v.liveSport=m.liveSport;v.specialCode=0;v.getMinuteOrKickOffTime=aq;v.getPeriodScore=aw;v.getPeriodScoreHome=an;v.getCurrentPeriodScoreHome=O;v.getPeriodScoreAway=t;v.getCurrentPeriodScoreAway=ax;v.showPeriodResult=az;v.design=Y;v.tmstmp=m.getTmstmp();v.secondHalfTimeHome=ay;v.secondHalfTimeAway=C;v.setLiveSport=ae;v.getSportStatus=r;v.goToTop=af;v.virtualFootballRound=m.getChangedData().virtualFootballRound;v.virtualBasketballRound=m.getChangedData().virtualBasketballRound;v.seasonName=m.getChangedData().seasonName;v.seasonNumber=m.getChangedData().seasonNumber;v.limit=(Y==="f")?7:5;v.betParams=w.betParams;v.minOdd=v.betParams.minOddLive;v.virtualParams=w.virtualBettingParams;v.filterParam=false;v.deleteAllLiveMatchFavorites=m.deleteAllLiveMatchFavorites;v.getPeriodScoreAByPhase=h;v.getPeriodScoreHByPhase=y;v.getSizeOfEventMatches=S;v.sportsResultType=m.getResultTypes();v.getSizeOfEventMatches=S;var at=b.getSportsForLive();D.promena=1;v.multiViewMatches=aj.getMatchCodes();v.vtoData=null;if(am.type){aj.setCurrentView(am.type)}if(Y=="b"||Y=="f"){v.multiEvent={view:am.layout,matchCode:aj.getMatchCodeInEventState()}}if(Y=="f"){v.limitLiveMatches=10}v.brMatchId=null;v.initLMT=F;v.checkSportForLMT=Q;v.isValid=aa;v.getPeriodForLabel=f;v.replace=false;v.replacmentMatchCode=0;v.replaceMatchCode=q;v.showSportForOverview=ab;v.setView=z;v.liveSportsForOverView=m.getLiveSportsForOverView();v.toogleLiveFavoriteMatchesForOverView=ah;v.toogleLiveMatchesForOverView=m.getLiveFavoriteMatchesForOverView();v.favoritesMatcheOverViewVisible=false;v.changeMatchInEventState=ac;v.initEventView=o;v.removeAllTabsInEventView=s;v.openMatchFromOverViewToEventState=k;v.scrollRight=p;v.scrollLeft=ad;v.getMaxNumOfMatchesMultiV=L;v.setLMT=Z;v.isLMTOn=av;v.isExistLMTForMatch=n;v.showSportIsChecked=R;v.setSpecialCode=u;v.getBetsCount=A;v.checkIsExistLiveMatchesUsingSport=X;v.announcement=m.getAnn();v.isExistAnn=M;v.setLiveSportsForOverview=e;v.showLiveFavoriteMatchesForOverView=ai;v.isLiveFavoriteMatchesForOverViewVisible=ar;v.openAnn=c;v.isSportsLive=ag;v.getLiveSportType=J;v.setLiveSportType=K;v.setLimitForLiveMatches=V;v.isExistMatchesInLive=aA;E();P();function P(){ak.hash("top");al();D.$watch(function(){return m.getTmstmp()},function(aE){v.tmstmp=aE});if(am.type=="eventview"){D.$on("change-eventview",function(aE,aF){v.lId=Number(aF.matchCode)})}if(am.type=="multiview"){D.$on("change-multiview",function(aE,aF){v.multiViewMatches=aF.matches});D.$on("replace-multiview",function(aE,aF){v.replacmentMatchCode=aF.replaceWith;v.replace=true});D.$on("change-event-in-event-state",function(aE,aF){aj.setMatchCodeInEventState(aF.matchCode);v.multiEvent.matchCode=aF.matchCode});D.$on("multiview-match-code",function(aF,aE){if(v.multiViewMatches.length==0){B(aE.matchCode,aE.sport)}})}D.$watch(function(){return m.getVtoData()},function(aE){v.vtoData=aE});if(Y=="f"){v.liveSportsForOverView=[]}if(Y=="b"||Y=="f"){o();console.log(v.liveSportsForOverView);var aB=b.getSportsForLive();v.liveSports=b.getSportBySportKeys(aB);for(var aC in v.liveSports){v.liveSports[aC].name=v.liveSports[aC].name.substring(0,1).toUpperCase()+v.liveSports[aC].name.substring(1)}D.$watch(function(){return b.getTranslatedSportsMap()},function(){v.liveSports=b.getSportBySportKeys(aB);for(var aE in v.liveSports){v.liveSports[aE].name=v.liveSports[aE].name.substring(0,1).toUpperCase()+v.liveSports[aE].name.substring(1)}});D.$on("sports-for-over-view",function(aE,aG){if(aG.sportsForOverView.length>0){if(W.liveSportForOverViewForChecking!=null&&Object.keys(W.liveSportForOverViewForChecking).length>0){x(aG.sportsForOverView);for(var aF in W.liveSportForOverViewForChecking){v.liveSportsForOverView.push(W.liveSportForOverViewForChecking[aF])}if(Y=="f"){for(var aF=0;aF<v.liveSportsForOverView.length;aF++){m.liveSportChecked.type=v.liveSportsForOverView[aF]}}}else{if(Y=="b"){if(v.liveSports!=null){W.liveSportForOverViewForChecking=[];for(var aF in v.liveSports){if(aG.sportsForOverView.indexOf(v.liveSports[aF].type)>-1){W.liveSportForOverViewForChecking.push(v.liveSports[aF].type);v.liveSportsForOverView.push(v.liveSports[aF].type)}}}}if(Y==="f"){v.liveSportsForOverView=m.getLiveSportsForOverView()}}}});D.$watch(function(){return m.getSports()},function(aE){if(Y=="b"){if(!am.virtual){N(aE)}if(am.virtual=="false"&&am.type=="overview"){i(aE)}}});D.$watch(function(){return m.getLiveMatchesFavoritesForOverViewVisible()},function(aE){v.favoritesMatcheOverViewVisible=aE});D.$watch(function(){return m.getLiveFavoriteMatchesForOverView()},function(aE){v.toogleLiveMatchesForOverView=aE});D.$watch(function(){return m.getAnn()},function(aE){console.log("ann "+aE);v.announcement=aE})}D.$on("$destroy",function aD(){m.stopLivePolling();m.statusChangedTrack(false);v.liveMatches=null});m.startLivePolling(am.virtual);m.statusChangedTrack(true)}function u(aD,aB){v.specialCode=aD;w.LMT_MATCH=v.brMatchId=aB;var aC=aD==0?false:Q(aD);if(aC&&aD!=0){F()}if((aD==0&&v.brMatchId!=null)||!aC){g.removeMatch(v.brMatchId,null,"match");g.removeMatch(v.brMatchId,null,"stats")}}function Z(aC,aB){g.setLMTOnMvEvOv(aC,aB,v.liveMatches)}function av(aC){var aB=g.isExistBrMatchId(aC);if(aB==true){return true}else{return false}}function n(aD,aB){var aC=aD==0?false:g.checkSportForLMT(aD,v.liveMatches);if(aC&&aD!=0&&aB!=null){return true}else{return false}}function aa(aB){if(aB!=null&&SRLive){return true}return false}function aw(aB,aC){if(aC=="H"&&((Number(aB.h)>0&&Number(aB.a)>0)||(Number(aB.h)===0&&Number(aB.a)>0)||(Number(aB.h)>0&&Number(aB.a)===0)||(Number(aB.h)===0&&Number(aB.a)===0))){return aB.h+"-"+aB.a}else{if(aC!="H"&&((Number(aB.h)>0&&Number(aB.a)>0)||(Number(aB.h)===0&&Number(aB.a)>0)||(Number(aB.h)>0&&Number(aB.a)===0))){return aB.h+"-"+aB.a}}return""}function an(aB){if((Number(aB.h)>0&&Number(aB.a)>0)||(Number(aB.h)===0&&Number(aB.a)>0)||(Number(aB.h)>0&&Number(aB.a)===0)){return aB.h}return""}function O(aF,aB){var aD="";switch(aB){case"FIRST_SET":return aF[0].h;case"SECOND_SET":return aF[1].h;case"THIRD_SET":return aF[2].h;case"FOURTH_SET":return aF[3].h;case"FIFTH_SET":return aF[4].h;case"SIXTH_SET":return aF[5].h;case"SEVENTH_SET":return aF[6].h;default:for(var aC in aF){var aE=aF[aC];if((Number(aE.h)>0&&Number(aE.a)>0)||(Number(aE.h)===0&&Number(aE.a)>0)||(Number(aE.h)>0&&Number(aE.a)===0)){aD=aE.h}else{return aD}}}return aD}function ax(aF,aB){var aD="";switch(aB){case"FIRST_SET":return aF[0].a;case"SECOND_SET":return aF[1].a;case"THIRD_SET":return aF[2].a;case"FOURTH_SET":return aF[3].a;case"FIFTH_SET":return aF[4].a;case"SIXTH_SET":return aF[5].a;case"SEVENTH_SET":return aF[6].a;default:for(var aC in aF){var aE=aF[aC];if((Number(aE.h)>0&&Number(aE.a)>0)||(Number(aE.h)===0&&Number(aE.a)>0)||(Number(aE.h)>0&&Number(aE.a)===0)){aD=aE.a}else{return aD}}}return aD}function t(aB){if((Number(aB.h)>0&&Number(aB.a)>0)||(Number(aB.h)===0&&Number(aB.a)>0)||(Number(aB.h)>0&&Number(aB.a)===0)){return aB.a}return""}function aq(aB,aC,aD,aF){var aE=null;if(aB!="NOT_STARTED"){switch(aB){case"FIRST_SET":case"SECOND_SET":case"THIRD_SET":case"FOURTH_SET":case"FIFTH_SET":case"SIXTH_SET":case"SEVENTH_SET":case"FIRST_QUARTER":case"SECOND_QUARTER":case"THIRD_QUARTER":case"FORTH_QUARTER":case"FIRST_PERIOD":case"SECOND_PERIOD":case"THIRD_PERIOD":case"EXTRATIME_HOCKEY":case"EXTRATIME_BASKET":case"INTERRUPTED":aE="match_live_status."+aB;break;case"PAUSE":case"FIRST_PAUSE":case"SECOND_PAUSE":case"THIRD_PAUSE":case"FOURTH_PAUSE":if(aB=="PAUSE"){if(aF=="S"){aE="match_live_status."+aB+(aF!=null?("_"+aF):"")}else{aE="match_live_status."+aB}}else{aE="match_live_status."+aB+(aF!=null?("_"+aF):"")}break;default:aE=aC}}if(aE===null){aE=au("date")(new Date(aD),"dd.MM. HH:mm")}return aE}function A(aF){if(aF.liveStatus==0){return 0}var aB=aF.bets;var aE=aF.topBets;var aD=0;if(aE!=null&&aE[0].picks!=null&&aE[0].picks.length>0&&aE[0].liveBetStatus=="U"){aD++}if(aE!=null&&aE[1].picks!=null&&aE[1].picks.length>0&&aE[1].liveBetStatus=="U"){aD++}var aG=-aD;for(var aC=0;aC<aB.length;aC++){if(aB[aC]&&aB[aC].liveBetStatus=="U"&&aB[aC].picks!=null&&aB[aC].picks.length>0){aG++}}if(aG>0){aG="+"+aG}return aG>=0?aG:0}function az(aC,aB){if((aC=="T"||aC=="V")&&aB!=null&&((Number(aB.h)>0&&Number(aB.a)>0)||(Number(aB.h)===0&&Number(aB.a)>0)||(Number(aB.h)>0&&Number(aB.a)===0))){return true}return false}function ay(aB,aC){return aB-aC}function C(aC,aB){return aC-aB}function af(){if(v.mainContent!=null&&v.mainContent=="false"){ak.hash("top");al()}}function E(){G.setInit(v.settings);G.getSettings(function(aE){v.settings=aE;var aB=!v.settings.promo&&v.settings.lastMinuteOffer&&v.settings.topOffer?2:0;var aD=v.settings.topOffer?0:v.settings.lastMinuteOffer?7:9;var aC=v.settings.lastMinuteOffer?0:v.settings.topOffer?7:9;v.limit+=aB+aD+aC})}function j(){if(w.locale=="sr"){return"srl"}return w.locale}function F(){if(v.brMatchId!=null){if(v.specialCode!=0){setTimeout(function(){g.addMatch(v.brMatchId);g.addMatchStats(v.brMatchId)},0)}}}function Q(aC){if(v.liveMatches!=null&&v.liveMatches[aC]!=null){var aB=v.liveMatches[aC].sport;if(Y=="d"){return(aB=="T"||aB=="S")}else{return(aB=="T"||aB=="S"||aB=="B")}}return false}function h(aC,aB){return m.getPeriodScoreAByPhase(aC,aB)}function y(aC,aB){return m.getPeriodScoreHByPhase(aC,aB)}function f(aC,aB){return m.getPeriodForLabel(aC,aB)}function q(aB){aj.replaceMatchWithAnother(aB,v.replacmentMatchCode);ac(v.replacmentMatchCode);v.replacmentMatchCode=0;v.replace=false}function S(){return v.multiViewMatches.length}function z(aB,aD){var aC=aj.setCurrentView();if(aC!=aB){aj.setCurrentView(aB);if(aD){U.go(aD,{})}}}function N(aC){var aD=false;for(var aB=0;aB<v.liveSportsForOverView.length;aB++){if(m.getSports().indexOf(v.liveSportsForOverView[aB])==-1){m.resetLiveSportsForOverViewData(v.liveSportsForOverView[aB]);aD=true}}if(aD==true){W.liveSportForOverViewForChecking=m.getLiveSportsForOverView();v.liveSportsForOverView=m.getLiveSportsForOverView()}}function ab(aB){return m.getSports().indexOf(aB)>-1}function ah(aB){m.toogleLiveFavoriteMatchesForOverView(aB)}v.isExistLiveMatchInFavorites=I;function I(aB){return m.getLiveFavoriteMatchesForOverView().indexOf(aB)>-1}function ac(aB){aj.setMatchCodeInEventState(aB);v.multiEvent.matchCode=aB}v.removeMatchFromEventState=T;function T(aB){if(aj.getCurrentView()=="multiview"||aj.getCurrentView()=="overview"){aj.removeMatchFromMultiEvent(aB);v.multiEvent.matchCode=aj.getMatchCodeInEventState()}}function o(){if(ao.choosenMatchCodeFromOverView!=null&&am.layout=="eventview"){ac(ao.choosenMatchCodeFromOverView)}ao.choosenMatchCodeFromOverView=null}function s(){aj.removeAllTabsInEventview()}function k(aB){aj.openMatchFromOverViewToEventState(aB)}function x(aC){for(var aB in W.liveSportForOverViewForChecking){if(aC.indexOf(W.liveSportForOverViewForChecking[aB])==-1){W.liveSportForOverViewForChecking.splice(aB,1);x(aC);break}}}function p(){document.getElementById("event-view-scroll-wrapper-id").scrollLeft+=200}function ad(){document.getElementById("event-view-scroll-wrapper-id").scrollLeft-=200}function L(){return aj.getMaxNumOfMatchesMV()}function B(aG,aF){var aE=aj.getLiveOfferData();for(var aD in aE){if(aD==aF){for(var aC in aE[aD].leagues){for(var aB in aE[aD].leagues[aC].matches){if(aG==aE[aD].leagues[aC].matches[aB].matchCode){aj.addMatchCode(aG);ac(aG);break}}}}v.multiViewMatches=aj.getMatchCodes()}}function R(aC){for(var aB=0;aB<v.liveSportsForOverView.length;aB++){if(v.liveSportsForOverView[aB]==aC.type){return true}}return false}function ae(aB){if(aB==null||m.getSports().indexOf(aB)>-1){setTimeout(function(){m.liveSport.type=aB},0)}af()}function r(aE,aB,aD){if(m.getSports().indexOf(aE)==-1){return aD}if((v.mainContent!=null&&v.mainContent=="true")&&v.design==="l"&&m.liveSport.type==null){for(var aC in at){var aE=at[aC];if(m.getSports().indexOf(aE)!=-1){m.liveSport.type=aE;break}}}if(m.liveSport.type===aE){return aB}}function X(aE){var aC=false;var aD=au("orderObjectBy")(au("sportFilter")(m.getLiveMatches(),aE));if(aD!=null){for(var aB in aD){if(aD[aB].showInLive==true&&(aD[aB].showInNajava==true||aD[aB].showInNajava==false)){aC=true;break}}}return aC}function i(aC){if(m.getSports().length!=0){for(var aB=0;aB<v.liveSportsForOverView.length;aB++){if(!ab(v.liveSportsForOverView[aB])){m.resetLiveSportsForOverViewData(v.liveSportsForOverView[aB])}else{if(!X(v.liveSportsForOverView[aB])){m.resetLiveSportsForOverViewData(v.liveSportsForOverView[aB])}}W.liveSportForOverViewForChecking=m.getLiveSportsForOverView();v.liveSportsForOverView=m.getLiveSportsForOverView()}}}function M(aD){var aC=false;for(var aB in aD){if(aD[aB].showInNajava==true&&aD[aB].showInLive==false){aC=true;break}}return aC}function e(aB){m.emptyLiveSportsForOverView();if(m.getLiveMatchesFavoritesForOverViewVisible()){m.setLiveMatchesFavoritesForOverViewVisible()}if(v.announcement){v.announcement=false;m.setAnn(v.announcement)}if(aB!==null){m.setLiveSportsForOverView(aB);if(Y=="f"){m.liveSportChecked.type=aB;console.log("sport type "+J())}}else{if(Y=="f"){m.liveSportChecked.type="all";console.log("sport type "+J())}}v.liveSportsForOverView=m.getLiveSportsForOverView();console.log(m.getLiveSportsForOverView())}function ai(){m.emptyLiveSportsForOverView();if(!m.getLiveMatchesFavoritesForOverViewVisible()){m.setLiveMatchesFavoritesForOverViewVisible()}m.setLiveSportsForOverView(null);v.liveSportsForOverView=m.getLiveSportsForOverView();v.announcement=false;m.setAnn(v.announcement)}function ar(){return m.getLiveMatchesFavoritesForOverViewVisible()}function c(){m.emptyLiveSportsForOverView();if(!v.announcement){v.announcement=!v.announcement}m.setLiveSportsForOverView(null);v.liveSportsForOverView=m.getLiveSportsForOverView();if(m.getLiveMatchesFavoritesForOverViewVisible()){m.setLiveMatchesFavoritesForOverViewVisible()}m.setAnn(v.announcement);console.log("ann "+m.getAnn())}function ag(){var aC=false;for(var aB in v.liveSports){if(ap(v.liveSports[aB].type)){aC=true;break}}return aC}function ap(aB){return aB==null||m.getSports().indexOf(aB)>-1}function d(){if(v.filterParam){toggleLiveFavoriteView()}}function J(){return m.liveSportChecked.type}function K(aB){m.liveSportChecked.type=aB}function V(aB){v.limitLiveMatches=aB}function aA(aB){var aD=false;if(aB!=null&&Object.keys(aB).length>0){for(var aC in aB){if(aB[aC].showInLive==true&&(aB[aC].showInNajava==true||aB[aC].showInNajava==false)){aD=true;break}}}return aD}}})();
(function(){angular.module("offer.liveOffer").service("LiveOfferService",a);a.$inject=["$http","DomainService","timer","$q","TicketService","$rootScope","DESIGN","$localStorage","$sessionStorage"];function a(av,q,H,T,X,v,Z,am,Y){var Q={};var ac=-1;var F=false;var aj=[];var ag=T.defer();var ax=60*1000;var ar=null;var an=-1;var t=-1;var ay="";var o=-1;var b="";var K={name:null,season:null,round:null};var ak={};var M="Virtual Tenis Open ";var ao={};var R=5;var f;var n={};var ai=ai;var E=E;if(v.isMultyBet!==null&&v.isMultyBet==="true"){b="multy/"}var ae="";var al={seasonNumber:-1,seasonName:"",virtualBasketballRound:-1,virtualFootballRound:-1};var D=[];var aa=false;var u=[];var j;var i=[];function r(aA){for(var az in Q){if(Q[az]!=null&&Q[az].sport=="T"&&s(Q[az].externalId)==aA.matchId.toString()){return Q[az]}}return null}function h(aB,az){var aD=az;console.log(az);if(aD!=null){for(var aA in aD){var aC=aD[aA];if(aC){}}}}v.$on("PlaceBets",h);function s(az){if(az.indexOf("BRV_")>-1){return Number(az.substr(4,az.length))}return az}function af(az){if(az!=null&&az.sport=="T"&&az.liveStatus==1){if(K==null){K={name:null,season:null,round:null}}if(K.name==null||K.name!=az.leagueName.substr(M.length,az.leagueName.length)){K.name=az.leagueName.substr(M.length,az.leagueName.length)}if(K.round==null||K.round!=az.leagueRound){K.round=az.leagueRound}if(K.season==null||K.season!=az.leagueSeason){K.season=az.leagueSeason}ak=K}}function c(az){Q[az]=null;delete Q[az]}function ab(az){Q[az.matchCode]=az}function A(az){if(ac==-1&&az==-1){ac=0}else{ac=az}}function aq(){aj=[];for(var az in Q){if(aj.indexOf(Q[az].sport)==-1){aj.push(Q[az].sport)}at(az)}}function y(){console.log(Y.liveSportForOverViewForChecking);if(aj.length==0){Y.liveSportForOverViewForChecking=[]}if(i.length==0&&aj.length!=0){i=aj;v.$broadcast("sports-for-over-view",{sportsForOverView:i})}}function ah(az){X.getWebTicket().updateLiveTipOnTicket(az)}function G(){ag.resolve("stop live poll");ag=T.defer()}function L(){return ar=="virtual/"}var B=function(aA,az){av.post(aA,{},az).then(W,P)};var ap=function(){var az={timeout:ag.promise};var aA="";if(Z=="d"){aA=q.getIBetOfferServer()+"/async/new/live/"+ac+".json"}else{aA=q.getIBetOfferServer()+"/async/"+ar+"live/"+b+ac+".json"}B(aA,az)};function P(az){if(az.status!=-1){setTimeout(ap,200)}}function W(aD){G();var aJ=aD.data.IMatchLiveContainer.matches;var az=aD.data.IMatchLiveContainer.tmstmp;if(aJ!=null){var aI=1000*60*60;var aH=4*1000*60*60;var aB=new Date().getTime();for(var aF in aJ){var aK=aJ[aF];if(Z=="d"){if(ao[aK.matchCode]!=null){if(aK.phase!="END"&&aK.phase!="UNKNOWN"&&aK.liveStatus!=2&&aK.liveStatus!=6&&aK.sport=="S"&&!((aK.kickOffTime+aI)<aB&&(aK.lastChangeTime+aI)<aB)){ao[aK.matchCode]=aK}else{if(aK.liveStatus==2||((aK.kickOffTime+aI)<aB&&(aK.lastChangeTime+aI)<aB)){ao[aK.matchCode]=null;delete ao[aK.matchCode]}}}else{if(aK.phase!="END"&&aK.phase!="UNKNOWN"&&aK.liveStatus!=2&&aK.liveStatus!=6&&aK.sport=="S"&&Object.keys(ao).length<R&&!((aK.kickOffTime+aI)<aB&&(aK.lastChangeTime+aI)<aB)){ao[aK.matchCode]=aK}}}if(!L()){if((aK.showInLive==false&&aK.showInNajava==false&&Z!="d")||aK.disabled==true||(!L()&&(aK.kickOffTime+aI)<aB&&(aK.lastChangeTime+aI)<aB)||(L()&&(aK.kickOffTime+aH)<aB&&(aK.lastChangeTime+aH)<aB)||(Z=="d"&&aK.liveStatus==2)){c(aK.matchCode);if(Z=="b"||Z=="f"){I(aK);am.selectedLiveFavoriteMatchesForOverView=[];am.selectedLiveFavoriteMatchesForOverView=u}}else{if(aK.liveStatus!==2){if(Z=="b"||Z=="f"){for(var aC=0;aC<u.length;aC++){if(u[aC].id==aK.id){u[aC]=aK}}am.selectedLiveFavoriteMatchesForOverView=[];am.selectedLiveFavoriteMatchesForOverView=u}ab(aK);ah(aK);if(Z=="d"&&Q[aK.matchCode].bets!=null){for(var aF=0;aF<Q[aK.matchCode].bets.length;aF++){if(Q[aK.matchCode].sport=="T"&&Q[aK.matchCode].bets[aF].multyBet&&Q[aK.matchCode].bets[aF].specialBetValueType=="HANDICAP"&&Q[aK.matchCode].bets[aF].picks!=null){if(Q[aK.matchCode].bets[aF].picks.length>0){for(var aE=0;aE<Q[aK.matchCode].bets[aF].picks.length;aE++){if(Q[aK.matchCode].bets[aF].picks[aE].specialValue!=null){Q[aK.matchCode].bets[aF].picks[aE].specialValue=Q[aK.matchCode].bets[aF].picks[aE].specialValue*(-1);if(Q[aK.matchCode].bets[aF].picks[aE].specialValue>0){Q[aK.matchCode].bets[aF].picks[aE].specialValue="+"+Q[aK.matchCode].bets[aF].picks[aE].specialValue}}}}}if(Q[aK.matchCode].bets[aF].multyBet&&Q[aK.matchCode].bets[aF].specialBetValueType=="OVER_UNDER"&&Q[aK.matchCode].bets[aF].picks!=null){if(Q[aK.matchCode].bets[aF].picks.length>0){var aG={};var aA=Q[aK.matchCode].bets[aF].picks[0].specialValue;for(var aE=0;aE<Q[aK.matchCode].bets[aF].picks.length;aE++){if(Q[aK.matchCode].bets[aF].picks[aE].specialValue!=aA){aA=Q[aK.matchCode].bets[aF].picks[aE].specialValue}if(aG[aA]==null){aG[aA]=[]}aG[aA].push(Q[aK.matchCode].bets[aF].picks[aE])}Q[aK.matchCode].bets[aF].overUnderMultyShow=aG}}}}}}}else{if((aK.kickOffTime+aH)<aB&&(aK.lastChangeTime+aH)<aB){c(aK.matchCode)}else{ab(aK);ah(aK);af(aK)}}}A(az)}aq();if(Z=="b"||Z=="f"){y()}setTimeout(ap,200)}this.liveSport={type:null};this.liveSportChecked={type:"all"};this.specialCode=0;this.stopLivePolling=function(){};this.startLivePolling=function(az){ad(az)};this.getVirtualBasketballRound=function(){return t};this.getVirtualFootballRound=function(){return an};this.getSeasonName=function(){return ay};this.getSeasonNo=function(){return o};this.statusChangedTrack=function(az){F=az};this.getLiveMatches=function(){return Q};this.getSports=function(){return aj};this.getTmstmp=function(){return ac};this.isVirtual=function(){return ar=="virtual/"};this.getForOpenSpecial=function(){return ae};this.setForOpenSpecial=function(az){ae=az};function l(){return ak}function N(){return al}this.getChangedData=N;this.getVtoData=l;function ad(aB){var az="";if(aB=="true"){az="virtual/"}else{az=""}if(az!=ar){ag.resolve("stop live poll");ag=T.defer();ar=az;aj=[];for(var aA in Q){Q[aA]=null;delete Q[aA]}ac=-1;setTimeout(ap,200)}}setInterval(x,ax);function x(){var aA=new Date().getTime();var aB=1000*60*60;var aC=4*1000*60*60;for(var az in Q){if(!Q[az].virtualSport){if((Q[az].kickOffTime+aB)<aA&&(Q[az].lastChangeTime+aB)<aA){Q[az]=null;delete Q[az]}}else{if((Q[az].kickOffTime+aC)<aA&&(Q[az].lastChangeTime+aC)<aA){Q[az]=null;delete Q[az]}}}}function k(aA){var az="VFL Season ";if(aA.toString().indexOf("VFL")>-1){return aA.toString().substr(az.length,aA.length)}}function at(aE){var aH=[];for(var aA=0;aA<Q[aE].bets.length;aA++){if(Q[aE].bets[aA]!=null){if(Q[aE].bets[aA].tipClassTypeCode==21||Q[aE].bets[aA].tipClassTypeCode==136||Q[aE].bets[aA].tipClassTypeCode==203||Q[aE].bets[aA].tipClassTypeCode==177||Q[aE].bets[aA].tipClassTypeCode==156||Q[aE].bets[aA].tipClassTypeCode==255||Q[aE].bets[aA].tipClassTypeCode==280||Q[aE].bets[aA].tipClassTypeCode==150||Q[aE].bets[aA].tipClassTypeCode==105||Q[aE].bets[aA].tipClassTypeCode==294||Q[aE].bets[aA].tipClassTypeCode==304){if(Z=="b"&&(Q[aE].bets[aA].tipClassTypeCode==255||Q[aE].bets[aA].tipClassTypeCode==280||Q[aE].bets[aA].tipClassTypeCode==294||Q[aE].bets[aA].tipClassTypeCode==304)){aH.push(Q[aE].bets[aA]);break}else{aH.push(Q[aE].bets[aA])}}if(Q[aE].bets[aA].tipClassTypeCode==105&&((Q[aE].bets[aA].periodNumber==1&&Q[aE].phase=="FIRST_SET")||(Q[aE].bets[aA].periodNumber==2&&Q[aE].phase=="SECOND_SET")||(Q[aE].bets[aA].periodNumber==3&&Q[aE].phase=="THIRD_SET")||(Q[aE].bets[aA].periodNumber==4&&Q[aE].phase=="FOURTH_SET")||(Q[aE].bets[aA].periodNumber==5&&Q[aE].phase=="FIFTH_SET"))){aH.push(Q[aE].bets[aA])}}}var aJ=[];var aK={};var aI={};var aG={};var aF={};var aC=0;if(aH.length>0){for(var aD in aH){if(aH[aD].multyBet){for(var aB=0;aB<aH[aD].picks.length;aB++){for(var aA=0;aA<aH[aD].picks.length;aA++){if(aH[aD].picks[aB].specialValue==aH[aD].picks[aA].specialValue&&aH[aD].picks[aB].liveBetPickCode!=aH[aD].picks[aA].liveBetPickCode){var az=Math.abs(aH[aD].picks[aB].oddValue-aH[aD].picks[aA].oddValue);aJ.push(az);aG[az]=aH[aD].picks[aB];aF[az]=aH[aD].picks[aA];break}}}}else{if(aH[aD].picks!=null){if(aH[aD].picks.length>0){var az=Math.abs(aH[aD].picks[0].oddValue-aH[aD].picks[1].oddValue);aJ.push(az);aK[az]=aH[aD]}}}}aC=Math.min.apply(Math,aJ);if(Object.keys(aG).length>0&&Object.keys(aG).length>0){aI.picks=[];aI.picks[1]=aG[aC];aI.picks[0]=aF[aC];aI.specialValue=aG[aC].specialValue;aI.liveBetCaption=aH[aD].liveBetCaption;aI.multyBet=aH[aD].multyBet;aI.liveBetStatus=aH[aD].liveBetStatus;Q[aE].overgameshow=aI}else{if(aK!=null){Q[aE].overgameshow=aK[aC]}else{Q[aE].overgameshow=null}}}else{Q[aE].overgameshow=null}}this.getMatchesInPlay=function(){return ao};function ai(){f=am.selectedLiveMatchFavorites;if(f==null){f=[]}am.selectedLiveMatchFavorites=f;E()}function E(){var az=new Date();var aB=new Date(az.getTime()-1000*60*60*24*2);var aA=f.length;while(aA--){if(f[aA].kickOffTime<aB.getTime()){f.splice(aA,1)}}}if(Z=="d"){setInterval(E,10000)}this.deleteAllLiveMatchFavorites=function(){f=[];am.selectedLiveMatchFavorites=f};this.getLiveMatchFavorites=function(){return f};this.toggleLiveMatchFavorite=function(aC,aB){n={id:aC,kickOffTime:aB};var az=-1;for(var aA in f){if(f[aA].id==aC){az=aA;break}}if(az!=-1){f.splice(az,1)}else{f.push(n)}};this.containsLiveMatchFavoriteId=function(aA){for(var az in f){if(f[az].id==aA){return true}}return false};function z(aA,az){var aB=aw(az.phase);if(aB>=0&&(aA+1)<=aB){return az.matchResult.scores[aA].h}return""}function e(aA,az){var aB=aw(az.phase);if(aB>=0&&(aA+1)<=aB){return az.matchResult.scores[aA].a}return""}function d(aA,az){var aB=aw(az.phase);if(aB>=0&&(aA+1)<=aB){return aA}return""}function aw(az,aA){switch(az){case"FIRST_INNING":case"FIRST_PERIOD":case"FIRST_QUARTER":case"FIRST_HALF":case"FIRST_SET":case"FIRST_PAUSE":case"Q1_Q2_PAUSE":case"PAUSE":return 1;case"SECOND_INNING":case"SECOND_PERIOD":case"SECOND_QUARTER":case"SECOND_HALF":case"SECOND_SET":case"SECOND_PAUSE":return 2;case"THIRD_INNING":case"THIRD_QUARTER":case"THIRD_PERIOD":case"THIRD_SET":case"THIRD_PAUSE":case"Q3_Q4_PAUSE":return 3;case"FOURTH_INNING":case"FOURTH_QUARTER":case"FORTH_QUARTER":case"FOURTH_PAUSE":case"FOURTH_SET":return 4;case"FIFTH_INNING":case"FIFTH_SET":return 5;case"SIXTH_INNING":return 6;case"SEVENTH_INNING":return 7;case"EIGHTH_INNING":return 8;case"NINETH_INNING":return 9;case"OVERTIME_PAUSE":case"EXTRATIME_BASKET":case"EXTRATIME_HOCKEY":return 5}return -1}var g={};g.S={resultType:2};g.TT={resultType:7};g.H={resultType:3};g.T={resultType:5};g.FB={resultType:4};g.HB={resultType:2};g.SN={resultType:2};g.V={resultType:5};g.FS={resultType:2};g.BV={resultType:3};g.B={resultType:4};g.BB={resultType:10};g.BD={resultType:5};function m(){return g}function p(aA){console.log(Y.liveSportForOverViewForChecking);var aB=false;for(var az=0;az<D.length;az++){if(D[az]==aA){aB=true}}if(aB==false){D.push(aA);Y.liveSportForOverViewForChecking=D}else{Y.liveSportForOverViewForChecking=null;C(aA);Y.liveSportForOverViewForChecking=D}}this.resetLiveSportsForOverViewData=C;function C(aB){var aA=D.length;for(var az=0;az<aA;az++){if(D[az]==aB){D.splice(az,1);C(aB);break}}}function I(az){var aB=u.length;for(var aA=0;aA<aB;aA++){if(u[aA].id==az.id){u.splice(aA,1);I(az);break}}}function au(){return D}this.toogleLiveFavoriteMatchesForOverView=function(aA){var aC=false;var az;if(u.length==0){u.push(aA)}else{if(u.length>0){for(var aB=0;aB<u.length;aB++){if(u[aB].id==aA.id){aC=true;az=aB;break}}if(aC==true){u.splice(az,1)}else{u.push(aA)}}}};this.getLiveFavoriteMatchesForOverView=function(){return u};function S(){u=am.selectedLiveFavoriteMatchesForOverView;if(u==null){u=[]}am.selectedLiveFavoriteMatchesForOverView=u;w()}function w(){var az=new Date();var aB=new Date(az.getTime()-1000*60*60*12);var aA=u.length;while(aA--){if(u[aA].kickOffTime<aB.getTime()){u.splice(aA,1)}}am.selectedLiveFavoriteMatchesForOverView=u}setInterval(w,10000);this.setLiveMatchesFavoritesForOverViewVisible=function(){aa=!aa};this.getLiveMatchesFavoritesForOverViewVisible=function(){return aa};this.getSizeOfSelectedLiveFavoriteMatchesForOverView=function(){return u.length};var O=false;function J(az){O=az}function V(){return O}function U(){Y.liveSportForOverViewForChecking=null;D=[]}S();ai();this.getPeriodScoreAByPhase=e;this.getPeriodScoreHByPhase=z;this.getResultTypes=m;this.getPeriodForLabel=d;this.setLiveSportsForOverView=p;this.getLiveSportsForOverView=au;this.setAnn=J;this.getAnn=V;this.emptyLiveSportsForOverView=U}})();
(function(){angular.module("offer.liveOffer").service("LiveLeagueOfferService",a);a.$inject=["$http","DomainService","$q","$rootScope","$localStorage"];function a(n,u,c,l,H){var Q={iLiveSportWithLeagues:{},tmstmp:-1};var d={0:"multiview",1:"overview",2:"eventview"};var h=d[0];var v={};var m;var r=c.defer();var f=60*1000;var P=Number(l.maxNumberOfMatchesInMultiView);var t=[];function k(){return Q.iLiveSportWithLeagues}function O(T){if(Q.tmstmp==-1&&T==-1){Q.tmstmp=0}else{Q.tmstmp=T}}function M(){r.resolve("stop live poll");r=c.defer()}var E=function(U,T){n.post(U,{},T).then(x,J)};var C=function(){var T={timeout:r.promise};var U=u.getIBetOfferServer()+"/async/live/multi/basic/"+Q.tmstmp+".json";E(U,T)};function J(T){if(T.status!=-1){setTimeout(C,200)}}function i(W){if(Q.tmstmp==-1&&W){var Z=[];for(var X in Q.iLiveSportWithLeagues){for(var V in Q.iLiveSportWithLeagues[X].leagues){var Y=Q.iLiveSportWithLeagues[X].leagues[V];for(var T in Y.matches){var U=Y.matches[T];Z=Z.concat(U.matchCode)}}}}}function x(V){M();var ad=V.data.IMatchLiveContainer.iLiveSportWithLeaguesList;var T=V.data.IMatchLiveContainer.tmstmp;if(ad!=null){var aa=true;for(var X in ad){var ab=ad[X];if(Q.iLiveSportWithLeagues[ab.sportId]==null){Q.iLiveSportWithLeagues[ab.sportId]={sportName:ab.sportName,sportId:ab.sportId,sportOrderNumber:ab.sportOrderNumber,leagues:{}}}for(var W in ab.leagues){var U=ab.leagues[W];var Z=U.matchLiveInfoList;for(var ac in Z){var Y=Z[ac];if(Y.remove){if(Q.iLiveSportWithLeagues[ab.sportId]!=null&&Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode]!=null){Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode].matches[Y.matchCode]=null;delete Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode].matches[Y.matchCode];if(Object.keys(Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode].matches).length==0){Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode]=null;delete Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode]}if(t!=null&&j(Y.matchCode)){K(Y.matchCode)}}}else{if(Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode]==null){Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode]={leagueName:U.leagueName,leagueCode:U.leagueCode,leaguePrintOrder:U.leaguePrintOrder,matches:{}}}Q.iLiveSportWithLeagues[ab.sportId].leagues[U.leagueCode].matches[Y.matchCode]=Y;if(t==null||t.length==0){l.$broadcast("multiview-match-code",{matchCode:Y.matchCode,sport:ab.sportId})}if(t){if(m==null){}}}}}if(Object.keys(Q.iLiveSportWithLeagues[ab.sportId].leagues).length==0){Q.iLiveSportWithLeagues[ab.sportId]=null;delete Q.iLiveSportWithLeagues[ab.sportId]}}if(aa){i(aa);aa=false}O(T)}console.log(Q);setTimeout(C,200)}function o(){Q.liveMatchesMap={};M()}function N(){N()}function N(){r.resolve("stop live poll");r=c.defer();for(var T in Q.liveMatchesMap){Q.liveMatchesMap[T]=null;delete Q.liveMatchesMap[T]}Q.tmstmp=-1;setTimeout(C,200)}function s(){var U=new Date().getTime();var V=1000*60*60;for(var T in Q.liveMatchesMap){if((Q.liveMatchesMap[T].kickOffTime+V)<U&&(Q.liveMatchesMap[T].lastChangeTime+V)<U){Q.liveMatchesMap[T]=null;delete Q.liveMatchesMap[T]}}}function y(){return h}function q(T){h=T}function R(T){if(!j(T)){t.push(T);l.$broadcast("change-multiview",{matches:t});l.$broadcast("change-event-in-event-state",{matchCode:T})}}function j(U){for(var T=0;T<t.length;T++){if(t[T]==U){return true}}return false}function K(U){for(var T=0;T<t.length;T++){if(t[T]==U){t.splice(T,1);break}}l.$broadcast("change-multiview",{matches:t})}function b(){return t}function G(T){if(y()=="multiview"){return j(T)}}function A(T){v={};R(T)}function D(V,U){for(var T=0;T<t.length;T++){if(t[T]==V){t[T]=U;break}}}function z(){return P}function I(){return m}function g(T){l.$broadcast("change-eventview",{matchCode:T});m=T}var w;function B(T){w=T}function F(){return w}function e(U){if(t.length>1){if(w==U){for(var T=0;T<t.length;T++){if(t[T]==U){if(T!=t.length-1){B(t[T+1]);K(U)}else{B(t[T-1]);K(U)}}}}else{K(U)}}}function p(){if(t.length>1){var T=t.length-1;while(T>0){K(t[T]);T--}B(t[0]);l.$broadcast("change-event-in-event-state",{matchCode:t[0]})}}function S(T){if(t.length<z()){if(j(T)){H.choosenMatchCodeFromOverView=T;l.$broadcast("change-event-in-event-state",{matchCode:T})}else{R(T);H.choosenMatchCodeFromOverView=T}}else{if(j(T)){H.choosenMatchCodeFromOverView=T;l.$broadcast("change-event-in-event-state",{matchCode:T})}else{e(t[0]);R(T);H.choosenMatchCodeFromOverView=T}}}function L(){setInterval(s,f)}L();return{getLiveOfferData:k,stopLivePolling:o,startLivePolling:N,getCurrentView:y,setCurrentView:q,addMatchCode:R,deleteMatchCode:K,getMatchCodes:b,isMatchCodeExist:G,replaceMatch:A,replaceMatchWithAnother:D,getMaxNumOfMatchesMV:z,checkMatchCode:j,setMatchCodeInEventState:B,getMatchCodeInEventState:F,removeMatchFromMultiEvent:e,removeAllTabsInEventview:p,openMatchFromOverViewToEventState:S}}})();
(function(){angular.module("offer.liveOffer").controller("LiveOfferSportController",a);a.$inject=["DESIGN","$state","$rootScope","$stateParams","$filter","LiveOfferService","$timeout","$scope","$translate","$localStorage","ActiveSportsService","$sessionStorage","LiveLeagueOfferService"];function a(g,y,e,B,l,f,D,m,o,s,r,d,x){var z=this;z.setView=u;z.changeMatch=h;c();z.multiViewMatches=x.getMatchCodes();z.isMatchCodeExist=E;z.getMinuteOrKickOffTime=t;z.getCurrentPeriodScoreHome=b;z.getCurrentPeriodScoreAway=A;z.getLengthOfLiveMatches=q;z.getLenghtOfLiveSports=p;z.isSportChecked=i;z.collapseLiveSport=k;z.showLiveSport=j;var n;function c(){if(g=="b"||g=="f"){x.startLivePolling();var F=r.getSportsForLive();z.liveSportsMenu=r.getSportBySportKeys(F);for(var G in z.liveSportsMenu){z.liveSportsMenu[G].name=z.liveSportsMenu[G].name.substring(0,1).toUpperCase()+z.liveSportsMenu[G].name.substring(1)}m.$watch(function(){return r.getTranslatedSportsMap()},function(){z.liveSportsMenu=r.getSportBySportKeys(F);for(var H in z.liveSportsMenu){z.liveSportsMenu[H].name=z.liveSportsMenu[H].name.substring(0,1).toUpperCase()+z.liveSportsMenu[H].name.substring(1)}});m.$watch(function(){return f.getSports()},function(H){for(var I=0;I<z.liveSportCollapsed.length;I++){v(H)}});z.liveSportCollapsed=[];if(d.liveSportForOverViewForChecking!=null){for(var G in d.liveSportForOverViewForChecking){z.liveSportCollapsed.push(d.liveSportForOverViewForChecking[G])}}m.$on("sports-for-over-view",function(I,K){if(K.sportsForOverView.length>0){if(d.liveSportForOverViewForChecking!=null&&Object.keys(d.liveSportForOverViewForChecking).length>0){z.liveSportCollapsed=[];for(var J in d.liveSportForOverViewForChecking){z.liveSportCollapsed.push(d.liveSportForOverViewForChecking[J])}}else{var H=r.getSportsForLive();var L=r.getSportBySportKeys(H);for(var J in L){L[J].name=L[J].name.substring(0,1).toUpperCase()+L[J].name.substring(1)}if(L!=null){for(var J in L){if(K.sportsForOverView.indexOf(L[J].type)>-1){z.liveSportCollapsed.push(L[J].type)}}}}}});e.$on("max_matches_is_choosen",function(H,I){if(I.maxMatchesIsChoosen==true){z.max_matches_is_choosen=o.instant("live.eventview.max.matches.is.choosen");n=D(function(){z.max_matches_is_choosen=""},5000)}});m.$on("$destroy",function(){D.cancel(n)})}z.liveOfferData=x.getLiveOfferData();console.log(z.liveOfferData)}function u(F,H){var G=x.setCurrentView();if(G!=F){x.setCurrentView(F);if(H){y.go(H,{})}}}z.setLiveSportOverview=C;function C(F){f.liveSportChecked.type=F}function h(G){console.log(B.layout);if(B.layout=="multiview"){if(z.multiViewMatches!=null&&z.multiViewMatches.length>0){if(z.multiViewMatches.length<x.getMaxNumOfMatchesMV()){if(x.checkMatchCode(G)){if(z.multiViewMatches.length>1){x.deleteMatchCode(G)}}else{x.addMatchCode(G)}}else{if(x.checkMatchCode(G)){x.deleteMatchCode(G)}else{e.$broadcast("replace-multiview",{replaceWith:G})}}}else{x.addMatchCode(G)}}if(B.layout=="eventview"){if(z.multiViewMatches!=null&&z.multiViewMatches.length>0){if(x.checkMatchCode(G)){if(z.multiViewMatches.length>1){if(x.getMatchCodeInEventState()==G){for(var F=0;F<z.multiViewMatches.length;F++){if(z.multiViewMatches[F]==G){if(F!=z.multiViewMatches.length-1){e.$broadcast("change-event-in-event-state",{matchCode:z.multiViewMatches[F+1]});x.deleteMatchCode(G)}else{e.$broadcast("change-event-in-event-state",{matchCode:z.multiViewMatches[F-1]});x.deleteMatchCode(G)}}}}else{x.deleteMatchCode(G)}}}else{if(z.multiViewMatches.length<x.getMaxNumOfMatchesMV()){x.addMatchCode(G)}else{e.$broadcast("max_matches_is_choosen",{maxMatchesIsChoosen:true})}}}}}function E(F){return x.isMatchCodeExist(F)}z.urlContainsMultiOrEvent=w;function w(F){if(B.layout==F){return true}}function t(F,G,H,J){var I=null;if(F!="NOT_STARTED"){switch(F){case"FIRST_SET":case"SECOND_SET":case"THIRD_SET":case"FOURTH_SET":case"FIFTH_SET":case"SIXTH_SET":case"SEVENTH_SET":case"FIRST_QUARTER":case"SECOND_QUARTER":case"THIRD_QUARTER":case"FORTH_QUARTER":case"FIRST_PERIOD":case"SECOND_PERIOD":case"THIRD_PERIOD":case"EXTRATIME_HOCKEY":case"EXTRATIME_BASKET":case"INTERRUPTED":I="match_live_status."+F;break;case"PAUSE":case"FIRST_PAUSE":case"SECOND_PAUSE":case"THIRD_PAUSE":case"FOURTH_PAUSE":if(F=="PAUSE"){if(J=="S"){I="match_live_status."+F+(J!=null?("_"+J):"")}else{I="match_live_status."+F}}else{I="match_live_status."+F+(J!=null?("_"+J):"")}break;default:I=G}}if(I===null){I=l("date")(new Date(H),"dd.MM. HH:mm")}return I}function b(J,F){var H="";switch(F){case"FIRST_SET":return J[0].h;case"SECOND_SET":return J[1].h;case"THIRD_SET":return J[2].h;case"FOURTH_SET":return J[3].h;case"FIFTH_SET":return J[4].h;case"SIXTH_SET":return J[5].h;case"SEVENTH_SET":return J[6].h;default:for(var G in J){var I=J[G];if((Number(I.h)>0&&Number(I.a)>0)||(Number(I.h)===0&&Number(I.a)>0)||(Number(I.h)>0&&Number(I.a)===0)){H=I.h}else{return H}}}return H}function A(J,F){var H="";switch(F){case"FIRST_SET":return J[0].a;case"SECOND_SET":return J[1].a;case"THIRD_SET":return J[2].a;case"FOURTH_SET":return J[3].a;case"FIFTH_SET":return J[4].a;case"SIXTH_SET":return J[5].a;case"SEVENTH_SET":return J[6].a;default:for(var G in J){var I=J[G];if((Number(I.h)>0&&Number(I.a)>0)||(Number(I.h)===0&&Number(I.a)>0)||(Number(I.h)>0&&Number(I.a)===0)){H=I.a}else{return H}}}return H}function q(H){var G=0;for(var F in H){G+=Object.keys(H[F].matches).length}return G}function p(F){return Object.keys(F).length}function i(F){if(z.liveSportCollapsed!=null){if(z.liveSportCollapsed.indexOf(F)>-1){return true}}return false}function k(G){if(z.liveSportCollapsed!=null){if(z.liveSportCollapsed.indexOf(G)>-1){for(var F=0;F<z.liveSportCollapsed.length;F++){if(z.liveSportCollapsed[F]==G){z.liveSportCollapsed.splice(F,1);f.setLiveSportsForOverView(G);return}}}else{z.liveSportCollapsed.push(G);f.setLiveSportsForOverView(G)}}else{z.liveSportCollapsed.push(G);f.setLiveSportsForOverView(G)}}function j(F){return z.liveOfferData.hasOwnProperty(F)}function v(H){var G=z.liveSportCollapsed.length;for(var F=0;F<G;F++){if(H.indexOf(z.liveSportCollapsed[F])==-1){z.liveSportCollapsed.splice(F,1);v(H);break}}}}})();
(function(){angular.module("offer.liveOffer").directive("remainingPeriodTime",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{phase:"=",sport:"=",remainingPeriodTime:"="},controller:a,templateUrl:"views/"+c+"Design/liveOffer/remainingPeriodTime/remainingPeriodTimeView.html"}}a.$inject=["$scope","DESIGN"];function a(e,c){e.calculateRemainingTime=d;f();function f(){d()}function d(){var g="";if((e.sport==="B"||e.sport==="H")&&e.phase!="NOT_STARTED"&&e.remainingPeriodTime!=null){switch(e.phase){case"FIRST_QUARTER":case"SECOND_QUARTER":case"THIRD_QUARTER":case"FORTH_QUARTER":case"FIRST_PERIOD":case"SECOND_PERIOD":case"THIRD_PERIOD":case"EXTRATIME_HOCKEY":g+=" "+((Math.floor(e.remainingPeriodTime/60)<10)?("0"+Math.floor(e.remainingPeriodTime/60)):Math.floor(e.remainingPeriodTime/60))+":"+((e.remainingPeriodTime%60<10)?("0"+e.remainingPeriodTime%60):e.remainingPeriodTime%60);return g}}return g}}})();
(function(){angular.module("offer.liveOffer").directive("servingBall",a);a.$inject=[];function a(){return function(d,c,b){d.$watch(b.servingBall,function(e,f){if(e!=null&&f!=null&&e.h!=null&&f.h!=null&&e.a!=null&&f.a!=null){if(e.h!==f.h||e.a!==f.a){if((e.h!=0&&(f.h!=40||f.h!=50))||(e.a!=0&&(f.a!=40||f.a!=50))){c.addClass("show-animate-tennis-ball");setTimeout(function(){c.removeClass("show-animate-tennis-ball")},5000)}}}})}}})();
(function(){angular.module("offer.liveOffer").directive("servingBallWithCode",a);a.$inject=["$timeout"];function a(b){return function(f,e,c){var d;f.$watch(c.servingBallWithCode,function(g,h){if(g!=null&&h!=null&&g.matchResult.gemScore!=null&&h.matchResult.gemScore!=null&&g.matchResult.gemScore.h!=null&&h.matchResult.gemScore.h!=null&&g.matchResult.gemScore.a!=null&&h.matchResult.gemScore.a!=null&&g.matchCode==h.matchCode){if(g.matchResult.gemScore.h!==h.matchResult.gemScore.h||g.matchResult.gemScore.a!==h.matchResult.gemScore.a){if((g.matchResult.gemScore.h!=0&&(h.matchResult.gemScore.h!=40||h.matchResult.gemScore.h!=50))||(g.matchResult.gemScore.a!=0&&(h.matchResult.gemScore.a!=40||h.matchResult.gemScore.a!=50))){e.addClass("show-animate-tennis-ball");d=b(function(){e.removeClass("show-animate-tennis-ball")},5000)}}}else{e.removeClass("show-animate-tennis-ball");b.cancel(d)}});f.$on("$destroy",function(g){b.cancel(d)})}}})();
(function(){angular.module("offer.lmt",[])})();
(function(){angular.module("offer.lmt").controller("LiveMatchController",a);a.$inject=["LiveMatchTrackerService","$rootScope"];function a(f,d){var h=this;h.setPage=e;h.getPage=c;h.setSelected=i;h.getSelected=b;h.selected=1;g();function g(){}function e(j){f.setPage(j)}function c(){return f.getPage()}function i(j){h.selected=j;if(h.selected!=j){f.removeMatch(d.LMT_MATCH)}if(h.selected==1){e("match")}else{e("stats")}f.addMatch(d.LMT_MATCH)}function b(){return h.selected}}})();
(function(){angular.module("offer.lmt").service("LiveMatchTrackerService",a);a.$inject=["$http","ENABLE_LMT","DESIGN","$rootScope"];function a(y,u,l,h){var q={};var d={};var w=5;var m={matchId:10524270,container:".lmt-container",collapse_enabled:false,pitchCrowd:true,showPitch:true,showSidebar:false,showTitle:false,sidebarLayout:"dynamic"};var z={container:".lmt-matchstats",showTitle:false,matchId:10524270,};var r="match";function f(A){c(q);q[A]=e(A,"match")}function v(A){c(d);d[A]=e(A,"stats")}function g(D,C,B){if(B!=null){C=q;if(B=="stats"){C=d}}if(C!=null){for(var A in C){if(C[A]!=null){b(C[A]);delete C[A]}}}}function c(B){if(B!=null){for(var A in B){b(B[A]);delete B[A]}}}function j(){if(q==null){return false}return Object.keys(q).length>w}function i(B){if(q!=null){for(var A in q){if(q[A]==B){return true}}return false}else{return false}}function e(C,B){if(p()&&C!=null){var E=m;var D="widgets.lmts";E.container=".lmt-container-"+C;if(B=="stats"){E=z;D="widgets.matchstats";E.container=".lmt-container-stats-"}if(l=="d"){E.showSidebar=true}E.matchId=C;var A=SRLive.addWidget({name:D,config:E,callback:function(){}});return A}}function b(B){if(p()){var A=SRLive.getWidget(B);A.pauseFeeds();SRLive.event.trigger("eventpoller_stop",false,false,"global");SRLive.removeWidget(B)}}function p(){if(SRLive&&u!=null&&u=="true"){return true}return false}function t(){return r}function k(A){r=A}function x(A){return q[A]!=null}function n(C,A){if(A!=null&&A[C]!=null){var B=A[C].sport;if(l=="d"){return(B=="T"||B=="S")}else{return(B=="T"||B=="S"||B=="B")}}return false}function o(E,C,A){var B=x(C);if(B==false){h.LMT_MATCH=C;var D=E==0?false:n(E,A);if(D&&E!=0){s(C,E)}if((E==0&&C!=null)||!D){g(C,null,"match");g(C,null,"stats")}}else{g(C,null,"match");g(C,null,"stats")}}function s(A,B){if(A!=null){if(B!=0){setTimeout(function(){f(A);v(A)},0)}}}this.removeMatch=g;this.addMatch=f;this.ifExist=i;this.getPage=t;this.setPage=k;this.addMatchStats=v;this.isExistBrMatchId=x;this.checkSportForLMT=n;this.setLMTOnMvEvOv=o}})();
(function(){angular.module("offer.liveSpecialDetails",[])})();
(function(){angular.module("offer.liveSpecialDetails").directive("liveSpecialDetails",a);a.$inject=["DESIGN"];function a(c){return{restrict:"E",scope:{liveMatch:"=",view:"="},templateUrl:"views/"+c+"Design/liveOffer/liveSpecialDetails.html",controller:b,controllerAs:"lsd",bindController:true}}b.$inject=["LiveOfferService","$filter"];function b(i,g){var d=this;d.sportsResultType=i.getResultTypes();d.getPeriodForLabel=h;d.getPeriodScoreAByPhase=f;d.getPeriodScoreHByPhase=e;d.getMinuteOrKickOffTime=c;function f(k,j){return i.getPeriodScoreAByPhase(k,j)}function e(k,j){return i.getPeriodScoreHByPhase(k,j)}function h(k,j){return i.getPeriodForLabel(k,j)}function c(j,k,l,n){var m=null;if(j!="NOT_STARTED"){switch(j){case"FIRST_SET":case"SECOND_SET":case"THIRD_SET":case"FOURTH_SET":case"FIFTH_SET":case"SIXTH_SET":case"SEVENTH_SET":case"FIRST_QUARTER":case"SECOND_QUARTER":case"THIRD_QUARTER":case"FORTH_QUARTER":case"FIRST_PERIOD":case"SECOND_PERIOD":case"THIRD_PERIOD":case"EXTRATIME_HOCKEY":case"EXTRATIME_BASKET":case"INTERRUPTED":m="match_live_status."+j;break;case"PAUSE":case"FIRST_PAUSE":case"SECOND_PAUSE":case"THIRD_PAUSE":case"FOURTH_PAUSE":if(j=="PAUSE"){if(n=="S"){m="match_live_status."+j+(n!=null?("_"+n):"")}else{m="match_live_status."+j}}else{m="match_live_status."+j+(n!=null?("_"+n):"")}break;default:m=k}}if(m===null){m=g("date")(new Date(l),"dd.MM. HH:mm")}return m}}})();
(function(){angular.module("offer.liveMatchesOverViewDetails",[])})();
(function(){angular.module("offer.liveMatchesOverViewDetails").directive("liveMatchesOverviewDetails",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{liveMatches:"=",sport:"=",limitMatches:"="},templateUrl:"views/"+c+"Design/liveOffer/liveMatchesOverviewDetails.html",controller:a,controllerAs:"lmodc",bindController:true}}a.$inject=["LiveMatchTrackerService","$scope","LiveLeagueOfferService","$filter","LiveOfferService"];function a(p,s,r,m,e){var f=this;f.isExistLMTForMatch=d;f.setLMT=h;f.isLMTOn=j;f.getMinuteOrKickOffTime=c;f.openMatchFromOverViewToEventState=q;f.getPeriodScoreHome=o;f.getPeriodScoreAway=k;f.getCurrentPeriodScoreHome=n;f.getCurrentPeriodScoreAway=l;f.toogleLiveFavoriteMatchesForOverView=g;f.isExistLiveMatchInFavorites=i;function h(u,t){p.setLMTOnMvEvOv(u,t,s.liveMatches)}function j(u){var t=p.isExistBrMatchId(u);if(t==true){return true}else{return false}}function q(t){r.openMatchFromOverViewToEventState(t)}function d(v,t){var u=v==0?false:p.checkSportForLMT(v,s.liveMatches);if(u&&v!=0&&t!=null){return true}else{return false}}function g(t){e.toogleLiveFavoriteMatchesForOverView(t)}function i(t){return e.getLiveFavoriteMatchesForOverView().indexOf(t)>-1}function c(t,u,v,x){var w=null;if(t!="NOT_STARTED"){switch(t){case"FIRST_SET":case"SECOND_SET":case"THIRD_SET":case"FOURTH_SET":case"FIFTH_SET":case"SIXTH_SET":case"SEVENTH_SET":case"FIRST_QUARTER":case"SECOND_QUARTER":case"THIRD_QUARTER":case"FORTH_QUARTER":case"FIRST_PERIOD":case"SECOND_PERIOD":case"THIRD_PERIOD":case"EXTRATIME_HOCKEY":case"EXTRATIME_BASKET":case"INTERRUPTED":w="match_live_status."+t;break;case"PAUSE":case"FIRST_PAUSE":case"SECOND_PAUSE":case"THIRD_PAUSE":case"FOURTH_PAUSE":if(t=="PAUSE"){if(x=="S"){w="match_live_status."+t+(x!=null?("_"+x):"")}else{w="match_live_status."+t}}else{w="match_live_status."+t+(x!=null?("_"+x):"")}break;default:w=u}}if(w===null){w=m("date")(new Date(v),"dd.MM. HH:mm")}return w}function o(t){if((Number(t.h)>0&&Number(t.a)>0)||(Number(t.h)===0&&Number(t.a)>0)||(Number(t.h)>0&&Number(t.a)===0)){return t.h}return""}function n(x,t){var v="";switch(t){case"FIRST_SET":return x[0].h;case"SECOND_SET":return x[1].h;case"THIRD_SET":return x[2].h;case"FOURTH_SET":return x[3].h;case"FIFTH_SET":return x[4].h;case"SIXTH_SET":return x[5].h;case"SEVENTH_SET":return x[6].h;default:for(var u in x){var w=x[u];if((Number(w.h)>0&&Number(w.a)>0)||(Number(w.h)===0&&Number(w.a)>0)||(Number(w.h)>0&&Number(w.a)===0)){v=w.h}else{return v}}}return v}function l(x,t){var v="";switch(t){case"FIRST_SET":return x[0].a;case"SECOND_SET":return x[1].a;case"THIRD_SET":return x[2].a;case"FOURTH_SET":return x[3].a;case"FIFTH_SET":return x[4].a;case"SIXTH_SET":return x[5].a;case"SEVENTH_SET":return x[6].a;default:for(var u in x){var w=x[u];if((Number(w.h)>0&&Number(w.a)>0)||(Number(w.h)===0&&Number(w.a)>0)||(Number(w.h)>0&&Number(w.a)===0)){v=w.a}else{return v}}}return v}function k(t){if((Number(t.h)>0&&Number(t.a)>0)||(Number(t.h)===0&&Number(t.a)>0)||(Number(t.h)>0&&Number(t.a)===0)){return t.a}return""}}})();
(function(){angular.module("offer.match",[])})();
(function(){angular.module("offer.match").directive("match",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{match:"=",viewId:"=",hasHeader:"=",upcoming:"="},controller:a,templateUrl:d};function d(e,f){if(f){if(f.type==="matchView"){return"views/"+c+"Design/match/matchView.html"}if(f.type==="matchForSuper"){return"views/"+c+"Design/match/matchForSuperView.html"}}}}a.$inject=["$scope","LeaguesWithMatchesService","TipTypeGroupsService","$window","$filter","$rootScope","DESIGN","$sce","ngDialog"];function a(o,i,f,e,j,l,n,k,m){if(n=="d"){o.minOdd=l.betParams.minOdd}o.match.kickOffTimeFormated=j("date")(o.match.kickOffTime,"dd.MM. HH:mm");o.tipTypesCount=0;for(var c in o.match.odBetPickGroups){var p=o.match.odBetPickGroups[c];if(o.viewId=="superMatch"&&!p.showOnMain){continue}for(var d in o.match.odBetPickGroups[c].tipTypes){o.tipTypesCount++}}o.pollMatchSpecial=function(r){l.$broadcast("tip-type-group-close");var q=i.getMatchSpecial();if(Object.keys(q).length===0||q.id!=r){i.pollMatchSpecial(o.sport,r);o.showSpecial=true;return}i.removeMatchSpecial();o.showSpecial=false};o.getOddTitle=function(v,r,s,u,t,q){return f.getOddTitle(v,r,s,u,t,q)};o.$on("$destroy",function g(){o.tipTypes=null});o.addEvent=function(q){angular.element(e).bind("scroll",function(){o.getPageOffset(q)})};o.getPageOffset=function(w){var v=o.hasHeader;var s=window.pageYOffset;if(angular.element(".end-"+w).offset()){var t=angular.element(".end-"+w).offset().top;var q=angular.element(".start-"+w).offset().top;var u=$("#sp-"+w);var r=110;var x=40;if(v!==null&&(v==true||v=="true")){q=q+x;r=r+x}if(s+r>q-x&&s<t-r){u.addClass("header-fixed");u.removeClass("header-relative");if(v!=null&&(v==true||v=="true")){u.css("top",r)}u.parent("li").css("display","block")}else{u.addClass("header-relative");u.removeClass("header-fixed");u.parent("li").css("display","none")}}return false};o.hasThisHandicap=function(q){return f.hasThisHandicap(q)};o.hasHadicapParamName=function(q){if(q!=null){return true}else{return false}};o.openStatistics=function(w,v,s,u){var r=l.externalLinks.statisticsType;var t=l.locale;var q=null;if(r=="F91"&&o.match.sport=="S"){q=k.trustAsResourceUrl(l.externalLinks.statistics+w+"_vs._"+v+"_in_"+s+"&locale="+t);h(q)}else{if(r=="BRS"){if(t==="sr"||t==="sr_ME"||t==="ba"){t="srl"}q=k.trustAsResourceUrl(l.externalLinks.statistics+u+"&language="+t);h(q)}}};function h(q){o.url=q;m.open({template:"views/"+n+"Design/dialog/statisticsDialogView.html",scope:o,className:"ngdialog-theme-default statistics-dialog"})}}})();
(function(){angular.module("offer.shortMatchPreview",[])})();
(function(){angular.module("offer.shortMatchPreview").directive("shortMatchPreview",a);a.$inject=["DESIGN"];function a(b){return{restrict:"E",scope:{match:"=",sport:"=",leagueName:"=",viewId:"="},templateUrl:"views/"+b+"Design/shortMatchPreview/shortMatchPreview.html"}}})();
(function(){angular.module("main.marketMover",["main.marketMover.marketMoverGraphics"])})();
(function(){angular.module("main.marketMover").controller("MarketMoverController",a);a.$inject=["$scope","MarketMoverService","SportWithLeagueService","DESIGN","$rootScope"];function a(l,h,i,k,j){var d=this;d.isUpOdd=g;d.refreshMarketMovers=b;d.isUpOddValue=f;var c;if(k=="d"){d.minOdd=j.betParams.minOdd}e();function e(){i.pollTipTypeGroupsFavoritesForSport("S",function(n){d.tipTypeGroups=n;h.getMarketMovers(20,function(o){d.marketMovers=o;if(c==null){c=setInterval(b,15*60*1000)}})});l.$on("$destroy",function m(){if(c!=null){clearInterval(c);c=null}})}function g(m,n){if(m==null){return true}return n>m}function b(){h.getMarketMovers(20,function(m){d.marketMovers=m})}function f(n,o){var m=n.length;if(n.length==0||n[m-1].oldOddValue==null){return true}return n[m-1].oldOddValue<o}}})();
(function(){angular.module("main.marketMover.marketMoverGraphics",[])})();
(function(){angular.module("main.marketMover.marketMoverGraphics").directive("marketMoverGraphics",b);b.$inject=["$compile","$filter"];function b(c,d){return{restrict:"E",scope:{market:"=",b:"@",oddChanges1:"=",oddChanges2:"=",oddChangesx:"="},controller:a,link:function(g,e){var f=c('<div class="marker_mover_graphics_svg"><svg class="visualization_svg" id="visualisation-'+g.market.matchCode+"_"+g.b+'" width="450" height="250"></svg></div><div class="marker_movers_graphics_block"><div class="label_active_quota">{{"active_quotas_market_movers" | translate}}</div><div class="active_quota_1"><div class="marker_movers_graphics" id="marker_mover_1"><p class="market_movers_quota_newOddValue">1</p></div><div class="active_quota_newOddValue"><p class="market_movers_quota_newOddValue">'+d("number")(g.market.oddChanges1[g.market.oddChanges1.length-1].newOddValue,2)+'</p></div></div><div class="active_quota_X"><div class="marker_movers_graphics" id="marker_mover_x"><p class="market_movers_quota_newOddValue">X</p></div><div class="active_quota_newOddValue"><p class="market_movers_quota_newOddValue">'+d("number")(g.market.oddChangesX[g.market.oddChangesX.length-1].newOddValue,2)+'</p></div></div><div class="active_quota_2"><div class="marker_movers_graphics" id="marker_mover_2"><p class="market_movers_quota_newOddValue">2</p></div><div class="active_quota_newOddValue"><p class="market_movers_quota_newOddValue">'+d("number")(g.market.oddChanges2[g.market.oddChanges2.length-1].newOddValue,2)+"</p></div></div></div>")(g);e.replaceWith(f)}}}a.$inject=["$scope","$window","UserService","$translate","$timeout","$filter"];function a(p,e,k,d,f,m){var o;var i;var c=p.market.oddChanges1;var r=p.market.oddChanges2;var h=p.market.oddChangesX;var q;o=0;i=c[0].newOddValue;l();function l(){p.$watch(p.market,function(s){c=p.market.oddChanges1;r=p.market.oddChanges2;h=p.market.oddChangesX;o=0;i=c[0].newOddValue;o=0;i=c[0].newOddValue;g()})}function g(){j(c);j(h);j(r);q=n();var x=d3.select("#visualisation-"+p.market.matchCode+"_"+p.b),D=400,C=250,u={top:20,right:20,bottom:20,left:50},E=d3.scale.linear().range([u.left,D-u.right]).domain([0,q+1.2]),z=d3.scale.linear().range([C-u.top,u.bottom]).domain([0,o+1]),y=d3.svg.axis().scale(E).outerTickSize(0).ticks(0),v=d3.svg.axis().scale(z);x.append("svg:g").attr("class","axis").attr("transform","translate(0,"+(C-u.bottom)+")").call(y);v=d3.svg.axis().scale(z).orient("left").ticks(5).innerTickSize(-D+u.right+u.left).outerTickSize(0).tickPadding(5);x.append("svg:g").attr("class","axis").attr("transform","translate("+(u.left)+",0)").call(v);x.append("svg:g").call(v);x.append("text").attr("text-anchor","middle").attr("transform","translate("+(200+15)+","+10+")").attr("font-size","14px").attr("dy",4).text(p.market.home+" - "+p.market.away);var t=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);var s=d3.select("body").append("div").attr("class","tooltip2").style("opacity",0);var A=d3.select("body").append("div").attr("class","tooltipX").style("opacity",0);var w=0.2;var B=d3.svg.line().defined(function(F){return F.newOddValue!==null}).x(function(F){if(w>q){w=0.2}w=w+1;return E(w)}).y(function(F){return z(F.newOddValue)});x.append("svg:path").attr("d",B(c)).attr("stroke","rgb(85, 171, 145)").attr("stroke-width",1.2).attr("fill","none");w=0.2;x.selectAll("dot").data(c).enter().append("circle").attr("r",3.5).attr("cx",function(F){if(F.newOddValue!==null){if(w>q){w=0.2}w=w+1;return E(w)}}).attr("cy",function(F){if(F.newOddValue!==null){return z(F.newOddValue)}}).style("stroke-width",1).style("stroke","rgb(85, 171, 145)").style("fill","rgb(85, 171, 145)").on("mouseover",function(G){var F=G.changeTime;F=m("date")(F,"dd.MM HH:mm");t.transition().duration(200).style("opacity",1);if(G.newOddValue<G.oldOddValue&&G.oldOddValue!==null){t.html(F+"<br/><div class='marker_mover1_graphics_text_color_red'><span class='marker_mover_graphics_text_color_span'>"+m("number")(G.newOddValue,2)+"</span></div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}if(G.newOddValue>G.oldOddValue||G.oldOddValue===null){t.html(F+"<br/><div class='marker_mover1_graphics_text_color_green'>"+m("number")(G.newOddValue,2)+"</div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}}).on("mouseout",function(F){t.transition().duration(500).style("opacity",0)}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","500").attr("fill","rgb(85, 171, 145)");w=0.2;x.selectAll("textValue1").data(c).enter().append("text").text(function(F){return m("number")(F.newOddValue,2)}).attr("x",function(F){if(F.newOddValue!==null){if(w>q){w=0.2}w=w+1;return E(w)}}).attr("y",function(F){return z(F.newOddValue)}).on("mouseover",function(G){var F=G.changeTime;F=m("date")(F,"dd.MM HH:mm");t.transition().duration(200).style("opacity",1);if(G.newOddValue<G.oldOddValue&&G.oldOddValue!==null){t.html(F+"<br/><div class='marker_mover1_graphics_text_color_red'><span class='marker_mover_graphics_text_color_span'>"+m("number")(G.newOddValue,2)+"</span></div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}if(G.newOddValue>G.oldOddValue||G.oldOddValue===null){t.html(F+"<br/><div class='marker_mover1_graphics_text_color_green'>"+m("number")(G.newOddValue,2)+"</div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}}).on("mouseout",function(F){t.transition().duration(500).style("opacity",0)}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","500").attr("fill","rgb(85, 171, 145)").attr("dy",function(F){if(F.newOddValue!==null&&F.oldOddValue===null){return -6}if(F.newOddValue!==null&&F.oldOddValue!=null&&F.newOddValue>F.oldOddValue){return -6}if(F.newOddValue!==null&&F.oldOddValue!=null&&F.newOddValue<F.oldOddValue){return 14}});w=0.2;x.append("svg:path").attr("d",B(r)).attr("stroke","#C25B56").attr("stroke-width",1.2).attr("fill","none");w=0.2;x.selectAll("dot").data(r).enter().append("circle").attr("r",3.5).attr("cx",function(F){if(F.newOddValue!==null){if(w>q){w=0.2}w=w+1;return E(w)}}).attr("cy",function(F){if(F.newOddValue!==null){return z(F.newOddValue)}}).style("stroke-width",1).style("stroke","#C25B56").style("fill","#C25B56").on("mouseover",function(G){var F=G.changeTime;F=m("date")(F,"dd.MM HH:mm");s.transition().duration(200).style("opacity",1);if(G.newOddValue<G.oldOddValue&&G.oldOddValue!==null){s.html(F+"<br/><div class='marker_mover1_graphics_text_color_red'><span class='marker_mover_graphics_text_color_span'>"+m("number")(G.newOddValue,2)+"</span></div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}if(G.newOddValue>G.oldOddValue||G.oldOddValue===null){s.html(F+"<br/><div class='marker_mover1_graphics_text_color_green'>"+m("number")(G.newOddValue,2)+"</div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}}).on("mouseout",function(F){s.transition().duration(500).style("opacity",0)}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","500").attr("fill","#C25B56");w=0.2;x.selectAll("textValue2").data(r).enter().append("text").text(function(F){return m("number")(F.newOddValue,2)}).attr("x",function(F){if(F.newOddValue!==null){if(w>q){w=0.2}w=w+1;return E(w)}}).attr("y",function(F){return z(F.newOddValue)}).on("mouseover",function(G){var F=G.changeTime;F=m("date")(F,"dd.MM HH:mm");s.transition().duration(200).style("opacity",1);if(G.newOddValue<G.oldOddValue&&G.oldOddValue!==null){s.html(F+"<br/><div class='marker_mover1_graphics_text_color_red'><span class='marker_mover_graphics_text_color_span'>"+m("number")(G.newOddValue,2)+"</span></div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}if(G.newOddValue>G.oldOddValue||G.oldOddValue===null){s.html(F+"<br/><div class='marker_mover1_graphics_text_color_green'>"+m("number")(G.newOddValue,2)+"</div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}}).on("mouseout",function(F){s.transition().duration(500).style("opacity",0)}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","500").attr("fill","#C25B56").attr("dy",function(F){if(F.newOddValue!==null&&F.oldOddValue===null){return -6}if(F.newOddValue!==null&&F.oldOddValue!=null&&F.newOddValue>F.oldOddValue){return -6}if(F.newOddValue!==null&&F.oldOddValue!=null&&F.newOddValue<F.oldOddValue){return 14}});w=0.2;x.append("svg:path").attr("d",B(h)).attr("stroke","dimgray").attr("stroke-width",1.2).attr("fill","none").attr("dy",-6);w=0.2;x.selectAll("dot").data(h).enter().append("circle").attr("r",3.5).attr("cx",function(F){if(F.newOddValue!==null){if(w>q){w=0.2}w=w+1;return E(w)}}).attr("cy",function(F){if(F.newOddValue!==null){return z(F.newOddValue)}}).style("stroke-width",1).style("stroke","dimgray").style("fill","dimgray").on("mouseover",function(G){var F=G.changeTime;F=m("date")(F,"dd.MM HH:mm");A.transition().duration(200).style("opacity",1);if(G.newOddValue<G.oldOddValue&&G.oldOddValue!==null){A.html(F+"<br/><div class='marker_mover1_graphics_text_color_red'><span class='marker_mover_graphics_text_color_span'>"+m("number")(G.newOddValue,2)+"</span></div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}if(G.newOddValue>G.oldOddValue||G.oldOddValue===null){A.html(F+"<br/><div class='marker_mover1_graphics_text_color_green'>"+m("number")(G.newOddValue,2)+"</div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}}).on("mouseout",function(F){A.transition().duration(500).style("opacity",0)}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","500").attr("fill","dimgray");w=0.2;x.selectAll("textValueX").data(h).enter().append("text").text(function(F){return m("number")(F.newOddValue,2)}).attr("x",function(F){if(F.newOddValue!==null){if(w>q){w=0.2}w=w+1;return E(w)}}).attr("y",function(F){return z(F.newOddValue)}).on("mouseover",function(G){var F=G.changeTime;F=m("date")(F,"dd.MM HH:mm");A.transition().duration(200).style("opacity",1);if(G.newOddValue<G.oldOddValue&&G.oldOddValue!==null){A.html(F+"<br/><div class='marker_mover1_graphics_text_color_red'><span class='marker_mover_graphics_text_color_span'>"+m("number")(G.newOddValue,2)+"</span></div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}if(G.newOddValue>G.oldOddValue||G.oldOddValue===null){A.html(F+"<br/><div class='marker_mover1_graphics_text_color_green'>"+m("number")(G.newOddValue,2)+"</div>").style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}}).on("mouseout",function(F){A.transition().duration(500).style("opacity",0)}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","500").attr("fill","dimgray").attr("dy",function(F){if(F.newOddValue!==null&&F.oldOddValue===null){return -6}if(F.newOddValue!==null&&F.oldOddValue!=null&&F.newOddValue>F.oldOddValue){return -6}if(F.newOddValue!==null&&F.oldOddValue!=null&&F.newOddValue<F.oldOddValue){return 14}})}function j(t){for(var s in t){if(o<t[s].newOddValue){o=t[s].newOddValue}if(i>t[s].newOddValue){i=t[s].newOddValue}}return o}function n(){var u=c.length;var t=r.length;var v=h.length;var s=u;if(s<t){s=t}if(s<v){s=v}return s}}})();
(function(){angular.module("offer.sportWithLeague",[])})();
(function(){angular.module("offer.sportWithLeague").controller("SportWithLeagueController",a);a.$inject=["SportWithLeagueService","FavoritesService","$translate","$scope","$state","DomainService"];function a(m,e,t,q,w,i){var x=this;x.sports=m.getSportsWithLeagues();x.leagueGroups=[];x.leaguesIds=m.getLeaguesIds();x.pollLeague=j;x.pollLeagueForDesignD=v;x.addFavoriteSport=c;x.addFavoriteLeague=p;x.isSportFavorite=f;x.isLeagueFavorite=B;x.isAllSelected=n;x.poolAll=k;x.favoriteSorter=o;x.getSelectedLeaguesCount=h;x.collapsed=m.collapsed;var l=m.returnLoading();x.getImageUrl=u;x.pollMatchesForToday=s;x.showGroupLeagues=r;x.today={};g();function g(){x.state=w;console.log("state:");console.log(x.state);console.log("collapsed activate: ");console.log(x.collapsed);t("favorite.limit.sports").then(function(D){x.trSports=D});t("favorite.limit.leagues").then(function(D){x.trLeagues=D});q.$watch(function(){return m.returnLoading()},function(D){l=D});m.getLeagueGroups(function(D){x.leagueGroups=D})}function j(D){m.pollLeague(D,false);x.selected=!x.selected}function s(D){if(x.today[D]==null||!x.today[D]){m.getLeaguesForToday(D);x.today[D]=true}else{m.removeTodayLeague(D);x.today[D]=false}}function v(D,E,F){m.pollMatchWithLeague(D,E,F);x.selected=!x.selected}function f(D){return e.isSportFavorite(D)}function B(D){return e.isLeagueFavorite(D)}function c(I,F,G){var E=e.addFavoriteSport(I);if(E!=null&&E<0){var D=G.clientX;var J=G.clientY;var H=document.getElementById("tooltip-sports");e.addToolTip(D,J,H,x.trSports)}}function p(I,F){var E=e.addFavoriteLeague(I);if(E!=null&&E<0){var D=F.clientX;var H=F.clientY;var G=document.getElementById("tooltip-sports");e.addToolTip(D,H,G,x.trLeagues)}}function n(F){var E=0;for(var D=0;D<F.length;D++){if(d(F[D].betLeagueId)){E=E+1}else{return false}}if(E===F.length){return true}else{return false}}function k(D){if(!l){if(n(D)){C(D)}else{y(D)}}}function y(F){var D=new Array();for(var E=0;E<F.length;E++){if(!d(F[E].betLeagueId)){D.push(F[E].betLeagueId)}}z(D.join("#"))}function C(E){for(var D=0;D<E.length;D++){if(d(E[D].betLeagueId)){b(E[D].betLeagueId)}}}function d(D){if(x.leaguesIds[D]!=null){return true}return false}function b(D){m.removeBYId(D)}function z(D){m.pollLeagues(D)}function o(D){return 0}function h(F){var E=0;for(var D in F){if(x.leaguesIds[F[D].betLeagueId]!=null){E++}}return E}function u(D,E){if(D==null){D=""}if(E==null){E=""}return i.getIBetServer()+"/image/"+D+"/"+E}function A(F,H){for(var E=0;E<x.sports.length;E++){if(x.sports[E].sportType===H){var G=x.sports[E].leagues;for(var D=0;D<G.length;D++){if(G[D].leagueCode===F){return G[D]}}}}return null}function r(I,F){var D=new Array();for(var G=0;G<x.leagueGroups[I].length;G++){if(x.leagueGroups[I][G].name===F){for(var E=0;E<x.leagueGroups[I][G].leagueCodes.length;E++){var H=A(x.leagueGroups[I][G].leagueCodes[E],I);if(H!==null){D.push(H.betLeagueId)}}}}m.getGroupLeagueMatches(D.join("#"),F,I)}}})();
(function(){angular.module("offer.sportWithLeague").service("SportWithLeagueService",a);a.$inject=["$http","DomainService","$localStorage","$cacheFactory","$filter","$rootScope","TipTypeGroupsService","DESIGN"];function a(F,h,v,D,r,n,m,o){this.sportFavorites=v.sportFavorites;this.leagueFavorites=v.leagueFavorites;this.liveSportFavorites=v.liveSportFavorites;this.collapsed={};if(this.sportFavorites==null){this.sportFavorites={}}if(this.leagueFavorites==null){this.leagueFavorites={}}if(this.liveSportFavorites==null){this.liveSportFavorites={}}v.sportFavorites=this.sportFavorites;v.leagueFavorites=this.leagueFavorites;v.liveSportFavorites=this.liveSportFavorites;var B=-1;var w=null;var E={};var u=[];var l=false;var p=false;var C={};var i=null;var d=[];var k=[];var g=false;var z=D("sportsWithLeaguesHours");var j=D("sportsWithLeaguesDay");var f={};var A=[];function q(){z.removeAll()}function e(){j.removeAll()}var b=function(I){var J=0;for(J;J<u.length;J++){if(u[J].betLeagueId===I){break}}if(J>-1){var K=u.splice(J,1);E[K[0].betLeagueId]=null;delete E[K[0].betLeagueId]}};this.pollSportsWithLeagues=function(I,M){if(M!=null&&M==true){I=B;p=false}else{if(M==null){B=I;p=false}}l=false;var K="hours"+I;var L=z.get(K);if(L===undefined){F.get(h.getIBetOfferServer()+"/offer/sportsAndLeagues/"+I+".json").success(function(O){while(d.length>0){d.pop()}for(var N in O){d.push(O[N])}z.put(K,O);setTimeout(q,60000)}).error(function(N){})}else{while(d.length>0){d.pop()}for(var J in L){d.push(L[J])}}};this.pollSportsWithLeaguesForDay=function(I,M){if(M!=null&&M==true){I=w}else{w=I}if(I==null){p=true}l=true;if(I!=null){p=false;var K="day"+I;var L=j.get(K);if(L===undefined){F.get(h.getIBetOfferServer()+"/offer/sportsAndLeaguesForDay/"+I+".json").success(function(O){while(d.length>0){d.pop()}for(var N in O){d.push(O[N])}j.put(K,O);setTimeout(e,60000)}).error(function(N){})}else{while(d.length>0){d.pop()}for(var J in L){d.push(L[J])}}}else{this.pollSportsWithLeagues(-1,false)}};this.pollLeague=function(K,M){g=true;var L=new Date();var J=0;if(p){L=0}else{if(l&&!p){L=w}else{J=B;L=0}}if(E[K]==null){var I=m.createTtgIdsToken();F.get(h.getIBetOfferServer()+"/offer/league/"+K+"/"+J+"/"+L+"/"+M+".json",{params:{ttgIds:I}}).success(function(N){console.log("success polling league for id "+K);g=false;E[K]=K;u.unshift(N)}).error(function(N){g=false})}else{b(K);g=false}};this.pollTipTypeGroupsFavoritesForSport=function(J,I){if(C[J]!=null){I(C[J])}else{F.get(h.getIBetOfferServer()+"/offer/ttgFavorites/"+J+".json").success(function(K){C[J]=K;I(K)}).error(function(K){I([])})}};this.pollDatesForRound=function(){F.get(h.getIBetOfferServer()+"/offer/getDatesForRound.json").success(function(J){while(k.length>0){k.pop()}for(var I in J){k.push(J[I])}}).error(function(I){})};this.pollLeagues=function(I){c(I)};function c(L){g=true;var K=new Date();var J=0;if(p){K=0}else{if(l&&!p){K=w}else{J=B;K=0}}var I=m.createTtgIdsToken();F.get(h.getIBetOfferServer()+"/offer/leagues//"+J+"/"+K+".json",{params:{token:L,ttgIds:I}}).success(function(N){N=r("orderByLeagueFavorite")(N);g=false;for(var M=0;M<N.length;M++){u.push(N[M]);E[N[M].betLeagueId]=N[M].betLeagueId}}).error(function(M){g=false})}function t(J){var I=m.createTtgIdsToken();g=true;F.get(h.getIBetOfferServer()+"/offer/matches/today/"+J+".json",{params:{token:null,ttgIds:I}}).success(function(N){N=r("orderByLeagueFavorite")(N);g=false;var M=new Array();for(var L=0;L<N.length;L++){if(o=="f"){for(var K=0;K<N[L].matchList.length;K++){M.push(N[L].matchList[K])}}else{N[L].today=true;u.push(N[L])}}if(M.length>0){u.push({matchList:M,today:true,sport:J})}}).error(function(K){g=false})}this.getGroupLeagueMatches=function(N,J,P){for(var M=0;M<u.length;){var O=u.splice(M,1);E[O[0].betLeagueId]=null;delete E[O[0].betLeagueId]}g=true;var L=new Date();var K=0;if(p){L=0}else{if(l&&!p){L=w}else{K=B;L=0}}var I=m.createTtgIdsToken();F.get(h.getIBetOfferServer()+"/offer/leagues//"+K+"/"+L+".json",{params:{token:N,ttgIds:I}}).success(function(T){g=false;T=r("orderBy")(T,"kickOffTime");var S=new Array();for(var R=0;R<T.length;R++){T[R].leagueGroup=true;for(var Q=0;Q<T[R].matchList.length;Q++){S.push(T[R].matchList[Q])}}if(S.length>0){u.push({matchList:S,leagueGroup:true,name:J,sport:P})}}).error(function(Q){g=false})};this.getLeagueGroups=function(I){F.get(h.getIBetServer()+"/offer/leaguegroup.json").success(function(J){I(J)}).error(function(J){I(null)})};this.getLeaguesWithMatches=function(){return u};this.removeLeagueByIndex=function(I){y(I)};function y(I){if(I>-1){var J=u.splice(I,1);E[J[0].betLeagueId]=null;delete E[J[0].betLeagueId]}}this.getSelectedMatch=function(){return i};this.setSelectedMatch=function(I){i=I};this.getSportsWithLeagues=function(){return d};this.getDatesForRound=function(){return k};this.getSportViewType=function(){return"sportsWithLeagues"};this.getLeaguesIds=function(){return E};this.removeBYId=function(I){return b(I)};this.removeAll=function(J){for(var I in u){y(I)}};this.returnLoading=function(){return g};n.$on("tip-type-group-change",function(J,I){console.log("tip-type-group-change league");m.updateTtgIds(I.sport,[I.ttgId]);x();console.log(I.ttgId)});this.refreshLeagues=function(){x()};function x(){var K=new Array();for(var J=0;J<u.length;J++){K.push(u[J].betLeagueId)}var I=u.length;for(var J=0;J<I;J++){y(0)}c(K.join("#"))}n.$on("tip-type-group-remove",function(M,J){m.updateTtgIds(J.sport,null);var L=new Array();for(var K=0;K<u.length;K++){L.push(u[K].betLeagueId)}var I=u.length;for(var K=0;K<I;K++){y(0)}c(L.join("#"))});this.pollMatchWithLeague=function(I,J,M){var L=false;for(var K in f){if(K==M){L=true;break}}if(L==false){H(I,J,M)}};this.removeSearchMatchWithLeagueLeagueByIndex=function(J){if(J>-1){var I=A.splice(J,1);f[I[0].matchList[0].matchCode]=null;delete f[I[0].matchList[0].matchCode]}};function H(K,M,N){g=true;var L=new Date();var J=0;if(p){L=0}else{if(l&&!p){L=w}else{J=B;L=0}}var I=m.createTtgIdsToken();F.get(h.getIBetOfferServer()+"/offer/league/"+K+"/"+J+"/"+L+"/"+M+".json",{params:{ttgIds:I}}).success(function(R){console.log("success polling league for id "+K);g=false;var O=null;var P;for(var Q=0;Q<R.matchList.length;Q++){if(R.matchList[Q].matchCode==N){var P=R.matchList[Q];O=Q;break}}if(O!=null){R.matchList.length=0;R.matchList.push(P);f[N]=K;A.unshift(R)}console.log(f)}).error(function(O){g=false})}this.getSearchMatchesWithLeagues=function(){return f};this.getSearchMatches=function(){return A};function s(J){if(u!=null){for(var I=0;I<u.length;I++){if(u[I].today&&u[I].sport==J){u.splice(I,1);s(J);return}}}}function G(K){var I=u.length;for(var J=0;J<I;J++){if(u[J].sport==K){y(J);G(K);break}}}this.resetData=G;this.getLeaguesForToday=t;this.removeTodayLeague=s}})();
(function(){angular.module("offer.sportWithLeague").controller("LiveSportController",a);a.$inject=["$scope","LiveOfferService","SportWithLeagueService","ActiveSportsService","FavoritesService","$translate","$anchorScroll","$location","DESIGN","$sessionStorage","$state","$filter"];function a(w,p,r,y,f,x,k,m,q,i,B,u){var D=this;D.setLiveSport=o;D.addFavoriteLiveSport=s;D.isLiveSportFavorite=F;D.liveSportFavorites=r.liveSportFavorites;D.selectedSport=p.liveSport.type;var b=y.getSportsForLive();D.showSport=A;D.goToTop=v;D.getSportStatus=n;D.setVirtualGame=d;D.setNSGame=t;D.design=q;D.setLiveSportsForOverview=E;D.showCheckedLiveSportsForOverView=g;D.showLiveFavoriteMatchesForOverView=C;D.visibleLiveFavoriteMatchesForOverView=j;D.openAnn=l;D.isSportsLive=c;D.isSelectAnn=G;D.ann=false;h();function h(){D.liveSports=[];D.liveSportsData={liveSports:[]};D.liveSports=y.getSportBySportKeys(b);for(var H in D.liveSports){D.liveSports[H].name=D.liveSports[H].name.substring(0,1).toUpperCase()+D.liveSports[H].name.substring(1)}D.liveSportsData.liveSports=D.liveSports;w.$watch(function(){D.selectedSport=p.liveSport.type});x("favorite.limit.sports").then(function(I){D.trSports=I});w.$watch(function(){return y.getTranslatedSportsMap()},function(){D.liveSports=y.getSportBySportKeys(b);for(var I in D.liveSports){D.liveSports[I].name=D.liveSports[I].name.substring(0,1).toUpperCase()+D.liveSports[I].name.substring(1)}D.liveSportsData.liveSports=D.liveSports})}function o(H){p.liveSport.type=H;D.selectedSport=H;if(D.design==="b"){v()}}function d(I,H){i.lastSelectedNSGame=null;o(I);B.go(H)}function t(H){i.lastSelectedNSGame=H;B.go(H)}function F(H){return f.isSportFavorite(H)}function s(L,J){var I=f.addFavoriteSport(L);if(I!=null&&I<0){var H=J.clientX;var M=J.clientY;var K=document.getElementById("tooltip-sports");f.addToolTip(H,M,K,D.trSports)}}function A(H){return H==null||p.getSports().indexOf(H)>-1}function v(){m.hash("top");k()}function n(J,H,I){if(p.getSports().indexOf(J)==-1){return I}if(p.liveSport.type===J){return H}}function E(H){p.setLiveSportsForOverView(H);console.log(p.getLiveSportsForOverView())}function g(H){return p.getLiveSportsForOverView().indexOf(H)>-1}function C(){p.setLiveMatchesFavoritesForOverViewVisible()}function j(){return p.getLiveMatchesFavoritesForOverViewVisible()}D.getSizeOfSelectedLiveFavoriteMatchesForOverView=e;function e(){return p.getSizeOfSelectedLiveFavoriteMatchesForOverView()}function l(){D.ann=!D.ann;p.setAnn(D.ann)}function c(){var I=false;for(var H in D.liveSports){if(A(D.liveSports[H].type)){I=true;break}}return I}D.checkIsExistLiveMatchesUsingSport=z;function z(K){var I=false;var J=u("orderObjectBy")(u("sportFilter")(p.getLiveMatches(),K));if(J!=null){for(var H in J){if(J[H].showInLive==true){I=true;break}}}return I}function G(){return p.getAnn()==true}}})();
(function(){angular.module("offer.sportWithLeague").controller("ResultsSportController",a);a.$inject=["$rootScope","ResultService","ActiveSportsService","$scope"];function a(b,h,c,d){var g=this;g.setResultSport=e;g.sports=[];f();function f(){h.getActiveSportsAndLeaguesForDay(-1,function(n){if(n!=null&&n.length>0){var o=new Array();var j=n;var l=0;for(var m in j){o[l]=j[m].sportType;l++}g.sports=c.getSportBySportKeys(o);g.selectedSport=g.sports[0].type}});d.$on("change-results-sport",function(k,j){var l=new Date();var i=j.day.getTime();if(l.getYear()==j.day.getYear()&&l.getMonth()==j.day.getMonth()&&l.getDay()==j.day.getDay()){i=-1}h.getActiveSportsAndLeaguesForDay(i,function(p){var q=new Array();var m=p;var n=0;for(var o in m){q[n]=m[o].sportType;n++}g.sports=c.getSportBySportKeys(q)})})}function e(i){g.selectedSport=i;h.resultSport.type=i;b.$broadcast("sport-updated")}}})();
(function(){angular.module("offer.leagueWithMatches",[])})();
(function(){angular.module("offer.leagueWithMatches").directive("leagueWithMatches",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{leagueWithMatches:"=",upcoming:"="},link:e,controller:a,templateUrl:d};function d(f,g){if(g){if(g.type==="leagueWithMatches"){return"views/"+c+"Design/leagueWithMatches/leagueWithMatchesView.html"}if(g.type==="leagueWithMatchesForSuper"){return"views/"+c+"Design/superMatches/leagueWithMatchesForSuperView.html"}}}function e(h,i,g,j){var f="leagueWithMatches"+h.leagueWithMatches.betLeagueId;console.log("viewId - "+h.leagueWithMatches.sport)}}a.$inject=["$scope","SportWithLeagueService","TipTypeGroupsService","COMPANY","ENABLE_PREPAYMENT"];function a(k,h,d,c,j){k.company=c;k.enablePrepayment=j;var i="leagueWithMatches"+k.leagueWithMatches.betLeagueId;var e=false;if(d.getTtgIds()==null||d.getTtgIds()[k.leagueWithMatches.sport]==null){k.pollTipTypeGroupsFavoritesForSport=function(l){h.pollTipTypeGroupsFavoritesForSport(l,function(m){k.tipTypeGroups=m;f();k.tipTypeGroupsFilteredForSport=d.getTipTypeGroupsFilter()[l];k.selectedTipTypeGroupFilteredForSport=null;e=false})}}else{k.tipTypeGroups=[d.getTipTypeGroupsActive()[k.leagueWithMatches.sport][d.getTtgIds()[k.leagueWithMatches.sport][0]]];k.tipTypeGroupsFilteredForSport=d.getTipTypeGroupsFilter()[k.leagueWithMatches.sport];k.selectedTipTypeGroupFilteredForSport=k.tipTypeGroups[0].id;e=false;f()}k.changeTipTypeGroup=function(){d.changeTipTypeGroup()};k.setNewTipTypeGroup=function(l){if(e||(l==null&&l==k.selectedTipTypeGroupFilteredForSport)||(l!=null&&k.selectedTipTypeGroupFilteredForSport==l.id)){return}e=true;if(l==null){d.removeSelectedTipTypeGroupForSport(k.leagueWithMatches.sport)}else{d.setNewTipTypeGroup(l)}};k.refreshLeagues=function(){h.refreshLeagues()};k.$on("$destroy",function g(){k.tipTypeGroups=null});function f(){k.tipTypesCount=0;for(var l in k.tipTypeGroups){for(var m in k.tipTypeGroups[l].tipTypes){k.tipTypesCount++}}}k.hasThisHandicap=function(l){return d.hasThisHandicap(l)}}})();
(function(){angular.module("offer.leagueWithMatches").controller("LeaguesWithMatchesController",a);a.$inject=["$scope","SportWithLeagueService","$window","TipTypeGroupsService","$rootScope","DESIGN","ngDialog"];function a(l,h,c,e,i,k,j){var d=this;d.loading=h.returnLoading();d.leagues=h.getLeaguesWithMatches();d.removeLeagueByIndex=b;d.loadNext=g;d.leagueLimit=0;f();function f(){d.tipTypeGroupsFilter=e.getTipTypeGroupsFilter();l.$on("$destroy",function m(){d.leagues=null});l.$watch(function(){return h.returnLoading()},function(n){g();d.loading=n})}function b(m){h.removeLeagueByIndex(m)}function g(){var n=c.pageYOffset+c.innerHeight;var m=parseInt(angular.element("#leagues-container").height());if(n>m){if(d.leagues.length>d.leagueLimit){d.leagueLimit++}else{if(d.leagues.length<d.leagueLimit){d.leagueLimit--}}}else{if(d.leagues.length<d.leagueLimit){d.leagueLimit--}}return true}}})();
(function(){angular.module("offer.leagueWithMatches").service("LeaguesWithMatchesService",a);a.$inject=["$http","DomainService","$localStorage","$q","DESIGN","$rootScope"];function a(u,h,s,t,o,m){var k=null;var j={};var i=false;var l={};var g={};if(o=="f"){n()}this.specialFavorites=s.specialFavorites;if(m.user!=""&&m.user!="anonymousUser"){var v=s["preMatchFavorites-"+m.user];if(v==null){v={}}else{p()}e()}if(this.specialFavorites==null){this.specialFavorites={}}s.specialFavorites=this.specialFavorites;this.pollMatchSpecial=function(x,w){k=x;i=true;u.get(h.getIBetOfferServer()+"/offer/special/"+x+"/"+w+".json").success(function(y){j=y;if(j!=null&&j.kickOffTime<new Date().getTime()){j.odBetPickGroups={}}i=false}).error(function(y){j=y;i=false})};this.getMatchSpecial=function(){return j};function n(){u.get(h.getIBetOfferServer()+"/betLines.json").success(function(w){l=w}).error(function(w){})}this.removeMatchSpecial=function(){j={}};this.getSelectedSport=function(){return k};this.getLoading=function(){return i};this.getStatistics=function(w){var x=t.defer();u.get(h.getIBetOfferServer()+"/statistics/statistics/"+w+".json").success(function(y){x.resolve(y)}).error(function(y){x.reject(y)});return x.promise};function p(){var w=Object.keys(v);if(w==""||w==null||w.length==0){q();return}w=w.join("#");u.get(h.getIBetOfferServer()+"/offer/matchesList.json",{params:{matchToken:w}}).success(function(y){q();if(y!=null){for(var x in y){v[y[x].matchCode]=y[x].matchCode;g[y[x].matchCode]=y[x]}}}).error(function(x){})}function d(){return l}function f(w){if(v!=null){if(v[w]==null){v[w]=w;p()}else{v[w]=null;delete v[w];g[w]=null;delete g[w]}e()}}function b(){return v}function r(w){return v!=null&&v[w]!=null}function q(){for(var w in v){v[w]=null;delete v[w]}e();for(var w in g){g[w]=null;delete g[w]}}function c(){return g}function e(){s["preMatchFavorites-"+m.user]=v}this.addDeletePreMatchFavorite=f;this.getBetLinesData=d;this.getPreMatchFavorites=b;this.isPreMatchExist=r;this.getPreMatchList=c;this.pollMatchesList=p}})();
(function(){angular.module("offer.special",[])})();
(function(){angular.module("offer.special").controller("SpecialController",a);a.$inject=["$scope","LeaguesWithMatchesService","TipTypeGroupsService","FavoritesService","$location","$anchorScroll","$translate","$stateParams","ngDialog","$state","DESIGN","$rootScope","$sce"];function a(x,B,n,c,l,j,z,F,t,C,s,q,u){var D=this;D.removeMatchSpecial=b;D.specialFavorites=B.specialFavorites;D.isSpecialFavorite=E;D.addFavoriteSpecial=A;D.isMatchEmpty=w;D.showTipTypes=v;D.getOddTitle=r;D.scrollSpecial=k;D.loading=B.getLoading();D.copyUrlToClipboard=p;var m=null;D.openStatistic=G;D.selectedBetLine=null;D.selectBetLine=h;D.betLines=B.getBetLinesData();D.selectMatchFavorite=g;D.isPreMatchExist=y;D.user=q.user;D.openStatistics=f;D.hasOdd=d;D.isOverOrUnderOddValues=i;if(s=="d"){D.minOdd=q.betParams.minOdd}e();function e(){var H={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return(H.Android()||H.BlackBerry()||H.iOS()||H.Opera()||H.Windows())}};if(H.any()&&F.matchId!=null&&F.matchSport!=null){window.location.href=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/ibet-mobile/#/app/special/"+F.matchId+"/"+F.matchSport}x.$watch(function(){return B.getMatchSpecial()},function(J){D.loading=B.getLoading();D.match=J});x.$on("$destroy",function I(){D.match=null;if(m!=null){m.destroy();m=null}});z("favorite.limit.ttg").then(function(J){D.trTTG=J});if(F.matchId!=null){B.pollMatchSpecial(null,F.matchId)}}function v(H){if(H.tipTypes!=null){for(var I in H.tipTypes){var J=H.tipTypes[I];if(J.value>1){return true}}}return false}function b(){B.removeMatchSpecial();history.back()}function E(H){return c.isTtgFavorites(H)}function A(L,J){var I=c.addFavoriteTtg(L);if(I!=null&&I<0){var H=J.clientX;var M=J.clientY;var K=document.getElementById("tooltip-sports");c.addToolTip(H,M,K,D.trTTG)}}function w(){return Object.keys(D.match).length==0}function r(L,H,I,K,J){return n.getOddTitle(L,H,I,K,J)}function k(H){l.hash("special-table"+H);j.yOffset=145}x.getURLShare=function(K,H){var J=l.absUrl();var I=J.split("#");return I[0]+"#/home/special/"+K+"/"+H};function p(H){if(m!=null){m.destroy()}m=new Clipboard("#copy-"+H);m.on("success",function(I){$(".copy-but-clicked").css("visibility","visible");setTimeout(function(){$(".copy-but-clicked").css("visibility","hidden")},1000);console.log("success")});m.on("error",function(I){console.log("error")})}function G(H,I){x.loading=true;B.getStatistics(H).then(function(J){x.statistic=J;x.sport=I;x.loading=false;t.open({template:"views/"+s+"Design/leagueWithMatches/statistic.html",scope:x,className:"ngdialog-theme-default statistic-popup-dialog",preCloseCallback:function(K){if(J.ibetResponseStatus=="OK"){C.go("home.mainContent")}}})})}function h(H){D.selectedBetLine=H}function g(H){B.addDeletePreMatchFavorite(H)}function y(H){return B.isPreMatchExist(H)}function f(N,M,J,L){var I=q.externalLinks.statisticsType;var K=q.locale;if(I=="F91"&&D.match.sport=="S"){var H=u.trustAsResourceUrl(q.externalLinks.statistics+N+"_vs._"+M+"_in_"+J+"&locale="+K);o(H)}else{if(I=="BRS"){if(K==="sr"||K==="sr_ME"||K==="ba"){K="srl"}var H=u.trustAsResourceUrl(q.externalLinks.statistics+L+"&language="+K);o(H)}}}function o(H){x.url=H;t.open({template:"views/"+s+"Design/dialog/statisticsDialogView.html",scope:x,className:"ngdialog-theme-default statistics-dialog"})}function d(I){if(I==null||I.tipTypes==null){return false}if(I.showInSpecial==false){return false}for(var H in I.tipTypes){if(I.tipTypes[H].value>0){return true}}return false}function i(I){for(var H in I.tipTypes){if(I.tipTypes[H].value>D.minOdd){return true}}return false}}})();
(function(){angular.module("offer.bonusTip",[])})();
(function(){angular.module("offer.bonusTip").controller("BonusTipController",a);a.$inject=["BonusTipService","$scope","ActiveSportsService","SportWithLeagueService","$location","$anchorScroll","DESIGN"];function a(o,p,q,m,h,i,n){var j;var f=this;f.sportFilter=l;f.setLiveSport=c;f.getSportStatus=b;f.sport={type:"S"};g();function g(){h.hash("top");i();m.pollTipTypeGroupsFavoritesForSport(f.sport.type,function(s){f.tipTypeGroups=s});if(n!="d"){d()}if(n=="d"){k()}p.$on("$destroy",function r(){f.tipTypeGroups=null;f.sports=null;clearInterval(j)})}function e(s,r){return r.indexOf(s)>-1?1:0}function l(){return function(r){return f.sport.type==null||f.sport.type==r.sport}}function c(r){if(f.sports.indexOf(r)>-1){f.sport.type=r;m.pollTipTypeGroupsFavoritesForSport(f.sport.type,function(s){f.tipTypeGroups=s})}}function b(t,r,s){if(f.sports.indexOf(t)==-1){return s}if(f.sport.type===t){return r}}function d(){o.getMatches(false,function(t){var s=[];for(var r in t){if(s.indexOf(t[r].sport)==-1){s.push(t[r].sport)}}f.sports=s;f.matches=t;q.getActiveSportsWithCallback(function(w){w.sort(function(y,x){return e(x,s)-e(y,s)});var u=w;if(u.length>0&&u!=null){f.sport.type=u[0]}f.activeSports=q.getSportBySportKeys(u);for(var v in f.activeSports){f.activeSports[v].name=f.activeSports[v].name.substring(0,1).toUpperCase()+f.activeSports[v].name.substring(1)}});console.log("bonus "+f.sports)})}function k(){o.getMatchesForSuperTip(false,function(t){var s=[];for(var r in t){if(s.indexOf(t[r].sport)==-1){s.push(t[r].sport)}}f.sports=s;f.leagues=t})}}})();
(function(){angular.module("offer.favorites",[])})();
(function(){angular.module("offer.favorites").controller("FavoritesController",a);a.$inject=["FavoritesService"];function a(b){var d=this;d.type={league:"LEAGUE",sport:"SPORT",ttg:"TTG"};d.getFavorites=f;d.saveSports=h;d.saveLeagues=g;d.saveTtgs=e;c();function c(){f(d.type.league);b.getAllFavorites(function(i){console.log(i)})}function f(i){b.getFavorites(i,function(j){if(i==d.type.league){d.favoritesLeagues=j}else{if(i==d.type.sport){d.favoritesSports=j}else{d.favoritesTtgs=j}}console.log("FAVORITES:"+j)});b.getAllFavorites(function(j){})}function e(i){b.saveFavoriteTtg(i,function(j){console.log("SAVE ttg:"+j.message)})}function g(i){b.saveFavoriteLeagues(i,function(j){console.log("SAVE Leagues:"+j.message)})}function h(i){b.saveFavoriteSports(i,function(j){console.log("SAVE Sport:"+j.message)})}}})();
(function(){angular.module("offer.favorites").controller("FavoritesAdminController",a);a.$inject=["FavoritesService"];function a(o){var h=this;h.items={league:"LEAGUE",sport:"SPORT",groups:"GROUPS"};h.selected=h.items.sport;h.isSelected=d;h.setActive=c;h.init=false;h.clearS=true;h.clearOrSelectAll=k;h.saveFavoriteTtgs=e;h.saveFavoriteLeagues=b;h.saveFavoriteSports=f;h.isAnySelected=n;h.isAllSelected=i;j();function j(){g(false)}function d(p){return p==h.selected}function c(p){if(p!=h.selected){h.selected=p}}function g(p){o.getFormattedFavorites(function(q){if(q!=null){h.leagues=q.leagues;h.sports=q.sports;h.groups=q.groups;k(h.items.league,true);k(h.items.sport,true);k(h.items.groups,true)}h.init=true;h.loading=false;if(p){m()}})}function k(t,s,u){if(u!=null){s=u}if(t==h.items.league){for(var r in h.leagues){h.leagues[r].selected=s}}if(t==h.items.groups){for(var q in h.groups){h.groups[q].selected=s}}if(t==h.items.sport){for(var p in h.sports){h.sports[p].selected=s}}}function e(){h.loading=true;o.saveFavoriteTtg(l(h.items.groups),function(p){g(true)})}function b(){h.loading=true;o.saveFavoriteLeagues(l(h.items.league),function(p){g(true)})}function f(){h.loading=true;o.saveFavoriteSports(l(h.items.sport),function(p){g(true)})}function n(t,s){if(t==h.items.league){for(var r in h.leagues){if(h.leagues[r].selected==s){return true}}}if(t==h.items.groups){for(var q in h.groups){if(h.groups[q].selected==s){return true}}}if(t==h.items.sport){for(var p in h.sports){if(h.sports[p].selected==s){return true}}}}function l(t){if(t==h.items.league){var s="";if(h.leagues!=null&&h.leagues.length>0){for(var r in h.leagues){if(h.leagues[r].selected){s=s+h.leagues[r].betLeagueId+"#"}}if(s!=""&&s.length>1){return s.substr(0,s.length-1)}}else{return""}}if(t==h.items.groups){var s="";if(h.groups!=null&&h.groups.length>0){for(var q in h.groups){if(h.groups[q].selected){s=s+h.groups[q].id+"#"}}if(s!=""&&s.length>1){return s.substr(0,s.length-1)}}return""}if(t==h.items.sport){var s="";if(h.sports!=null&&Object.keys(h.sports).length>0){for(var p in h.sports){if(h.sports[p].selected){s=s+p+"#"}}if(s!=""&&s.length>1){return s.substr(0,s.length-1)}}return""}}function i(s,r){if(s==null){return false}var t=true;for(var q in s){if(s[q].selected==r){t=t&true}else{return false}}return t}function m(){o.refreshFavorites(function(p){})}}})();
(function(){angular.module("offer.favorites").service("FavoritesService",a);a.$inject=["$http","DomainService","UserService","$localStorage","$rootScope"];function a(j,g,f,m,l){var d=function(n){return $.param(n)};var k=true;var h={};i();this.isSportFavorite=function(n){if(h.sportFavorites!=null){return h.sportFavorites.indexOf(n)>-1}return false};this.isLeagueFavorite=function(n){if(h.leagueFavorites!=null){return h.leagueFavorites.indexOf(n.toString())>-1}return false};this.isTtgFavorites=function(n){if(h.ttgFavorites!=null){return h.ttgFavorites.indexOf(n.toString())>-1}return false};this.addFavoriteSport=function(o){if(h.sportFavorites!=null){var n=h.sportFavorites.indexOf(o);if(n>-1){h.sportFavorites.splice(n,1)}else{if(k){h.sportFavorites.push(o)}else{if(h.sportFavorites.length<l.favoriteParams.sports){h.sportFavorites.push(o)}else{return -1}}}if(k){return 2}c(h.sportFavorites.join("#"),function(p){console.log(p)});console.log(h.sportFavorites.join("#"))}else{if(k){h.sportFavorites=[];h.sportFavorites.push(o);return 2}c(o,function(p){console.log(p)});return 1}return 1};this.addFavoriteLeague=function(o){if(h.leagueFavorites!=null){var n=h.leagueFavorites.indexOf(o.toString());if(n>-1){h.leagueFavorites.splice(n,1)}else{if(k){h.leagueFavorites.push(o.toString())}else{if(h.leagueFavorites.length<l.favoriteParams.leagues){h.leagueFavorites.push(o.toString())}else{return -1}}}if(k){return 2}b(h.leagueFavorites.join("#"),function(p){console.log(p)});console.log(h.leagueFavorites.join("#"))}else{if(k){h.leagueFavorites=[];h.leagueFavorites.push(o.toString());return 2}b(o,function(p){console.log(p)})}return 1};this.addFavoriteTtg=function(o){if(h.ttgFavorites!=null){var n=h.ttgFavorites.indexOf(o.toString());if(n>-1){h.ttgFavorites.splice(n,1)}else{if(k){h.ttgFavorites.push(o.toString())}else{if(h.ttgFavorites.length<l.favoriteParams.tipTypeGroups){h.ttgFavorites.push(o.toString())}else{return -1}}}if(k){return 2}e(h.ttgFavorites.join("#"),function(p){console.log(p)});console.log(h.ttgFavorites.join("#"))}else{if(k){h.ttgFavorites=[];h.ttgFavorites.push(o.toString());return 2}e(o,function(p){console.log(p)})}return 1};this.getAllFavorites=function(){return h};this.getFavorites=function(n,o){j.get(g.getIBetServer()+"/user/favorites/"+n+".json").success(function(p){o(p.string)}).error(function(p){o(null)})};this.addToolTip=function(n,r,p,q){p.style.top=(r-3)+"px";p.style.left=(n-10)+"px";var o=p.className;if(o.indexOf("show")<0){p.className+=" show"}p.innerHTML=q};this.getFormattedFavorites=function(n){j.get(g.getIBetServer()+"/user/formattedFavorites.json").success(function(o){if(o!=null){if(o.leaguesToken!=null){h.leagueFavorites=o.leaguesToken;m.allFavorites=h}if(o.sportToken!=null){h.sportFavorites=o.sportToken;m.allFavorites=h}if(o.ttgToken!=null){h.ttgFavorites=o.ttgToken;m.allFavorites=h}}if(n){n(o)}}).error(function(o){if(n){n(null)}})};function i(n){f.isLogedUserFromServer(function(o){if(o){k=false;j.get(g.getIBetServer()+"/user/allFavorites.json").success(function(p){if(p!=null){console.log(p.leagueFavorites+"//"+p.sportFavorites+"//"+p.ttgFavorites)}if(p.leagueFavorites==null){p.leagueFavorites=new Array()}if(p.sportFavorites==null){p.sportFavorites=new Array()}if(p.ttgFavorites==null){p.ttgFavorites=new Array()}h=p}).error(function(p){})}else{h=m.allFavorites;if(h==null){h={};h.leagueFavorites=new Array();h.sportFavorites=new Array();h.ttgFavorites=new Array()}m.allFavorites=h}})}function e(n,o){j.post(g.getIBetServer()+"/user/favoriteTtg.html",{ttgFavorites:n},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:d}).success(function(p){o(p)}).error(function(p){o(null)})}function b(n,o){j.post(g.getIBetServer()+"/user/favoriteLeagues.html",{leagueFavorite:n},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:d}).success(function(p){o(p)}).error(function(p){o(null)})}function c(n,o){j.post(g.getIBetServer()+"/user/favoriteSports.html",{sportFavorite:n},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:d}).success(function(p){o(p)}).error(function(p){o(null)})}this.saveFavoriteSports=c;this.saveFavoriteLeagues=b;this.saveFavoriteTtg=e;this.refreshFavorites=i}})();
(function(){angular.module("main.search",[])})();
(function(){angular.module("main.search").controller("SearchController",a);a.$inject=["$scope","SearchService","LeaguesWithMatchesService","ResultService","DESIGN","SportWithLeagueService","LiveOfferService","$state"];function a(n,p,f,k,l,i,d,b){var c=this;c.searchMatchesFound=false;c.searchResultsFound=false;c.getSearchResult=m;c.pollMatchSpecial=g;c.poolResultsByLeagueIdAndSport=o;c.pollLeagueForDesignD=h;e();function e(){if(l=="b"||l=="f"){c.state=b}n.$on("$destroy",function q(){c.matches=null;c.results=null})}function m(q){if(c.search){if(l=="d"){p.getSearchedMatchesWithoutResultsAndOdds(c.search,function(t){var s=t!=null?t:null;var r=null;c.searchMatchesFound=s!=null?true:false;c.searchResultsFound=r!=null?true:false;c.matches=s;c.results=r})}else{p.getSearchResultForMatches(c.search,function(u){var t=u!=null?u.matches:null;var s=u!=null?u.results:null;c.searchMatchesFound=t!=null?true:false;c.searchResultsFound=s!=null?true:false;c.matches=t;c.results=s;if(l=="b"||l=="f"){if(c.search.length==3||c.search.length>3){var r=d.getLiveMatches();c.searchingLiveMatches=j(r,c.search)}else{c.searchingLiveMatches=null}}})}}}function g(r,q){f.pollMatchSpecial(r,q)}function o(r,q){k.setLeagueAndSportIdForResult(q,r)}function h(q,r,s){i.pollLeagueForDesignD(q,r,s)}function j(t,q){var s=[];for(var r in t){if(t[r].home.toLowerCase().indexOf(q.toLowerCase())>=0||t[r].away.toLowerCase().indexOf(q.toLowerCase())>=0||t[r].leagueName.toLowerCase().indexOf(q.toLowerCase())>=0){s.push(t[r])}}return s}}})();
(function(){angular.module("main.sidebarLinks",[])})();
(function(){angular.module("main.sidebarLinks").controller("SidebarLinksController",a);a.$inject=["$scope","LiveOfferService","LastMinuteMatchesService","TopMatchesService"];function a(k,c,g,b){var d=this;var j=c.getLiveMatches();d.getLiveMatchesSize=h;d.getLastMinuteMatchesSize=i;d.getTopMatchesSize=e;d.setDay=l;f();function f(){k.$watch(function(){return c.getLiveMatches()},function(n){j=n});k.$on("$destroy",function m(){j=null})}function h(){return Object.keys(j).length}function i(){return g.getLastMinuteMatchesSize()}function e(){return b.getTopMatchesSize()}function l(m){d.day=m}}})();
(function(){angular.module("app.result",[])})();
(function(){angular.module("app.result").controller("LastResultsController",a);a.$inject=["$scope","ResultService"];function a(j,i){var c=this;c.lastLiveResults=i.getLiveResults();c.interval=50;c.lastLiveResultsScrollIndex=0;c.selection="first";c.getCurrentPeriodScoreHome=h;c.getCurrentPeriodScoreAway=g;c.showLastResults=f;var b;e();function e(){if(b==null){b=setInterval(d,5000)}j.$on("$destroy",function k(){i.stopLiveResultPolling();i.statusChangedTrack(false);clearInterval(b);b=null;c.lastLiveResults=null});j.$on("liveResultReady",function(m,l){d()});j.$watch(function(){return i.getLiveResults()},function(l){c.lastLiveResults=l});i.startLiveResultPolling();i.statusChangedTrack(true)}function d(){var l=Object.keys(c.lastLiveResults);if(l.length>0){c.lastLiveResultsScrollKeys=[];for(var k=0;k<2;k++){c.lastLiveResultsScrollIndex++;if(c.lastLiveResultsScrollIndex>=l.length){c.lastLiveResultsScrollIndex=0}c.lastLiveResultsScrollKeys.push(l[c.lastLiveResultsScrollIndex])}}if(c.selection=="first"){c.lastLiveResultsScrollFirst=[];for(var k in c.lastLiveResultsScrollKeys){c.lastLiveResultsScrollFirst.push(c.lastLiveResults[c.lastLiveResultsScrollKeys[k]])}c.selection="second"}else{c.lastLiveResultsScrollSecond=[];for(var k in c.lastLiveResultsScrollKeys){c.lastLiveResultsScrollSecond.push(c.lastLiveResults[c.lastLiveResultsScrollKeys[k]])}c.selection="first"}}function f(){if(c.lastLiveResults==null){return false}var k=Object.keys(c.lastLiveResults);return k.length>0}function h(o,k){var m="";switch(k){case"FIRST_SET":return o[0].h;case"SECOND_SET":return o[1].h;case"THIRD_SET":return o[2].h;case"FOURTH_SET":return o[3].h;case"FIFTH_SET":return o[4].h;case"SIXTH_SET":return o[5].h;case"SEVENTH_SET":return o[6].h;default:for(var l in o){var n=o[l];if((Number(n.h)>0&&Number(n.a)>0)||(Number(n.h)===0&&Number(n.a)>0)||(Number(n.h)>0&&Number(n.a)===0)){m=n.h}else{return m}}}}function g(o,k){var m="";switch(k){case"FIRST_SET":return o[0].a;case"SECOND_SET":return o[1].a;case"THIRD_SET":return o[2].a;case"FOURTH_SET":return o[3].a;case"FIFTH_SET":return o[4].a;case"SIXTH_SET":return o[5].a;case"SEVENTH_SET":return o[6].a;default:for(var l in o){var n=o[l];if((Number(n.h)>0&&Number(n.a)>0)||(Number(n.h)===0&&Number(n.a)>0)||(Number(n.h)>0&&Number(n.a)===0)){m=n.a}else{return m}}}return m}}})();
(function(){angular.module("app.result").controller("ResultsController",a);a.$inject=["$scope","ResultService","$rootScope","$stateParams","UserService","$translate","DESIGN"];function a(q,t,i,y,p,s,k){var v=[];var z={};var x=this;x.loading=true;x.resultType=t.getResultType();x.orderTypes=[s("results.competitions").then(function(A){x.orderTypes[0]={name:A,id:0}}),s("results.date").then(function(A){x.orderTypes[1]={name:A,id:1}}),s("results.matchnumber").then(function(A){x.orderTypes[2]={name:A,id:2}})];x.selectedOrderType=x.orderTypes[0];x.selectedOrderType.id=0;x.sport=t.resultSport;x.statusFilter=1;x.day=new Date();x.refreshResults=g;x.showFilters=true;x.showLiveResults=f;x.showAllResults=r;x.showFavoritesResults=n;x.addToFavorites=m;x.getFavoritesSize=o;x.setFavoriteClass=w;x.searchTextChanged=false;x.showPeriodResult=j;x.showPeriodResultHover=l;if(k!="d"){x.liveResults=t.getLiveResultsWithLeagueMap();x.lenLiveResults=Object.keys(x.liveResults).length}x.isLifeSportFilter=false;x.selectedMatchIds=t.getSelectedMatchIds();x.selectedLiveMatchCodes=t.getSelectedLiveMatchCodes();x.selectedLiveMatchTmstmp=t.getSelectedLiveMatchTmstmp();x.showScore=d;x.hasScores=e;c();function c(){if(y.locale!=null){p.changeServerLanguage(y.locale,function(){var C=angular.element("#app-loaded");C.addClass("hide");s.use(y.locale)});return}b();t.getResults(x.sport.type,x.selectedOrderType.id,3,x.day.getTime(),function(C){z=C;if(x.resultType=="favorites"){x.results=z.concat(u())}});q.$watch("results.day",function(){g()});if(k!="d"){q.$watch(function(){var C=t.getLiveResultsWithLeagueMap();x.lenLiveResults=Object.keys(C).length;return C},function(C){x.liveResults=C;x.lenLiveResults=Object.keys(x.liveResults).length})}q.$on("sport-updated",function(D,C){g()});q.$watch(function(){return t.leagueId},function(D,C){if(D!=C){h();g()}},true);q.$on("$destroy",function B(){x.results=null;x.liveResults=null;x.lenLiveResults=null;x.isLifeSportFilter=false});var A=y;if(A!=null&&A.live!=null&&A.live=="1"&&k!="d"){f()}}function b(){if(v!=null){t.getResults(x.sport.type,x.selectedOrderType.id,1,x.day.getTime(),function(A){v=A})}}function j(B,A){if(B=="T"||B=="V"||B=="O"){if(A==null){return true}return((Number(A.h)>0&&Number(A.a)>0)||(Number(A.h)===0&&Number(A.a)>0)||(Number(A.h)>0&&Number(A.a)===0))}return false}function l(D,E,C){if(D==null){return false}var B=5;if(E!=null){if(E=="B"||E=="W"){B=4}else{if(E=="H"){B=3}}}if(C==null||C+1==B){if(D[B-1]!=null){return((Number(D[B-1].h)>0&&Number(D[B-1].a)>0)||(Number(D[B-1].h)===0&&Number(D[B-1].a)>0)||(Number(D[B-1].h)>0&&Number(D[B-1].a)===0))}else{return false}}for(var A=C;A<D.length;A++){if(D[A]!=null&&((Number(D[A].h)>0&&Number(D[A].a)>0)||(Number(D[A].h)===0&&Number(D[A].a)>0)||(Number(D[A].h)>0&&Number(D[A].a)===0))){return true}}return false}function d(A){return A!=null&&A.h>-1&&A.a>-1}function f(){x.resultType="live";x.showFilters=false;x.results=x.liveResults;x.lenLiveResults=Object.keys(x.results).length;var C=Object.keys(x.results);for(var B=0;B<x.lenLiveResults;B++){var A=C[B];if(x.results[A].sport!=x.sport.type){x.isLifeSportFilter=true}else{x.isLifeSportFilter=false;break}}}function r(){x.resultType="all";x.showFilters=true;x.results=v}function h(){x.resultType="one";x.showFilters=true;t.getResultsByLeagueIdAndSport(function(A){x.results=A})}function n(){x.resultType="favorites";x.showFilters=false;x.results=z.concat(u())}function u(){var H=[];var D={};for(var G in x.liveResults){var F=x.liveResults[G];var A=D[G];if(A==null){A={};A.name=F.name;A.sport=F.sport;A.matchList={}}for(var E in F.matchList){var B=F.matchList[E];if(x.selectedLiveMatchCodes.indexOf(B.matchCode)>-1){A.matchList[B.matchCode]=B;D[G]=A}}}for(var C in D){H.push(D[C])}return H}function m(A){if(A.id==null){var B=x.selectedLiveMatchCodes.indexOf(A.matchCode);if(B>-1){x.selectedLiveMatchCodes.splice(B,1);x.selectedLiveMatchTmstmp.codes[A.matchCode]=null;delete x.selectedLiveMatchTmstmp.codes[A.matchCode]}else{x.selectedLiveMatchCodes.push(A.matchCode);x.selectedLiveMatchTmstmp.codes[A.matchCode]=new Date().getTime()}if(x.resultType=="favorites"){x.results=z.concat(u())}}else{var B=x.selectedMatchIds.indexOf(A.id);if(B>-1){x.selectedMatchIds.splice(B,1);x.selectedLiveMatchTmstmp.ids[A.id]=null;delete x.selectedLiveMatchTmstmp.ids[A.id]}else{x.selectedMatchIds.push(A.id);x.selectedLiveMatchTmstmp.ids[A.id]=new Date().getTime()}t.getResults(x.sport.type,x.selectedOrderType.id,3,x.day.getTime(),function(C){z=C;if(x.resultType=="favorites"){x.results=z.concat(u())}})}}function o(){var A=0;var C=u();for(var B in C){A+=Object.keys(C[B].matchList).length}return x.selectedMatchIds.length+A}function w(D,C){var A=x.resultType=="live"&&D!=null&&x.selectedLiveMatchCodes.indexOf(D)>-1;var B=C!=null&&x.selectedMatchIds.indexOf(C)>-1;if(A||B){return"selected-my-selection-btn"}}function g(){if(x.resultType=="one"){x.loading=true;h();x.resultType="all";x.loading=false}else{if(x.resultType=="live"){x.loading=true;f();x.loading=false}else{i.$broadcast("change-results-sport",{day:x.day});x.loading=true;t.getResults(x.sport.type,x.selectedOrderType.id,x.statusFilter,x.day.getTime(),function(A){v=A;if(x.resultType=="all"){r()}else{if(x.resultType=="live"){f()}else{if(x.resultType=="favorites"){n()}}}x.loading=false})}}}function e(B){if(B==null||B.length==0){return false}for(var A=0;A<B.length;A++){if(((Number(B[A].h)>0&&Number(B[A].a)>0)||(Number(B[A].h)===0&&Number(B[A].a)>0)||(Number(B[A].h)>0&&Number(B[A].a)===0))){return true}}return false}}})();
(function(){angular.module("app.result").controller("PeriodResultsController",a);a.$inject=["ResultService","$scope","$translate","$stateParams","$state","DomainService"];function a(l,p,d,n,b,i){var e=this;var m=[12,24,72,168];e.stateSport=n.sport;e.timeOptions=[];e.resultsForTimeParamList=[];e.isCheckedSport=false;e.leagueID="";e.sport="";e.getImageUrl=f;angular.forEach(m,function(q){d("results.timeOptions."+q).then(function(r){e.timeOptions.push({period:r,value:q})})});e.setTime=k;e.getMatchesBySportAndLeague=h;e.getLeaguesAndMatchesForSoccer=o;e.reloadResultsPage=j;g();function g(){l.setTime(12);e.time=l.getTime();l.poolSportsAndLeaguesForTimeParam();e.resultsForTimeParamlength=0;p.$watch(function(){return l.getSportsAndLeaguesForTime()},function(q){e.sportsAndLeaguesForTime=q;e.isCheckedSport=l.getIsSportChecked();console.log(e.isCheckedSport);if(e.isCheckedSport===true){c()}else{o()}});p.$watch(function(){return l.getResultsForTimeParamLength()},function(q){e.resultsForTimeParamlength=q});p.$watch(function(){return l.getResultsListForTimeParam()},function(q){e.resultsForTimeParamList=q})}function o(){e.leagueID="";e.sport="";l.setIsSportChecked(false);l.getLeaguesMatchesForTimeParams("S",function(q){if(q!==null&&q.length>0){l.setResultsForTimeParamLength(q.length);l.setResultsListForTimeParam(q)}else{l.setResultsForTimeParamLength(0);l.setResultsListForTimeParam(null)}})}function k(){l.setTime(e.time);l.poolSportsAndLeaguesForTimeParam()}function h(r,q){e.leagueID=q;e.sport=r;l.setIsSportChecked(true);l.getResultsForTimeParam(r,q,function(s){if(s!==null&&s.length!==0){l.setResultsForTimeParamLength(s.length);l.setResultsListForTimeParam(s)}else{l.setResultsForTimeParamLength(s.length);l.setResultsListForTimeParam(null)}})}function c(){if(e.leagueID!==""&&e.sport!==""){h(e.sport,e.leagueID)}}function j(){b.reload();l.setTime(12);e.isCheckedSport=false;l.setResultsForTimeParamLength(0);l.setResultsListForTimeParam(null);o()}function f(q,r){if(q==null){q=""}if(r==null){r=""}return i.getIBetServer()+"/image/"+q+"/"+r}}})();
(function(){angular.module("offer.topMatches",[])})();
(function(){angular.module("offer.topMatches").controller("TopMatchesController",a);a.$inject=["$scope","TopMatchesService","LeaguesWithMatchesService","ActiveSportsService","$stateParams","SportWithLeagueService","$location","$anchorScroll","TipTypeGroupsService","$rootScope","DESIGN","SettingsService"];function a(t,b,y,w,B,q,h,g,i,l,p,u){var A=this;A.mainContent=B.mainContent;A.pollMatchSpecial=o;A.sport={type:"S"};A.sportFilter=c;A.setLiveSport=n;A.getSportStatus=m;A.setNewTipTypeGroup=d;A.loadingMatches=false;A.loadingActiveSports=false;A.refreshMatches=v;A.toggleTipType=false;A.hasThisHandicap=j;var f;var z=(p==="b")?5:7;x();e();function e(){h.hash("top");g();k();if(f==null){f=setInterval(k,1000*60)}t.$on("$destroy",function E(){A.matches=null;A.tipTypeGroups=null;A.sports=null;b.resetTmstmp();clearInterval(f)})}function d(E){if(A.loadingMatches||(E==null&&E==A.selectedTipTypeGroupFilteredForSport)||(E!=null&&A.selectedTipTypeGroupFilteredForSport==E.id)){return}if(E==null){i.removeSelectedTipTypeGroupForSport(A.sport.type)}else{i.setNewTipTypeGroup(E)}A.toggleTipType=!A.toggleTipType;y.removeMatchSpecial()}function k(){if(!A.loadingMatches){A.loadingMatches=true;b.getTopMatches(function(G){if(G!=null){var F=[];for(var E in G){if(F.indexOf(G[E].sport)==-1){F.push(G[E].sport)}}A.sports=F;A.matches=G;if(!A.loadingActiveSports){A.loadingActiveSports=true;w.getActiveSportsWithCallback(function(J){J.sort(function(L,K){return s(K,F)-s(L,F)});var H=J;if(H.length>0&&H!=null){A.sport.type=H[0]}A.activeSports=w.getSportBySportKeys(H);for(var I in A.activeSports){A.activeSports[I].name=A.activeSports[I].name.substring(0,1).toUpperCase()+A.activeSports[I].name.substring(1)}A.loadingActiveSports=false})}C();r()}else{A.loadingMatches=false}})}}function r(){if(i.getTtgIds()==null||i.getTtgIds()[A.sport.type]==null){q.pollTipTypeGroupsFavoritesForSport(A.sport.type,function(E){A.tipTypeGroups=E;D();A.tipTypeGroupsFilteredForSport=i.getTipTypeGroupsFilter()[A.sport.type];A.selectedTipTypeGroupFilteredForSport=null;A.loadingMatches=false})}else{i.getTipTypeGroupsActiveWithCallback(function(E){A.tipTypeGroups=[E[A.sport.type][i.getTtgIds()[A.sport.type][0]]];D();A.tipTypeGroupsFilteredForSport=i.getTipTypeGroupsFilter()[A.sport.type];A.selectedTipTypeGroupFilteredForSport=A.tipTypeGroups[0].id;A.loadingMatches=false})}}function C(){A.limitedMatches=[];for(var E=0;A.limitedMatches.length<z&&E<A.matches.length;E++){if(A.matches[E].sport==A.sport.type){A.limitedMatches.push(A.matches[E])}}}function s(F,E){return E.indexOf(F)>-1?1:0}function o(F,E){y.pollMatchSpecial(A.sport.type,E)}function c(){return function(E){return A.sport.type==null||A.sport.type==E.sport}}function n(E){if(A.sports.indexOf(E)>-1){A.sport.type=E;C();r();if(A.mainContent!=null&&A.mainContent=="false"){h.hash("top");g()}}}function m(G,E,F){if(A.sports.indexOf(G)==-1){return F}if(A.sport.type===G){return E}}function D(){A.tipTypesCount=0;for(var E in A.tipTypeGroups){for(var F in A.tipTypeGroups[E].tipTypes){A.tipTypesCount++}}}function v(){k()}function x(){u.setInit(A.settings);u.getSettings(function(H){A.settings=H;var F=!A.settings.promo&&A.settings.liveOffer&&A.settings.lastMinuteOffer?2:0;var E=A.settings.liveOffer?0:A.settings.lastMinuteOffer?7:9;var G=A.settings.lastMinuteOffer?0:A.settings.liveOffer?7:9;z+=F+E+G})}function j(E){return i.hasThisHandicap(E)}t.$on("tip-type-group-change",function(F,E){console.log("tip-type-group-change top");if(E.sport==A.sport.type){i.updateTtgIds(E.sport,[E.ttgId]);b.resetTmstmp();k()}});t.$on("tip-type-group-remove",function(F,E){if(E.sport==A.sport.type){i.updateTtgIds(E.sport,null);b.resetTmstmp();k()}});t.$on("tip-type-group-close",function(){A.toggleTipType=false})}})();
(function(){angular.module("offer.topLeagues",[])})();
(function(){angular.module("offer.topLeagues").service("TopLeaguesService",a);a.$inject=["$http","DomainService"];function a(c,b){this.getTopLeagues=function(d){c.get(b.getIBetOfferServer()+"/offer/topLeagues.json",{params:{mobile:false}}).success(function(e){d(e)}).error(function(e){d(null)})}}})();
(function(){angular.module("offer.topLeagues").controller("TopLeaguesController",a);a.$inject=["TopLeaguesService","LeaguesWithMatchesService","$scope","ngDialog","DESIGN","$state","SportWithLeagueService","TipTypeGroupsService"];function a(i,h,n,l,m,b,k,e){var c=this;c.leagues=[];c.ar=5;c.pollMatchSpecial=j;c.openStatistic=g;c.getOddTitle=o;f();function f(){d()}function d(){i.getTopLeagues(function(p){if(p!==null){c.leagues=p;console.log(c.leagues)}})}function j(q,p){h.pollMatchSpecial(q,p)}function g(p,q){n.loading=true;h.getStatistics(p).then(function(r){n.statistic=r;n.sport=q;n.loading=false;l.open({template:"views/"+m+"Design/leagueWithMatches/statistic.html",scope:n,className:"ngdialog-theme-default statistic-popup-dialog",preCloseCallback:function(s){if(r.ibetResponseStatus=="OK"){b.go("home.mainContent")}}})})}function o(t,p,q,s,r){return e.getOddTitle(t,p,q,s,r)}}})();
(function(){angular.module("offer.lastMinuteMatches",[])})();
(function(){angular.module("offer.lastMinuteMatches").controller("LastMinuteMatchesController",a);a.$inject=["$scope","LastMinuteMatchesService","LeaguesWithMatchesService","ActiveSportsService","SportWithLeagueService","$stateParams","$anchorScroll","$location","TipTypeGroupsService","$rootScope","SettingsService"];function a(s,f,x,v,p,B,g,h,i,l,t){var A=this;A.loadingActiveSports=false;A.sport=y();A.mainContent=B.mainContent;A.pollMatchSpecial=o;A.sportFilter=b;A.setLiveSport=n;A.getSportStatus=m;A.setNewTipTypeGroup=c;A.loadingMatches=false;A.refreshMatches=u;A.toggleTipType=false;A.hasThisHandicap=j;var e;var z=5;w();d();function d(){h.hash("top");g();k();if(e==null){e=setInterval(k,1000*60)}s.$on("$destroy",function E(){A.matches=null;A.tipTypeGroups=null;A.sports=null;f.resetTmstmp();clearInterval(e)})}function y(){if(B.sport!=null&&B.sport!=""){A.loadingActiveSports=true;return{type:B.sport}}console.log("type:"+B.sport);return{type:"S"}}function k(){if(!A.loadingMatches){A.loadingMatches=true;f.getLastMinuteMatches(function(G){if(G!=null){var F=[];for(var E in G){if(F.indexOf(G[E].sport)==-1){F.push(G[E].sport)}}A.sports=F;A.matches=G;if(!A.loadingActiveSports){A.loadingActiveSports=true;v.getActiveSportsWithCallback(function(J){J.sort(function(L,K){return r(K,F)-r(L,F)});var H=J;if(H.length>0&&H!=null){A.sport.type=H[0]}A.activeSports=v.getSportBySportKeys(H);for(var I in A.activeSports){A.activeSports[I].name=A.activeSports[I].name.substring(0,1).toUpperCase()+A.activeSports[I].name.substring(1)}A.loadingActiveSports=false})}C();q()}else{A.loadingMatches=false}})}}function q(){if(i.getTtgIds()==null||i.getTtgIds()[A.sport.type]==null){p.pollTipTypeGroupsFavoritesForSport(A.sport.type,function(E){A.tipTypeGroups=E;D();A.tipTypeGroupsFilteredForSport=i.getTipTypeGroupsFilter()[A.sport.type];A.selectedTipTypeGroupFilteredForSport=null;A.loadingMatches=false})}else{i.getTipTypeGroupsActiveWithCallback(function(E){A.tipTypeGroups=[E[A.sport.type][i.getTtgIds()[A.sport.type][0]]];D();A.tipTypeGroupsFilteredForSport=i.getTipTypeGroupsFilter()[A.sport.type];A.selectedTipTypeGroupFilteredForSport=A.tipTypeGroups[0].id;A.loadingMatches=false})}}function c(E){if(A.loadingMatches||(E==null&&E==A.selectedTipTypeGroupFilteredForSport)||(E!=null&&A.selectedTipTypeGroupFilteredForSport==E.id)){return}if(E==null){i.removeSelectedTipTypeGroupForSport(A.sport.type)}else{i.setNewTipTypeGroup(E)}A.toggleTipType=!A.toggleTipType;x.removeMatchSpecial()}function C(){A.limitedMatches=[];for(var E=0;A.limitedMatches.length<z&&E<A.matches.length;E++){console.log(A.sport.type);if(A.matches[E].sport==A.sport.type){A.limitedMatches.push(A.matches[E])}}}function r(F,E){return E.indexOf(F)>-1?1:0}function o(E){x.pollMatchSpecial(A.sport.type,E)}function b(){return function(E){return A.sport.type==null||A.sport.type==E.sport}}function n(E){if(A.sports.indexOf(E)>-1){A.sport.type=E;C();q();if(A.mainContent!=null&&A.mainContent=="false"){h.hash("top");g()}}}function m(G,E,F){if(A.sports.indexOf(G)==-1){return F}if(A.sport.type===G){return E}}function D(){A.tipTypesCount=0;for(var E in A.tipTypeGroups){for(var F in A.tipTypeGroups[E].tipTypes){A.tipTypesCount++}}}function u(){k()}s.$on("tip-type-group-change",function(F,E){console.log("tip-type-group-change last");if(E.sport==A.sport.type){i.updateTtgIds(E.sport,[E.ttgId]);f.resetTmstmp();k()}});s.$on("tip-type-group-remove",function(F,E){if(E.sport==A.sport.type){i.updateTtgIds(E.sport,null);f.resetTmstmp();k()}});s.$on("tip-type-group-close",function(){A.toggleTipType=false});function w(){t.setInit(A.settings);t.getSettings(function(H){A.settings=H;var F=!A.settings.promo&&A.settings.liveOffer&&A.settings.topOffer?2:0;var E=A.settings.liveOffer?0:A.settings.topOffer?7:9;var G=A.settings.topOffer?0:A.settings.liveOffer?7:9;z+=F+E+G})}function j(E){return i.hasThisHandicap(E)}}})();
(function(){angular.module("offer.dailyOffer",[])})();
(function(){angular.module("offer.dailyOffer").controller("DailyOfferController",a);a.$inject=["DailyOfferService","$state"];function a(f,c){var e=this;e.getSportWithLeaguesDaily=j;e.leaguesWithMatches=null;e.day=c.params.day;e.beginer=0;e.stepval=7;e.step=e.stepval;e.end=e.step;e.page=1;e.pages=1;e.goToNextPage=d;e.goToPrevPage=i;g();function g(){e.getToday=new Date();e.getSecondDay=new Date();e.getSecondDay.setDate(e.getSecondDay.getDate()+1);e.getThirdDay=new Date();e.getThirdDay.setDate(e.getThirdDay.getDate()+2);if(e.day!=null){j(e.day)}}function j(k){e.loading=true;f.getSportWithLeaguesWithMatchesDaily(k,function(l){e.leaguesWithMatches=l;e.pages=Math.ceil(e.leaguesWithMatches.length/e.stepval);e.loading=false})}function i(){if(e.step>0&&e.page>1){b()}}function d(){if(e.step<e.leaguesWithMatches.length){h()}}function b(){if(e.page>1){e.page--}e.step=e.page*e.stepval;e.end=e.beginer;if(e.step<0){e.step=0;e.end=e.stepval;e.page=1}e.beginer=e.step;if(e.beginer==e.end){e.beginer=e.beginer-e.stepval}}function h(){e.page++;e.step=e.page*e.stepval;e.beginer=e.end;e.end=e.step;if(e.beginer==e.end){e.end=e.end+e.stepval}}}})();
(function(){angular.module("offer.timeSlider",[])})();
(function(){angular.module("offer.timeSlider").directive("timeSlider",a);function a(){var c={restrict:"A",scope:{hour:"=model"},link:b,template:'<div class="time-interval {{intervalClass}}" ></div>',controller:"TimeSliderController",controllerAs:"timeSlider",bindToController:true};return c;function b(e,f,d,g){$(f).slider({range:false,min:e.timeSlider.config.min,max:e.timeSlider.config.max,step:e.timeSlider.config.step,value:e.timeSlider.hour,slide:function(h,i){e.$apply(function(){e.timeSlider.hour=i.value;e.intervalClass="interval-w-"+i.value})},stop:function(h,i){e.$apply(function(){e.timeSlider.pollSportsWithLeagues(e.timeSlider.hours[i.value])})}})}}})();
(function(){angular.module("offer.timeSlider").controller("TimeSliderController",a);a.$inject=["SportWithLeagueService"];function a(c){var g=this;g.tab=1;g.days=c.getDatesForRound();g.selected=0;g.selectDay=e;g.changeTab=b;g.pollSportsWithLeagues=d;g.hours={1:3,2:5,3:12,4:24,5:48,6:-1};g.config={min:1,max:6,step:1};g.activate=f;function f(){setTimeout(function(){c.pollDatesForRound();c.pollSportsWithLeagues(-1)},500)}function e(j,i){h(i);g.selected=j}function h(i){c.pollSportsWithLeaguesForDay(i)}function b(i){if(i===1){c.pollSportsWithLeagues(null,true)}else{if(i===2){c.pollSportsWithLeaguesForDay(null,true)}}g.tab=i}function d(i){c.pollSportsWithLeagues(i)}}})();
(function(){angular.module("app.ticket",["ticket.ticketModel","ticket.tPreviewHeight","ticket.ticketMessages"])})();
(function(){angular.module("app.ticket").service("TicketService",a);a.$inject=["$http","DomainService","WebTicket","$sessionStorage","$rootScope","$filter","VERSION","DESIGN"];function a(x,h,k,d,l,r,w,p){var e={};var s=3;var b={};var u=1;if(p=="d"){var f=false;var t=false;var c={}}q();function q(){for(var y=1;y<=s;y++){b["tab"+y]=k.build(d["ticket"+y]);if(b["tab"+y]==null){b["tab"+y]=new k(l.betParams.minPayIn)}d["ticket"+y]=b["tab"+y]}b.tabvirtual=k.build(d.ticketvirtual);if(b.tabvirtual==null){b.tabvirtual=new k(l.betParams.minPayIn)}d.ticketvirtual=b.tabvirtual;e=b.tab1;e.calculateNumberOfCombinations()}this.getWebTicket=function(){return e};this.changeWebTicket=function(y){e=b["tab"+y];u=y;l.$broadcast("ticket-changed")};var o=function(y){return $.param(y)};this.saveTicket=function(y,z){if(y==null){y=false}x.post(h.getIBetServer()+"/saveTicketAsyncBet.json",{tjson:e.getJsonWebTicket(),c:false,cVersion:w,freeBet:y},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:o}).success(function(A){z(A)}).error(function(A){z(A)})};this.getTab=function(){return u};this.addBet=function(E,G,y,Q,C,O,J,F,K,I,B,H,M,P,N,L,A,z){var D="fix";angular.forEach(e.getSystems(),function(R){if(R.hasMatch(E)){D=R.getName()}});e.addBet(D,E,G,y,Q,C,O,J,F,K,I,B,H,null,M,P,N,L,A,z);e.calculateNumberOfCombinations()};this.removeBet=function(z,y){e.removeBet("fix",z,y);e.calculateNumberOfCombinations()};this.removeBetFromSystem=n;function n(z,D,A,C,y){e.removeBet(z,D,A);if(!C&&e.getSystems()[z]!=null&&e.getSystems()[z].getMatchSize()==1&&z!=="fix"){var B=j(z);angular.forEach(B,function(E){e.removeBet(z,E.matchCode,E.tipTypeCode);e.addBet("fix",E.matchCode,E.kickOffTime,E.tipTypeCode,E.tipTypeName,E.oddValue,E.specialValue,E.tipTypeGroupId,E.tipTypeGroupName,E.home,E.away,E.cbl,E.lType,E.tmstmp,E.round,E.leagueName,E.ticketPrintType,E.specialBetValueType,E.handicapParam,E.handicapParamDisplay)})}if(y){e.calculateNumberOfCombinations()}l.$broadcast("ticket-match-no-change")}this.hasBet=function(y,A,z){return e.hasBet(y,A,z)};this.addNewSystem=function(D,H,E,F){var z=r("orderObjectBy")(e.getSystems()["fix"].match,"addTmstmp",false);var y=this.getTipsToMoveForIndex(z,H,E);var B=1;var I="S"+B;var C=false;while(!C){if(e.getSystems()[I]!=null){B++;I="S"+B}else{C=true}}angular.forEach(y,function(J){e.removeBet("fix",J.matchCode,J.tipTypeCode);e.addBet(I,J.matchCode,J.kickOffTime,J.tipTypeCode,J.tipTypeName,J.oddValue,J.specialValue,J.tipTypeGroupId,J.tipTypeGroupName,J.home,J.away,J.lType,J.cbl,J.tmstmp,J.round,J.leagueName,J.ticketPrintType,J.specialBetValueType,J.handicapParam,J.handicapParamDisplay)});var A=[];for(var G in F){if(F[G].selected){A.push(G)}}e.addHits(I,A);e.calculateNumberOfCombinations();return e.getSystems()[I]};this.addInSystem=function(B,z,A,D,F){var E=B.tip;angular.forEach(E,function(G){e.removeBet(A,G.matchCode,G.tipTypeCode);e.addBet(z,G.matchCode,G.kickOffTime,G.tipTypeCode,G.tipTypeName,G.oddValue,G.specialValue,G.tipTypeGroupId,G.tipTypeGroupName,B.home,B.away,G.lType,G.cbl,B.addTmstmp,G.round,G.leagueName,G.ticketPrintType,G.specialBetValueType,G.handicapParam,G.handicapParamDisplay)});var y=i(z);if(y!=null){e.addHits(z,y)}var C=i(A);if(C!=null){e.addHits(A,C)}e.calculateNumberOfCombinations()};function i(A){var y=[];if(e.getSystems()[A]==null){return null}var C=e.getSystems()[A].hits;if(C==null||C.length==0){C=[];C.push(1)}for(var z in C){var B=C[z];if(B==0){B=1}if(B>e.getSystems()[A].getMatchSize()){y.push(B-1===0?1:B-1)}else{y.push(B)}}return y}this.getMatch=v;function v(B,A){if(A!=null){var z=0;for(var y in A){if(z===B){return A[y]}z++}}return null}this.clearSystems=function(){angular.forEach(e.getSystems(),function(z,y){if(y!=""){var A=j(y);angular.forEach(A,function(B){e.removeBet(y,B.matchCode,B.tipTypeCode);e.addBet("fix",B.matchCode,B.kickOffTime,B.tipTypeCode,B.tipTypeName,B.oddValue,B.specialValue,B.tipTypeGroupId,B.tipTypeGroupName,B.home,B.away,B.lType,B.cbl,B.tmstmp,B.round,B.leagueName,B.ticketPrintType,B.specialBetValueType,B.handicapParam,B.handicapParamDisplay)})}});e.calculateNumberOfCombinations()};this.restoreSystem=function(y){if(y!=""){var z=j(y);angular.forEach(z,function(A){e.removeBet(y,A.matchCode,A.tipTypeCode);e.addBet("fix",A.matchCode,A.kickOffTime,A.tipTypeCode,A.tipTypeName,A.oddValue,A.specialValue,A.tipTypeGroupId,A.tipTypeGroupName,A.home,A.away,A.lType,A.cbl,A.tmstmp,A.round,A.leagueName,A.ticketPrintType,A.specialBetValueType,A.handicapParam,A.handicapParamDisplay)})}e.calculateNumberOfCombinations()};this.clearTicket=function(){angular.forEach(e.getSystems(),function(y){angular.forEach(y.getMatches(),function(z){angular.forEach(z.getTips(),function(A){n(y.name,z.code,A.tipTypeCode,true,false);l.$broadcast("tip-type-"+z.code+"-"+A.tipTypeCode)})})});e.setPayIn(l.betParams.minPayIn)};function j(y){var z=e.getSystems()[y];var A=[];angular.forEach(z.getMatches(),function(B){angular.forEach(B.getTips(),function(D,C){A.push({matchCode:B.code,kickOffTime:B.kickOffTime,tipTypeCode:C,tipTypeName:D.tipTypeName,oddValue:D.oddValue,specialValue:D.specialValue,tipTypeGroupId:D.tipTypeGroupId,tipTypeGroupName:D.tipTypeGroupName,home:B.home,away:B.away,tmstmp:B.addTmstmp,cbl:B.iMatchCBLDesctription,lType:B.leagueType,round:B.round,leagueName:B.leagueName,ticketPrintType:B.ticketPrintType,handicapParam:D.handicapParam,handicapParamDisplay:D.handicapParamDisplay})})});return A}this.createBankSystem=function(){var z=this.getTipsToMoveToBankSystem();var y="bankSystem";angular.forEach(z,function(A){e.removeBet("fix",A.matchCode,A.tipTypeCode);e.addBet(y,A.matchCode,A.kickOffTime,A.tipTypeCode,A.tipTypeName,A.oddValue,A.specialValue,A.tipTypeGroupId,A.tipTypeGroupName,A.home,A.away,A.leagueType,A.iMatchCBLDesctription,null,A.round,A.leagueName,A.ticketPrintType,A.specialBetValueType,A.handicapParam,A.handicapParamDisplay)});e.addHits(y,[e.getNumberOfMatches()]);e.calculateNumberOfCombinations();console.log(JSON.stringify(e));return e.getSystems()[y]};this.toggleBank=function(y){var B=y.systemName;var A=B==="fix"?"bankSystem":"fix";var z=g(y.code);angular.forEach(z,function(C){e.removeBet(B,C.matchCode,C.tipTypeCode);e.addBet(A,C.matchCode,C.kickOffTime,C.tipTypeCode,C.tipTypeName,C.oddValue,C.specialValue,C.tipTypeGroupId,C.tipTypeGroupName,C.home,C.away,C.lType,C.cbl,null,C.round,C.leagueName,C.ticketPrintType,C.specialBetValueType,C.handicapParam,C.handicapParamDisplay)});e.addHits("bankSystem",[e.getSystems()["bankSystem"].getMatchSize()]);e.calculateNumberOfCombinations()};this.getTipsToMoveToBankSystem=function(){var y=[];angular.forEach(e.getSystems(),function(z){angular.forEach(z.getMatches(),function(A){angular.forEach(A.getTips(),function(C,B){y.push({matchCode:A.code,kickOffTime:A.kickOffTime,tipTypeCode:B,tipTypeName:C.tipTypeName,oddValue:C.oddValue,specialValue:C.specialValue,tipTypeGroupId:C.tipTypeGroupId,tipTypeGroupName:C.tipTypeGroupName,home:A.home,away:A.away,time:A.kickOffTime,sport:A.sport,cbl:A.iMatchCBLDesctription,ltype:A.leagueType,addTmstmp:A.addTmstmp,round:A.round,leagueName:A.leagueName,ticketPrintType:A.ticketPrintType,handicapParam:C.handicapParam,handicapParamDisplay:C.handicapParamDisplay})})})});return y};function g(z){var y=[];angular.forEach(e.getSystems(),function(A){angular.forEach(A.getMatches(),function(B){if(B.code==z){angular.forEach(B.getTips(),function(D,C){y.push({matchCode:B.code,kickOffTime:B.kickOffTime,tipTypeCode:C,tipTypeName:D.tipTypeName,oddValue:D.oddValue,specialValue:D.specialValue,tipTypeGroupId:D.tipTypeGroupId,tipTypeGroupName:D.tipTypeGroupName,home:B.home,away:B.away,time:B.kickOffTime,sport:B.sport,cbl:B.iMatchCBLDesctription,ltype:B.leagueType,addTmstmp:B.addTmstmp,round:B.round,leagueName:B.leagueName,ticketPrintType:B.ticketPrintType,handicapParam:D.handicapParam,handicapParamDisplay:D.handicapParamDisplay})})}})});return y}this.getTipsToMoveForIndex=function(C,D,B){var A=[];var E=D;for(var z=0;z<(B-D+1);z++){var y=v(E,C);E++;angular.forEach(y.tip,function(F,G){if(y.systemName=="fix"){A.push({matchCode:y.code,kickOffTime:y.kickOffTime,tipTypeCode:G,tipTypeName:F.tipTypeName,oddValue:F.oddValue,specialValue:F.specialValue,tipTypeGroupId:F.tipTypeGroupId,tipTypeGroupName:F.tipTypeGroupName,home:y.home,away:y.away,tmstmp:y.addTmstmp,cbl:y.iMatchCBLDesctription,lType:y.leagueType,round:y.round,leagueName:y.leagueName,ticketPrintType:y.ticketPrintType,handicapParam:F.handicapParam,handicapParamDisplay:F.handicapParamDisplay})}})}return A};function m(y){e.setPayIn(y)}this.setPayIn=m;if(p=="d"){this.setAccept=function(y){f=y};this.getAccept=function(){return f};this.getTicketNxLiveChange=function(){return t};this.setTicketNxLiveChange=function(y){t=y};this.setTipTypeArgs=function(y,z){c[y]=z};this.getTipTypeArgs=function(){return c};this.setTipTypeArgsEmpty=function(){c={}};this.deleteTipTypeArgs=function(y){delete c[y]}}this.submitPrePayoutRequest=function(y,z){x.post(h.getIBetServer()+"/ticket/submitPrePayoutRequest.json",{tuuid:y},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:o}).success(function(A){z(A)}).error(function(A){z(A)})}}})();
(function(){angular.module("app.ticket").controller("TicketController",a);a.$inject=["TicketService","$rootScope","ngDialog","$scope","$animate","$timeout","$translate","DESIGN","COMPANY","$analytics","$filter","BetParamsService","$stateParams","UserService","MAX_BETS_SINGLE_MATCH","$sce","TicketsPreviewService","TicketSuggestionsService"];function a(af,D,M,L,I,W,r,ah,aF,ao,aL,m,aC,ab,av,au,T,H){var C=this;C.startIndex=0;C.endIndex=0;C.startSystem=false;C.hasBet=aM;C.removeBet=V;C.webTicket=af.getWebTicket();C.getSystemsSize=aW;C.system=C.webTicket.isSystemTicket();C.setStartIndex=az;C.addRemoveBet=F;C.setEndIndex=J;C.getMatches=aI;C.getSystems=aS;C.getMatchesLengthForSystem=al;C.clearTicket=aZ;C.systemVariants={};C.getSystemVariantsSize=aH;C.saveSystem=aP;C.cancelSystem=aU;C.keepOneSelection=c;C.numOfCombination=P;C.numOfMatches=ae;C.maxOdd=aj;C.minOdd=aJ;C.maxWin=X;C.minWin=aw;C.saveTicket=aO;C.saveTicketInternet=ak;C.saveTicketFreeBet=j;C.clearSystems=E;C.changeWebTicket=ai;C.tab=1;C.bonusValue=aq;C.bonusPercent=aK;C.hasBonus=Z;C.increaseParamm=[];C.setPayIn=a0;C.increase=v;C.decrease=b;C.checkPayIn=Y;C.showSystem=am;C.isHitsChecked=S;C.variantTmp=new Array();C.isOneSelected=A;C.systemtmp=null;C.addNewHits=an;C.isShowSystem=false;C.betParams=D.betParams;C.increaseParam=D.betParams.increasePayin;C.setSelectAll=w;C.matchUp=ax;C.matchDown=aN;C.applyOddChange=i;C.changeTicket=z;C.restoreSystem=aG;C.canDown=l;C.canUp=d;C.showHideElement=G;C.virtual=aC.virtual;C.freeBet=ab.isUseFreeBetAccount();C.setFreeBet=g;C.userFreeBetAccount=ab.getUserFreeBetAccount();C.trustSrc=aD;C.toggleSystemAndRegularView=aV;C.selectedVariant=ar;C.toggleBank=p;C.isSystemButtonVisible=aR;C.removeAllBetsFromMatchByCode=ap;C.isTipLive=o;C.copyTicket=ag;if(ah=="d"){C.systemMessages={banksCannotAdd:false,loginError:false,systemNotSelectedError:false,ticketsuccessful:false,minPayInError:false,maxPayInError:false,ticketPayinError:false,ticketPayinErrorMessage:"",autorizationError:false,autorizationErrorMessage:""};var R=null;var ay=null;C.checkedCopyTicket=false;C.acceptChange=B;C.getTicketNxLiveChange=at;C.removeBetNx=ac;C.removeAllBetsFromMatchByCodeNx=aB}C.addRemoveBetExtended=O;var e=isNaN(parseInt(av))?3:parseInt(av);aa();function aa(){t();C.tab=af.getTab();ad();L.$on("user-free-bet-account-updated",function(a2,a1){C.userFreeBetAccount=ab.getUserFreeBetAccount();ad()});L.$on("tip-type-change",function(a2,a1){if(ah=="d"){af.setAccept(true);af.setTipTypeArgs(a1.matchCode,a1);aA(a1)}else{N(a1)}});L.$on("ticket-changed",function(a2,a1){C.webTicket=af.getWebTicket();C.system=C.webTicket.isSystemTicket();C.tab=af.getTab();if(ah=="d"){C.toggleSystem=!C.system}});r("error_message.wrong_round").then(function(a1){L.wrongRoundMessage=a1});if(ah=="d"&&C.webTicket.getSystems()["bankSystem"]!=null){am(C.webTicket.getSystems()["bankSystem"]);C.system=true;C.toggleSystem=false}if(ah=="d"&&C.webTicket.getSystems()["bankSystem"]==null){C.system=false;C.toggleSystem=true}if(ah=="d"){C.webTicket.payIn=C.betParams.minPayIn;L.$on("$destroy",function(){x();aX()})}}function N(a1){angular.forEach(C.webTicket.getSystems(),function(a2){angular.forEach(a2.getMatches(),function(a3){angular.forEach(a3.getTips(),function(a5){if(a3.code==a1.matchCode&&a5.tipTypeCode==a1.tipTypeCode&&a1.tipTypeValue!=a5.oddValue){var a6=a1.tipTypeValue>a5.oddValue?"change-up":"change-down";aE(a3.code,a3.kickOffTime,a5.tipTypeCode,a5.tipTypeName,a1.tipTypeValue,a5.specialValue,a5.tipTypeGroupId,a5.tipTypeGroupName,a3.home,a3.away,null,null,a3.round,a3.leagueName,a3.ticketPrintType,a5.specialBetValueType,a5.handicapParam,a5.handicapParamDisplay);var a4=angular.element(document.querySelector("#ticket_odd_"+a3.code+"_"+a5.tipTypeCode));I.addClass(a4,a6).then(function(){setTimeout(function(){I.removeClass(a4,a6)})})}})})})}function aA(a1){angular.forEach(C.webTicket.getSystems(),function(a2){angular.forEach(a2.getMatches(),function(a3){angular.forEach(a3.getTips(),function(a5){if(a3.code==a1.matchCode&&a5.tipTypeCode==a1.tipTypeCode&&a1.tipTypeValue!=a5.oddValue){var a7=a1.tipTypeValue>a5.oddValue?"change-up":"change-down";if(af.getAccept()){af.setTicketNxLiveChange(true);aE(a3.code,a3.kickOffTime,a5.tipTypeCode,a5.tipTypeName,a1.tipTypeValue,a5.specialValue,a5.tipTypeGroupId,a5.tipTypeGroupName,a3.home,a3.away,null,null,a3.round,a3.leagueName,a3.ticketPrintType,a5.specialBetValueType,a5.handicapParam,a5.handicapParamDisplay);if(document.querySelector("#ticket_odd_"+a3.code+"_"+a5.tipTypeCode)!=null){var a4=angular.element(document.querySelector("#ticket_odd_"+a3.code+"_"+a5.tipTypeCode));if(a7=="change-up"){I.removeClass(a4,"change-down")}else{I.removeClass(a4,"change-up")}I.addClass(a4,a7)}}else{if(!af.getAccept()&&a1.tipTypeValue<D.betParams.minOddLive){ac(a3.systemName,a3.code,a5.tipTypeCode)}}}if((!af.getAccept()||af.getAccept()==null)&&a3.code==a1.matchCode){if(document.querySelector("#ticket_odd_"+a3.code+"_"+a5.tipTypeCode)!=null){var a4=angular.element(document.querySelector("#ticket_odd_"+a3.code+"_"+a5.tipTypeCode));I.removeClass(a4,"change-up");I.removeClass(a4,"change-down")}if(document.querySelector("#match_ticket_item"+a3.code)!=null){var a6=angular.element(document.querySelector("#match_ticket_item"+a3.code));I.removeClass(a6,"match-change-status")}}if(a1.matchCode==a3.code&&(a1.liveStatus==0||a1.liveStatus==2||a1.lockGame)){if(af.getAccept()){af.setTicketNxLiveChange(true);if(document.querySelector("#match_ticket_item"+a3.code)!=null){var a6=angular.element(document.querySelector("#match_ticket_item"+a3.code));I.addClass(a6,"match-change-status")}}else{ac(a3.systemName,a3.code,a5.tipTypeCode)}}})})})}function ad(){if(C.userFreeBetAccount!=null){C.freeBetCcy=C.userFreeBetAccount.ccy=="din"?"RSD":C.userFreeBetAccount.ccy}}function ai(a1){if(!C.webTicket.isLoading()){af.changeWebTicket(a1);C.tab=a1}}function E(){if(!C.webTicket.isLoading()){af.clearSystems();C.system=false}}function aS(){var a1=[];angular.forEach(C.webTicket.getSystems(),function(a2){a1.push(a2)});return a1}function aH(){return Object.keys(C.systemVariants).length}function aZ(){if(!C.webTicket.isLoading()){s()}}function s(){af.clearTicket();Q()}function al(a1){return C.webTicket.getSystems()[a1].getMatchSize()}function aI(){var a1=[];angular.forEach(C.webTicket.getSystems(),function(a2){angular.forEach(a2.getMatches(),function(a3){a1.push(a3)})});return a1}function w(a1){if(a1!==null){a1.target.select()}}function aW(){return C.webTicket.getSystemsSize()}function aE(a6,a8,a1,bi,a5,bg,bb,a7,bc,ba,a4,a9,be,bh,bf,bd,a3,a2){if(a5>1){af.addBet(a6,a8,a1,bi,a5,bg,bb,a7,bc,ba,a4,a9,be,bh,bf,bd,a3,a2);D.$broadcast("tip-type-"+a6+"-"+a1)}}function V(a1,a3,a2){if(!C.webTicket.isLoading()){af.removeBetFromSystem(a1,a3,a2,false,true);if(C.systemtmp!=null&&C.webTicket.getSystems()[a1]!=null){K(C.webTicket.getSystems()[a1],null)}if(ah=="d"){if(C.webTicket.getSystems()["bankSystem"]==null){C.system=false;C.toggleSystem=true;D.$broadcast("ticket-changed")}}D.$broadcast("tip-type-"+a3+"-"+a2)}}function k(a3,a2){if(a2&&C.webTicket.hasLiveBetValue){var a1=af.getTipTypeArgs();if(a1[a3]!=null){if(Object.keys(af.getTipTypeArgs()).length==1){af.setAccept(false);af.setTicketNxLiveChange(false)}af.deleteTipTypeArgs(a3)}}}function ac(a1,a4,a2,a3){k(a4,a3);V(a1,a4,a2)}function aT(a1,a5){var a2=C.webTicket.getSystems()[a1].getMatches()[a5];for(var a3 in a2.getTips()){var a4=a2.getTips()[a3].tipTypeCode;if(C.webTicket.isTipLive(a4)){af.removeBetFromSystem(a1,a5,a4,false,true);if(ah=="d"){if(C.webTicket.getSystems()["bankSystem"]==null){C.system=false;C.toggleSystem=true;D.$broadcast("ticket-changed")}}D.$broadcast("tip-type-"+a5+"-"+a4)}}}function ap(a1,a5){var a2=C.webTicket.getSystems()[a1].getMatches()[a5];for(var a3 in a2.getTips()){var a4=a2.getTips()[a3].tipTypeCode;af.removeBetFromSystem(a1,a5,a4,false,true);if(ah=="d"){if(C.webTicket.getSystems()["bankSystem"]==null){C.system=false;C.toggleSystem=true;D.$broadcast("ticket-changed")}}D.$broadcast("tip-type-"+a5+"-"+a4)}}function aB(a1,a3,a2){k(a3,a2);ap(a1,a3)}function u(a4){var a3=C.webTicket.getSystems();if(a3!=null){var a2=0;for(var a1 in a3){if(a2==a4){return a3[a1]}a2++}}return null}function aG(a1){if(!C.webTicket.isLoading()){af.restoreSystem(a1);C.isShowSystem=false;C.variantTmp={};C.systemtmp=null}}function az(a1){if(!C.webTicket.isLoading()){C.startIndex=a1;C.startSystem=true}}function J(a2){if(!C.webTicket.isLoading()){C.endIndex=a2;C.startSystem=false;C.systemVariants={};var a4=C.webTicket.getSystems()["fix"].match;a4=aL("orderObjectBy")(a4,"addTmstmp",false);var a5=C.startIndex;for(var a3=0;a3<(C.endIndex-C.startIndex+1);a3++){var a1=af.getMatch(a5,a4);if(a1!=null&&a1.systemName=="fix"){C.systemVariants[a3+1]={selected:false}}a5++}aP()}}function aP(){if(!C.webTicket.isLoading()){var a1=af.addNewSystem(null,C.startIndex,C.endIndex,C.systemVariants);am(a1);C.systemVariants={};C.startIndex=0;C.endIndex=0}}function aU(){C.systemVariants=0}function O(a6,a8,a1,bj,a5,bh,bc,a7,bd,bb,a4,ba,bf,bi,bg,be,a3,a2){var a9;if(ah=="d"){a9=aL("date")(a8,"dd.MM. HH:mm");k(a6,true)}F(a6,a1,bj,a5,bh,bc,a7,bd,bb,a4,ba,bf,bi,bg,be,a3,a2,a9)}function F(a7,a1,bj,a5,bh,bc,a9,bd,bb,a4,ba,bf,bi,bg,be,a3,a2,a8){if(!C.webTicket.isLoading()){for(var a6 in C.webTicket.getSystems()){if(aM(a6,a7,a1)){V(a6,a7,a1);return}else{if(C.webTicket.getNumberOfTipsForMatch(a6,a7)>=1&&C.webTicket.isTipLive(a1)){aT(a6,a7)}else{if(C.webTicket.getNumberOfTipsForMatch(a6,a7)>=e){return}}}}if(C.webTicket.isTipLive(a1)){}aE(a7,a8,a1,bj,a5,bh,bc,a9,bd,bb,a4,ba,bf,bi,bg,be,a3,a2);if(C.webTicket.getNumberOfMatches()>C.betParams.maxNumberOfMatches){V(a6,a7,a1);r("ticket.maxNumberOfMatches",{maxNumberOfMatches:C.betParams.maxNumberOfMatches}).then(function(bk){L.message=bk});L.error=true;M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L})}}}function aM(a1,a4,a3){if(a1==null){for(var a2 in C.webTicket.getSystems()){if(aM(a2,a4,a3)){return true}}return false}return af.hasBet(a1,a4,a3)}function c(a1){var a3=0;for(var a2 in C.systemVariants){if(C.systemVariants[a2].selected){a3++}}return a3<2&&a1}function P(){return C.webTicket.getNumberOfCombinations()}function ae(){return C.webTicket.getNumberOfMatches()}function aj(){if(ah=="l"){return C.webTicket.getMaxOdd()/C.webTicket.getNumberOfCombinations()}else{return C.webTicket.getMaxOdd()}}function aJ(){if(ah=="l"){return C.webTicket.getMinOdd()/C.webTicket.getNumberOfCombinations()}else{return C.webTicket.getMinOdd()}}function X(){return C.webTicket.correctWinValue(true)}function aw(){return C.webTicket.correctWinValue(false)}function aq(){return C.webTicket.calculateBonus()}function aK(){return C.webTicket.getBonusPercent()}function Z(){return C.webTicket.hasBonusOnTicket()}function t(){if(C.increaseParam!=null){var a2=C.increaseParam.split(",");for(var a1=0;a1<a2.length;a1++){C.increaseParamm[a1]=parseInt(a2[a1])}}}function v(){if(C.increaseParamm!=null&&C.increaseParamm.length>0&&!C.webTicket.isLoading()){var a2=C.webTicket.getPayIn();for(var a1=0;a1<C.increaseParamm.length;a1++){if(C.increaseParamm[a1]==a2){if(a1==C.increaseParamm.length-1){C.webTicket.setPayIn(C.increaseParamm[C.increaseParamm.length-1])}else{C.webTicket.setPayIn(C.increaseParamm[a1+1])}break}if(a2>C.increaseParamm[C.increaseParamm.length-1]){C.webTicket.setPayIn(C.increaseParamm[C.increaseParamm.length-1]);break}if(a2<C.increaseParamm[a1]){C.webTicket.setPayIn(C.increaseParamm[a1]);break}}}}function b(){if(C.increaseParamm!=null&&C.increaseParamm.length>0&&!C.webTicket.isLoading()){var a2=C.webTicket.getPayIn();for(var a1=C.increaseParamm.length-1;a1>=0;a1--){if(C.increaseParamm[a1]==a2){if(a1==0){C.webTicket.setPayIn(C.increaseParamm[0])}else{C.webTicket.setPayIn(C.increaseParamm[a1-1])}break}if(a2>C.increaseParamm[C.increaseParamm.length-1]){C.webTicket.setPayIn(C.increaseParamm[C.increaseParamm.length-1]);break}if(a2>C.increaseParamm[a1]){C.webTicket.setPayIn(C.increaseParamm[a1]);break}}}}function Y(){C.webTicket.getPayIn()}function a0(){C.webTicket.setPay()}function am(a3){var a2=$(".system-content");if(C.systemtmp!=null&&C.systemtmp!={}){if(C.systemtmp.getName()!=a3.getName()){C.isShowSystem=true}else{C.isShowSystem=!C.isShowSystem}}else{C.isShowSystem=!C.isShowSystem}C.variantTmp=new Array();C.systemtmp=a3;for(var a1=0;a1<a3.getMatchSize();a1++){if(S(a1)){C.variantTmp[a1]={selected:true}}else{C.variantTmp[a1]={selected:false}}console.log(C.variantTmp[a1].selected)}}function S(a2){var a1=C.systemtmp.getHits();for(var a3=0;a3<a1.length;a3++){if(a1[a3]==a2+1){return true}}return false}function A(a1){var a3=0;for(var a2 in C.variantTmp){if(C.variantTmp[a2].selected){a3++}}return a3<2&&a1}function an(){if(!C.webTicket.isLoading()){var a1=[];var a4=0;for(var a2=0;a2<C.variantTmp.length;a2++){if(C.variantTmp[a2].selected==true){a1[a4]=a2+1;a4++}}C.webTicket.addHits(C.systemtmp.getName(),a1);var a3=$(".system-content");if(C.isShowSystem){C.isShowSystem=false}C.webTicket.calculateNumberOfCombinations()}}function ak(){C.freeBet=false;aO()}function j(){C.freeBet=true;aO()}function aO(){C.webTicket.setLoading(true);C.ccyValue=C.betParams.ccy=="din"?"RSD":C.betParams.ccy;var a2=h();if(!a2.res){var a1="";if(a2.message!=null){a1=a2.message.join(", ")}r("ticket.systemCheckError",{systems:a1,pl:""}).then(function(a4){L.message=a4});L.error=true;M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L});C.webTicket.setLoading(false);return}if(!aQ()){C.webTicket.setLoading(false);return}if(C.webTicket.payIn==null){r("ticket.enter_PayIn_message").then(function(a4){L.message=a4});L.error=true;M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L,preCloseCallback:function(a4){C.webTicket.setLoading(false)}});return}else{if(C.webTicket.payIn>C.betParams.maxPayIn){if(ah!="d"){r("ticket.max_PayIn_message",{payIn:C.betParams.maxPayIn,ccy:C.ccyValue}).then(function(a4){L.message=a4});L.error=true;M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L,preCloseCallback:function(a4){C.webTicket.setLoading(false)}})}else{x();n();C.systemMessages.maxPayInError=true;C.webTicket.setLoading(false);R=W(function(){C.systemMessages.maxPayInError=false},10000)}return}else{if(C.webTicket.payIn<C.betParams.minPayIn){if(ah=="d"){x();n();C.systemMessages.minPayInError=true;C.webTicket.setLoading(false);R=W(function(){C.systemMessages.minPayInError=false},10000);return}else{r("ticket.min_PayIn_message",{payIn:C.betParams.minPayIn,ccy:C.ccyValue}).then(function(a4){L.message=a4});L.error=true;M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L,preCloseCallback:function(a4){C.webTicket.setLoading(false)}});return}}else{if(C.webTicket.getNumberOfCombinations()>C.betParams.maxNumberOfCombination){r("ticket.maxNumberOfCombination",{maxNumberOfCombination:C.betParams.maxNumberOfCombination}).then(function(a4){L.message=a4});L.error=true;M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L,preCloseCallback:function(a4){C.webTicket.setLoading(false)}})}else{if(ah!="d"){if(C.webTicket.hasLiveBet()){if(D.user=="anonymousUser"){if(ah!="x"){r("regular.dialog.login",{company:aF}).then(function(a4){L.message=a4})}if(ah=="x"){r("bx_regular.dialog.login",{company:aF}).then(function(a4){L.message=a4})}L.error=true;M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L,preCloseCallback:function(a4){C.webTicket.setLoading(false)}})}else{U()}return}M.openConfirm({template:"views/"+ah+"Design/dialog/ticketPreviewDialogView.html",scope:L,className:"ngdialog-theme-default ticket-confirmation-dialog"}).then(function(a4){if(a4=="ok"){U()}else{if(a4=="print"){window.print();C.webTicket.setLoading(false)}}console.log("Modal promise resolved. Value: ",a4)},function(a4){console.log("Modal promise rejected. Reason: ",a4);C.webTicket.setLoading(false)})}else{if(D.user=="anonymousUser"){x();n();C.systemMessages.loginError=true;C.webTicket.setLoading(false);R=W(function(){C.systemMessages.loginError=false},10000);return}else{if(C.system==false){U()}else{var a3=C.webTicket.getSystems()["bankSystem"];if(a3!=null){if(q(a3)){U()}else{x();n();C.systemMessages.systemNotSelectedError=true;C.webTicket.setLoading(false);R=W(function(){C.systemMessages.systemNotSelectedError=false},10000);return}}}}return}}}}}}function h(){var a2={message:new Array(),res:true};for(var a1 in C.webTicket.getSystems()){var a3=C.webTicket.getSystems()[a1];if(a3.hits==null||a3.hits.length==0){a2.res=false;a2.message.push(a3.name)}}return a2}function ax(a3,a4){var a2=u(a3-1);if(a2!=null){var a1=u(a3);af.addInSystem(a4,a2.name,a1.name,a1.hits,a2.hits);K(a2,a1)}}function aN(a3,a4){var a2=u(a3+1);if(a2!=null){var a1=u(a3);af.addInSystem(a4,a2.name,a1.name,a1.hits,a2.hits);K(a2,a1)}}function K(a2,a1){if(C.systemtmp!=null){var a4=null;if(a2!=null&&C.systemtmp.name==a2.name){a4=a2}else{if(a1!=null&&C.systemtmp.name==a1.name){a4=a1}}if(a4==null){return null}C.variantTmp=new Array();C.systemtmp=a4;for(var a3=0;a3<a4.getMatchSize();a3++){if(S(a3)){C.variantTmp[a3]={selected:true}}else{C.variantTmp[a3]={selected:false}}}}}function U(){C.webTicket.setLoading(true);C.userFreeBetAccount=ab.getUserFreeBetAccount();ad();if(D.showFreeBet=="false"||C.userFreeBetAccount==null||C.userFreeBetAccount.balance==null||C.userFreeBetAccount.balance<=0){C.freeBet=false;ab.setUseFreeBetAccount(C.freeBet)}f(C.freeBet)}function g(a1){ab.setUseFreeBetAccount(a1);C.freeBet=a1}function f(a1){af.saveTicket(a1,function(a4){L.authorization=false;L.error=false;L.data=a4;C.webTicket.clearMessages();if(String(a4.payInResponse).toUpperCase()!="ACCEPTED"){if(ah!="d"){L.message=a4.message;if(String(a4.payInResponse).toUpperCase()=="AUTHORIZATION_REQUIRED"){L.authorization=true;r("ticket.authorization").then(function(a7){L.message=a7});s();ao.eventTrack("ticketForAuthorization",{category:"PayIn"});D.$broadcast("poll-user-account")}else{L.error=true;if(a4.transactionErrorMessages!=null){for(var a6 in a4.transactionErrorMessages){for(var a5 in a4.transactionErrorMessages[a6]){C.webTicket.addMessage(a6,a4.transactionErrorMessages[a6][a5])}}C.webTicket.setLoading(false);return}}M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L})}else{if(String(a4.payInResponse).toUpperCase()=="AUTHORIZATION_REQUIRED"){x();n();if(a4.messageParams!=null){for(var a3=0;a3<a4.messageParams.length;a3++){if(a4.messageParams[a3]=="timeout"){C.systemMessages.autorizationError=true;C.systemMessages.autorizationErrorMessage=a4.message;R=W(function(){C.systemMessages.autorizationError=false;C.systemMessages.autorizationErrorMessage=""},10000);break}}}else{C.systemMessages.ticketPayinError=true;C.systemMessages.ticketPayinErrorMessage=a4.message;R=W(function(){C.systemMessages.ticketPayinError=false;C.systemMessages.ticketPayinErrorMessage=""},10000)}C.webTicket.setLoading(false);D.$broadcast("poll-user-account");return}else{x();n();C.systemMessages.ticketPayinError=true;if(a4.transactionErrorMessages!=null){C.systemMessages.ticketPayinErrorMessage=a4.transactionErrorMessages}else{C.systemMessages.ticketPayinErrorMessage=a4.message}R=W(function(){C.systemMessages.ticketPayinError=false;C.systemMessages.ticketPayinErrorMessage=""},10000);C.webTicket.setLoading(false);D.$broadcast("poll-user-account");return}}}else{s();if(ah=="d"){C.system=false;C.toggleSystem=true}if(a4.expressTicket){L.values=a4.message.split("#");r("xpress_ticket.confirm_message",{company:aF}).then(function(a7){L.confirmMessage=a7});M.open({template:"views/"+ah+"Design/dialog/expressDialogView.html",scope:L});ao.eventTrack("expressTicket",{category:"PayIn"})}else{if(ah!="d"){L.message=a4.message;var a2=M.open({template:"views/"+ah+"Design/dialog/regularDialogView.html",scope:L});setTimeout(function(){a2.close()},3000);ao.eventTrack("regularTicket",{category:"PayIn"});D.$broadcast("poll-user-account")}else{x();n();C.systemMessages.ticketsuccessful=true;R=W(function(){C.systemMessages.ticketsuccessful=false},10000);D.$broadcast("poll-user-account");C.checkedCopyTicket=true;ay=W(function(){C.checkedCopyTicket=false},30000)}}}C.webTicket.setLoading(false)})}function i(a4,a3,a1,a2){D.$broadcast("tip-type-change",{matchCode:a4,tipTypeCode:a3,tipTypeValue:parseFloat(a1)});if(a2!=null){C.webTicket.removeMessageByIndex(a4,a2)}}function z(a1){if(!C.webTicket.isLoading()){C.system=a1;if(!a1){Q()}}}function l(a1){var a2=u(a1+1);if(a2===null){return false}return true}function d(a1){var a2=u(a1-1);if(a2===null){return false}return true}function G(a3,a1){var a2=document.getElementById("match-up-down-"+a3);if(a2!=null){if(a1){a2.style.display="block"}else{a2.style.display="none"}}}function Q(){C.systemVariants={};C.systemtmp=null;C.variantTmp={};C.startIndex=0;C.endIndex=0;C.startSystem=false}function aQ(){var a1=m.getRound();var a2=false;C.webTicket.clearMessages();if(a1!=null&&a1.roundNumber){angular.forEach(C.webTicket.getSystems(),function(a3){angular.forEach(a3.getMatches(),function(a4){if(a4.round!=null){if(a1.roundNumber!=a4.round){var a5={message:L.wrongRoundMessage,errorCode:"delete"};C.webTicket.addMessage(a4.code,a5);a2=true}}})})}if(a2){return false}return true}function y(a2){C.system=a2;if(!a2){Q()}else{var a1=C.webTicket.getSystems();if(C.webTicket.getSystems()["fix"]!=null){if(al("fix")>1){aY()}}if(C.webTicket.getSystems()["bankSystem"]!=null){am(C.webTicket.getSystems()["bankSystem"])}}}function aV(){y(C.toggleSystem);if(!C.toggleSystem){E()}C.toggleSystem=!C.toggleSystem}function aY(){var a1=af.createBankSystem();am(a1);C.systemVariants={};console.log(a1)}function ar(a1){for(var a2=0;a2<C.variantTmp.length;a2++){if(a2==a1){C.variantTmp[a2].selected=true}else{C.variantTmp[a2].selected=false}}}function p(a1){var a2=al("bankSystem");var a3=a1.systemName;if(a2<=2&&a3==="bankSystem"){x();n();C.systemMessages.banksCannotAdd=true;R=W(function(){C.systemMessages.banksCannotAdd=false},10000);return}else{af.toggleBank(a1);am(C.webTicket.getSystems()["bankSystem"])}}function q(a3){var a2=false;for(var a1=0;a1<a3.getMatchSize()-1;a1++){if(S(a1)){a2=true}}return a2}function aR(){if(C.system==false&&al("fix")>1){return true}else{if(C.system==true&&C.webTicket.getSystems()["bankSystem"]){return true}else{return false}}}function aD(a1){return au.trustAsResourceUrl(a1)}function o(a1){return a1>=1000&&a1<50000}function n(){for(var a1 in C.systemMessages){if(a1!="autorizationErrorMessage"&&a1!="ticketPayinErrorMessage"){C.systemMessages[a1]=false}else{if(a1=="autorizationErrorMessage"||a1=="ticketPayinErrorMessage"){C.systemMessages[a1]=""}}}}function x(){W.cancel(R);R=null}function ag(){x();n();aX();C.checkedCopyTicket=false;T.getTicketByUuid(L.data.ticket.uuid,function(a1){H.copyTicket(a1.ITicket,false)})}function aX(){W.cancel(ay);ay=null}function B(){af.setAccept(false);C.webTicket.autoAcceptOdds=true;af.setTicketNxLiveChange(false);var a1=af.getTipTypeArgs();if(a1!=null&&Object.keys(a1).length>0){for(var a2 in a1){aA(a1[a2])}}af.setTipTypeArgsEmpty()}function at(){if(af.getTicketNxLiveChange()==null||!C.webTicket.hasLiveBetValue){return false}return af.getTicketNxLiveChange()}}})();
(function(){angular.module("app.ticket").controller("TicketInfoController",a);a.$inject=["TicketService","$scope","$location","$anchorScroll","$rootScope"];function a(f,l,e,g,k){var b=this;b.numOfMatches=i;b.maxOdd=j;b.goToTop=h;var c=f.getWebTicket();d();function d(){l.$on("ticket-changed",function(n,m){c=f.getWebTicket()})}function i(){return c.getNumberOfMatches()}function j(){return c.getMaxOdd()}function h(m){e.hash("top");g();if(m==true){k.help21=true}else{k.help21=false}}}})();
(function(){angular.module("ticket.ticketModel",[])})();
(function(){angular.module("ticket.ticketModel").factory("WebTicket",a);a.$inject=["System","$rootScope","DESIGN"];function a(c,h,j){function b(){return h.betParams}function f(m){this.payIn=m;this.systemTicket=false;this.bettingCombinations={};this.maxOdd=0;this.minOdd=0;this.noOfCombinations=0;this.system={};this.bonusPercent=0;this.bonusValue=0;this.hasBonus=false;this.hasLiveBetValue=false;this.minWinWithBonus=0;this.maxWinWithBonus=0;this.loading=false}f.prototype.isLoading=function(){return this.loading};f.prototype.setLoading=function(m){this.loading=m};function e(m){return m>=1000&&m<50000}f.prototype.getNumberOfCombinations=function(){return this.noOfCombinations};f.prototype.calculateNumberOfCombinations=function(){var n=new l();var m=n.max(this.system);this.minOdd=m.minOdd;this.maxOdd=m.maxOdd;this.noOfCombinations=m.numOfCombination;i.call(this);return};f.prototype.getMinWin=function(){return this.noOfCombinations==0?0:Math.round((this.payIn/this.noOfCombinations*this.minOdd)*100)/100};f.prototype.getMaxWin=function(){return this.noOfCombinations==0?0:Math.round((this.payIn/this.noOfCombinations*this.maxOdd)*100)/100};f.prototype.getMinOdd=function(){return this.minOdd};f.prototype.getMaxOdd=function(){i.call(this);return this.maxOdd};function k(){if(this.system!=null){if(Object.keys(this.system).length>1){this.systemTicket=true}else{this.systemTicket=false}}}f.prototype.addHits=function(n,m){var o=this.system[n];if(o!=null){o.addHits(m)}i.call(this);g.call(this)};f.prototype.getNumberOfMatches=function(){var n=0;for(var m in this.system){n+=this.system[m].getMatchSize()}return n};f.prototype.getNumberOfMatchesForBonus=function(p){var s=0;for(var o in this.system){for(var n in this.system[o].match){var r=false;for(var q in this.system[o].match[n].tip){if(this.system[o].match[n].tip[q].oddValue>=p){r=true}}if(r){s+=1}}}return s};f.prototype.updateLiveTipOnTicket=function(n){if(!this.hasLiveBetValue||this.loading){return}var t={};for(var m in n.bets){for(var r in n.bets[m].picks){t[n.bets[m].picks[r].liveBetPickCode]=n.bets[m].picks[r]}}for(var s in this.system){var q=this.system[s].getMatches()[n.matchCode];if(q!=null){for(var o in q.getTips()){var u=q.getTips()[o];var p=t[o];if(p!=null&&p.oddValue!=u.oddValue){if(j!="d"){h.$broadcast("tip-type-change",{matchCode:n.matchCode,tipTypeCode:o,tipTypeValue:p.oddValue})}else{h.$broadcast("tip-type-change",{matchCode:n.matchCode,tipTypeCode:o,tipTypeValue:p.oddValue,liveStatus:n.liveStatus})}}else{if(j=="d"&&p==null){h.$broadcast("tip-type-change",{matchCode:n.matchCode,lockGame:true})}else{if(j=="d"&&(n.liveStatus==0||n.liveStatus==2)){h.$broadcast("tip-type-change",{matchCode:n.matchCode,liveStatus:n.liveStatus})}}}}}}};f.prototype.isSystemTicket=function(){return this.systemTicket};f.prototype.setPayIn=function(m){this.payIn=m;i.call(this)};f.prototype.getPayIn=function(){return this.payIn};f.prototype.setPay=function(){this.payIn=""};f.prototype.getSystems=function(){return this.system};f.prototype.getSystemsSize=function(){return Object.keys(this.system).length};f.prototype.addBet=function(s,t,u,m,G,r,E,z,v,A,y,q,x,w,C,F,D,B,p,n){var o=this.system[s];if(o==null){o=new c(s)}o.addBet(t,u,m,G,r,E,z,v,A,y,q,x,w,C,F,D,B,p,n);this.system[s]=o;k.call(this);i.call(this);g.call(this);h.$broadcast("ticket-match-no-change")};f.prototype.removeBet=function(m,p,n){var o=this.system[m];if(o==null){return}o.removeBet(p,n);if(o.getMatchSize()==0){this.system[m]=null;delete this.system[m];this.bettingCombinations={};this.systemTicket=false;this.bettingCombinations={};this.maxOdd=0;this.minOdd=0;this.noOfCombinations=0}else{this.system[m]=o}k.call(this);i.call(this);g.call(this)};f.prototype.removeAllBetsForMatch=function(m,p){var o=this.system[m];if(o==null){return}var n=o.getMatches()[p];if(n==null){return}n.clearTips()};f.prototype.getJsonWebTicket=function(){var n=[];for(var m in this.system){n.push(this.system[m].getSystemForJson())}return JSON.stringify({payin:this.payIn,systems:n})};f.prototype.getWebTicketForStorage=function(){return JSON.stringify(this)};f.prototype.hasBet=function(m,p,n){var o=this.system[m];if(o==null){return false}return o.hasBet(p,n)};f.prototype.calculateBonus=function(){return this.bonusValue};f.prototype.getMaxWinWithBonus=function(){this.calculateBonus();return this.getMaxWin()+this.bonusValue};f.prototype.getMinWinWithBonus=function(){this.calculateBonus();return this.getMinWin()+this.bonusValue};function i(){var n=0;var o=0;var p=b();if(this.noOfCombinations==1){if(!this.hasLiveBetValue||(this.hasLiveBetValue&&p.betLiveHasBonus)){var m=this.getNumberOfMatchesForBonus(p.minOddBonus);if(m>0){if(m<10){o=p["bonus0"+m]}else{o=p["bonus"+m]}if(o!=null){n=this.getMaxWin()*o/100}else{n=0;o=0}}}}this.bonusValue=n;this.bonusPercent=o;if(this.getMaxWin()+n>b().maxPayOut){this.bonusValue=(b().maxPayOut-this.getMaxWin()<0)?0:b().maxPayOut-this.getMaxWin()}}f.prototype.getBonusPercent=function(){return this.bonusPercent};f.prototype.hasBonusOnTicket=function(){this.hasBonus=(this.bonusValue>0)?true:false;return this.hasBonus};f.prototype.correctWinValue=function(n){if(j!="d"){var m=this.getMaxWin();if(!n){m=this.getMinWin()}m=m+this.bonusValue;var o=b();if(m<o.maxPayOut){return m}else{return o.maxPayOut}}else{if(this.hasLiveBetValue){var m=this.getMaxWin();if(!n){m=this.getMinWin()}m=m+this.bonusValue;var o=b();if(m<o.maxPayOutLive){return m}else{return o.maxPayOutLive}}else{var m=this.getMaxWin();if(!n){m=this.getMinWin()}m=m+this.bonusValue;var o=b();if(m<o.maxPayOut){return m}else{return o.maxPayOut}}}};f.prototype.correctOdd=function(p,n){var o=this.getMaxWin();if(n){o=this.getMinWin()}var m=b().maxPayOut;if((o/this.noOfCombinations)>=m){return m/(b().minPayIn)}return p};f.prototype.hasLiveBet=function(){return this.hasLiveBetValue};function g(){for(var n in this.system){var p=this.system[n];for(var r in p.getMatches()){var o=p.getMatches()[r];for(var m in o.getTips()){var q=o.getTips()[m];if(e(q.tipTypeCode)){this.hasLiveBetValue=true;return}}}}this.hasLiveBetValue=false}f.prototype.addMessage=function(p,o){for(var m in this.system){var n=this.system[m].getMatches()[p];if(n!=null){n.addMessage(o)}}};f.prototype.removeMessageByIndex=function(p,o){for(var m in this.system){var n=this.system[m].getMatches()[p];if(n!=null){n.removeMessageByIndex(o)}}};f.prototype.clearMessages=function(){for(var m in this.system){for(var n in this.system[m].getMatches()){this.system[m].getMatches()[n].clearMessages()}}};f.prototype.isTipLive=function(m){return e(m)};f.prototype.getNumberOfTipsForMatch=function(m,p){var o=this.system[m];if(o==null){return 0}var n=o.getMatches()[p];if(n==null){return 0}return n.getTipSize()};var d=function(){this.numOfCombination=0;this.maxOdd=0;this.minOdd=0};d.prototype.iteratorConstructior=function(m){this.numOfCombination=m;this.maxOdd=m;this.minOdd=m};d.prototype.matchConstructior=function(m){this.numOfCombination=m.getTipSize();this.minOdd=Number.MAX_SAFE_INTEGER;for(var n in m.getTips()){var p=m.getTips()[n];var o=p.oddValue;this.maxOdd+=o;this.minOdd=Math.min(this.minOdd,o)}};d.prototype.applySystemHit=function(m){this.numOfCombination+=m.numOfCombination;this.maxOdd+=m.maxOdd;if(this.minOdd>1&&m.minOdd<this.minOdd||this.minOdd<=1){this.minOdd=m.minOdd}};d.prototype.applySystem=function(m){this.numOfCombination*=m.numOfCombination;this.maxOdd*=m.maxOdd;this.minOdd*=m.minOdd};d.prototype.toString=function(){return"CResult{numOfCombination="+this.numOfCombination+", maxOdd="+this.maxOdd+", minOdd="+this.minOdd+"}"};var l=function(){};l.prototype.printCoefs=function(m){for(var n=0;n<m.length;n++){var o=m[n];if(o!=null){console.log("coef="+n+" "+o.toString())}}};l.prototype.sumOfCombMult2=function(n,p){console.log("HITS="+p);var s=new Array();for(var r in n){if(n.hasOwnProperty(r)){s.push(n[r])}}var t=s.length;if(t<p){console.error("size of matches cannot be smaller than hits")}var m=[];m[0]=new d();m[0].matchConstructior(s[0]);var o=0;for(var r=1;r<s.length;r++){o=Math.max(r-p,0);m[r]=new d();m[r].matchConstructior(s[r]);var w=m[r].maxOdd;var v=m[r].minOdd;var u=m[r].numOfCombination;m[r].maxOdd=w+m[r-1].maxOdd;m[r].numOfCombination=u+m[r-1].numOfCombination;m[r].minOdd=Math.min(v,m[r-1].minOdd);for(var q=r-1;q>o;q--){m[q].maxOdd=w*m[q].maxOdd+m[q-1].maxOdd;m[q].numOfCombination=u*m[q].numOfCombination+m[q-1].numOfCombination;m[q].minOdd=Math.min(v*m[q].minOdd,m[q-1].minOdd)}if(o==0){m[0].maxOdd=m[0].maxOdd*w;m[0].numOfCombination=m[0].numOfCombination*u;m[0].minOdd=m[0].minOdd*v}}return m[s.length-p]};l.prototype.max=function(p){var r=new d();r.iteratorConstructior(1);for(var m in p){var o=new d();o.iteratorConstructior(0);for(var n in p[m].getHits()){var q=this.sumOfCombMult2(p[m].getMatches(),p[m].getHits()[n]);o.applySystemHit(q)}r.applySystem(o)}return r};f.build=function(p){if(p==null){return null}var q=new f(p.payIn);for(var m in p.system){for(var o in p.system[m].match){for(var n in p.system[m].match[o].tip){q.addBet(m,p.system[m].match[o].code,p.system[m].match[o].kickOffTime,p.system[m].match[o].tip[n].tipTypeCode,p.system[m].match[o].tip[n].tipTypeName,p.system[m].match[o].tip[n].oddValue,p.system[m].match[o].tip[n].specialValue,p.system[m].match[o].tip[n].tipTypeGroupId,p.system[m].match[o].tip[n].tipTypeGroupName,p.system[m].match[o].home,p.system[m].match[o].away,p.system[m].match[o].leagueType,p.system[m].match[o].iMatchCBLDesctription,p.system[m].match[o].addTmstmp,p.system[m].match[o].round,p.system[m].match[o].leagueName,p.system[m].match[o].ticketPrintType,p.system[m].match[o].tip[n].specialBetValueType,p.system[m].match[o].tip[n].handicapParam,p.system[m].match[o].tip[n].handicapParamDisplay)}}q.addHits(m,p.system[m].hits)}return q};return f}})();
(function(){angular.module("ticket.ticketModel").factory("System",a);a.$inject=["Match","$filter"];function a(d,c){function b(e){this.match={};this.name=e;this.hits=[]}b.prototype.addBet=function(k,n,e,z,i,x,r,m,t,q,h,p,o,v,y,w,u,g,f){var j=this.match[k];if(j==null){var l=0;var s=Object.keys(this.match).length;if(this.match!=null&&s>0){l=s}if(o==null){o=new Date().getTime()+l}j=new d(k,n,t,q,this.name,o,h,p,v,y,w)}j.addTip(e,z,i,x,r,m,k,u,g,f);this.match[k]=j;if(this.name=="fix"){this.hits[0]=Object.keys(this.match).length}};b.prototype.addHits=function(e){this.hits=e};b.prototype.getHits=function(){return this.hits};b.prototype.getName=function(){return this.name};b.prototype.removeBet=function(i,g){var e=this.match[i];if(e==null){return}e.removeTip(g);var h=false;if(e.getTipSize()==0){this.match[i]=null;delete this.match[i];h=true}else{this.match[i]=e}if(this.name=="fix"){this.hits[0]=Object.keys(this.match).length}else{if(h){if(this.hits.length==1&&this.hits[0]==1){return}for(var f in this.hits){if(this.hits[f]==0){this.hits[f]=1}if(this.hits[f]>Object.keys(this.match).length){this.hits[f]=this.hits[f]-1}}if(this.hits.length>Object.keys(this.match).length||this.hits[0]<1){this.hits.shift()}}}};b.prototype.getMatchSize=function(){return Object.keys(this.match).length};b.prototype.getTipSize=function(){var f=0;for(var e in this.match){f+=this.match[e].getTipSize()}return f};b.prototype.getAllTipsAsArray=function(){var e=[];for(var g in this.match){for(var f in this.match[g].getTips()){e.push(this.match[g].getTips()[f])}}return e};b.prototype.getMatches=function(){return this.match};b.prototype.getSystemForJson=function(){var f=[];var e=c("orderObjectBy")(this.match,"addTmstmp",false);for(var g in e){f.push(e[g].getMatchForJson())}return{matches:f,hits:this.hits}};b.prototype.hasBet=function(g,f){var e=this.match[g];if(e==null){return false}return e.hasTip(f)};b.prototype.hasMatch=function(e){return this.match[e]!=null};b.build=function(){return new b()};return b}})();
(function(){angular.module("ticket.ticketModel").factory("Match",a);a.$inject=["Tip"];function a(b){function c(e,h,k,g,m,d,l,i,n,f,j){this.code=e;this.kickOffTime=h;this.home=k;this.away=g;this.systemName=m;this.addTmstmp=d;this.leagueType=l;this.iMatchCBLDesctription=i;this.tip={};this.messages=[];this.round=n;this.leagueName=f;this.ticketPrintType=j}c.prototype.addTip=function(l,k,i,e,d,j,h,g,m,f){this.tip[l]=new b(l,k,i,e,d,j,h,g,m,f)};c.prototype.removeMessageByIndex=function(d){this.messages.splice(d,1)};c.prototype.addMessage=function(d){this.messages.push(d)};c.prototype.clearMessages=function(){this.messages=[]};c.prototype.removeTip=function(d){this.tip[d]=null;delete this.tip[d]};c.prototype.getTipSize=function(){return Object.keys(this.tip).length};c.prototype.getTips=function(){return this.tip};c.prototype.getMatchForJson=function(){var d=[];for(var e in this.tip){d.push(this.tip[e].getTipForJson())}return{code:this.code,tipTypes:d}};c.prototype.hasTip=function(d){return this.tip[d]!=null};c.build=function(d){return new c(d.code)};return c}})();
(function(){angular.module("ticket.ticketModel").factory("Tip",a);a.$inject=[];function a(){function b(k,j,h,d,c,i,g,f,l,e){this.tipTypeCode=k;this.tipTypeName=j;this.oddValue=h;this.specialValue=d;this.tipTypeGroupId=c;this.tipTypeGroupName=i;this.matchCode=g;this.specialBetValueType=f;this.handicapParam=l;this.handicapParamDisplay=e}b.prototype.getTipForJson=function(){return{code:this.tipTypeCode,odd:this.oddValue,specialValue:this.specialValue}};b.build=function(c){return new b(c.tipTypeCode,c.tipTypeName,c.oddValue,c.specialValue,c.tipTypeGroupId,c.tipTypeGroupName,c.matchCode,c.specialBetValueType,c.handicapParam,c.handicapParamDisplay)};return b}})();
(function(){angular.module("ticket.ticketMessages",[])})();
(function(){angular.module("ticket.ticketMessages").directive("ticketMessages",a);a.$inject=["$window","DESIGN","$rootScope"];function a(e,d,c){return{restrict:"E",scope:{messages:"=",minPayInError:"="},templateUrl:"views/"+d+"Design/ticketMessages/ticketMessages.html",controller:b,controllerAs:"ticketMessage",bindController:true}}b.$inject=["$rootScope","$scope"];function b(c,d){var e=this;e.betParams=c.betParams;e.translationDataMinPayIn={payIn:e.betParams.minPayIn,ccy:e.betParams.ccy};e.translationDataMaxPayIn={payIn:e.betParams.maxPayIn,ccy:e.betParams.ccy};e.isVariableString=f;function f(g){return angular.isString(g)}}})();
(function(){angular.module("main.statistics",[])})();
(function(){angular.module("main.statistics").controller("StatisticsController",a);a.$inject=["StatisticsService","$scope"];function a(e){var d=this;d.refresh=b;c();function c(){b()}function b(){e.getStatistics(function(f){d.statistics=f})}}})();
(function(){angular.module("main.statistics").service("StatisticsService",a);a.$inject=["$http","DomainService"];function a(c,b){this.getStatistics=function(d){c.get(b.getIBetServer()+"/statistics.json").success(function(e){d(e)}).error(function(e){d(null)})}}})();
(function(){angular.module("main.sessions",[])})();
(function(){angular.module("main.sessions").controller("SessionsController",a);a.$inject=["SessionsService","$scope"];function a(b,c){var e=this;e.sessions=null;e.sessionsCount=null;e.currentSession=null;e.numberOfLoginUsers=0;e.viewTypes=[];e.viewTypes[0]={name:"5",id:0,value:5};e.viewTypes[1]={name:"10",id:1,value:10};e.viewTypes[2]={name:"50",id:2,value:50};e.viewTypes[3]={name:"100",id:3,value:100};e.viewTypes[4]={name:"500",id:4,value:500};e.viewTypes[5]={name:"1000",id:5,value:1000};e.viewTypes[6]={name:"2000",id:6,value:2000};e.viewTypes[7]={name:"all",id:7};e.selectedViewType=e.viewTypes[0];e.selectedViewType.id=0;e.selectedViewType.value=5;e.getSessionsSize=f;e.sessionsSize=0;d();function d(){b.getSessions(function(h){e.sessions=h.sessions;e.currentSession=h.currentSession;for(var g=0;g<e.sessions.length;g++){if(e.sessions[g].username!=null&&e.sessions[g].username!=""){e.numberOfLoginUsers++}if(e.sessions[g].username==null){e.sessions[g].username=""}}e.sessionsSize=e.sessions.length;e.viewTypes[7].value=e.sessionsSize;c.$watch(function(){e.sessionsSize=e.sessions.length;e.viewTypes[7].value=e.sessionsSize;return e.sessions});c.$on("$destroy",function j(){e.sessions=null;e.currentSession=null;e.numberOfLoginUsers=0});c.convertToDate=function(k){var i=new Date(k);i.setDate(i.getDate());return i};c.sortType="username";c.sortReverse=false})}function f(){return e.sessionsSize}}})();
(function(){angular.module("main.sessions").service("SessionsService",a);a.$inject=["$http","DomainService"];function a(d,c){var b=null;this.getSessions=function(e){if(b==null){d.get(c.getIBetServer()+"/sessions.json").success(function(f){b=f;e(f)}).error(function(f){e(null)})}else{e(b)}}}})();
(function(){angular.module("main.userNotifications",[])})();
(function(){angular.module("main.userNotifications").service("UserNotificationsService",a);a.$inject=["$http","DomainService","$q","timer","$rootScope","UserService"];function a(r,e,p,i,g,l){var c={};var h=0;var b=p.defer();var s=false;var n=null;var o=false;var m=null;var j=0;var d="";var k=function(){r.post(e.getIBetServer()+"/async/iUserAccountEvents/"+d+"/"+j+".json",{},{timeout:b.promise}).success(function(u){var t=u.IUserAccountEventContainer.iUserAccountEvents;if(t!=null){angular.forEach(t,function(v){if(v.transactionType=="OUT"||(v.transactionType=="BET"&&v.amount!=null)||(v.transactionType=="RES"&&v.transactionSubType=="BET"&&v.amount!=null)||(v.transactionType=="IN")||(v.transactionType=="WIN"&&v.amount>0)){c[v.docUuid]=v}if(v.transactionType=="BON"){c[v.docUuid+"-BON"]=v}if(v.accountBalanceMap!=null&&v.accountBalanceMap.INTERNET!=null){g.$broadcast("userBalanceUpdated",{balance:v.accountBalanceMap.INTERNET.balance});l.setUserAccountBalance(v.accountBalanceMap.INTERNET.balance)}});if(j==-1&&u.IUserAccountEventContainer.tmstmp==-1){j=0}else{j=u.IUserAccountEventContainer.maxTmstmp}h=Object.keys(c).length}setTimeout(k,200)}).error(function(v,t,w,u){setTimeout(k,200)})};this.getiUserAccountEvents=function(){return c};this.getiUserAccountEventsSize=function(){return h};this.stopLivePolling=function(){};this.startLivePolling=function(){};this.statusChangedTrack=function(t){o=t};function f(){if(n==null){n=i(k,200)}s=true;c={};j=-1;n.restart();console.log("start user notification polling")}function q(){b.resolve();n.stop();s=false;b=p.defer();console.log("stop user notification polling")}l.getUserAccountWithCallback(function(t){if(t!=null&&t.userUuid!=null){d=t.userUuid;setTimeout(k,200)}})}})();
(function(){angular.module("main.userNotifications").controller("UserNotificationsController",a);a.$inject=["UserNotificationsService","$scope","$rootScope","TicketsPreviewService","ngDialog","DESIGN","UserService"];function a(j,n,k,i,l,m,e){var c=this;c.getiUserAccountEventStatusClass=h;c.abs=o;c.showTicket=f;c.getiUserAccountEventsSize=b;c.shortView=5;c.maxView=20;d();function d(){e.isLogedUserFromServer(function(p){if(p){c.iUserAccountEvents=j.getiUserAccountEvents();n.$watch(function(){return j.getiUserAccountEvents()},function(r){c.iUserAccountEvents=r});n.$on("$destroy",function q(){j.stopLivePolling();j.statusChangedTrack(false);c.iUserAccountEvents=null});n.$on("user-session-timeout",function(s,r){j.stopLivePolling();j.statusChangedTrack(false);c.iUserAccountEvents=null});j.startLivePolling();j.statusChangedTrack(true)}})}function h(r,t,p,s,q){if(r=="OUT"||r=="BON"){return"user-notification-"+r.toLowerCase()}if(r=="BET"&&q!=null){return g(r,q,p,s)}if(r=="IN"){return"user-notification-"+r.toLowerCase()+(q>0?"-positive":"-negative")}if(r=="WIN"&&q>0){return"user-notification-"+r.toLowerCase()+"-positive"}if(r=="RES"&&t=="BET"&&q!=null){return g(t,q,p,s)}return""}function g(s,q,p,t){var r="user-notification-"+s.toLowerCase()+(q>0?"-positive":"-negative");if(p!=null&&(p==0||(p==6&&t==0))){r+="-"+p}else{if(p!=null&&(p==1&&t==0)){r+="-0"}else{if((p!=null&&p==5)||(p==6&&t==2)){if(q>0){r="user-notification-"+s.toLowerCase()+"-positive-5"}else{r="user-notification-"+s.toLowerCase()+"-negative-0"}}}}return r}function o(p){return Math.abs(p)}function b(){return j.getiUserAccountEventsSize()}function f(s,q,p,r){if(q=="BET"||q=="WIN"||q=="RES"){n.ticketUuid=s;n.authStatus=p;n.authTicketStatus=r;l.open({template:"views/"+m+"Design/dialog/ticketDialogView.html",scope:n,className:"ngdialog-theme-default notifications-dialog"})}}}})();
(function(){angular.module("main.userNotifications").directive("notifications",a);a.$inject=["DESIGN"];function a(b){return{scope:{},templateUrl:"views/"+b+"Design/notification/notificationUIView.html",controller:"UserNotificationsController",controllerAs:"userNotifications"}}})();
(function(){angular.module("offer.virtualBetting",[])})();
(function(){angular.module("offer.virtualBetting").controller("VirtualBettingController",a);a.$inject=["$rootScope","TicketService","$scope","LiveOfferService","$sessionStorage","$state"];function a(j,h,k,e,i,b){var f=this;f.VblHeight=0;f.virtualParams=j.virtualBettingParams;var d=c();f.urls={T:f.virtualParams.vtoFrameLink.replace("$clientid$",f.virtualParams.clientId).replace("$lang$",d),S:f.virtualParams.vflFrameLink.replace("$clientid$",f.virtualParams.clientId).replace("$lang$",d),DR:f.virtualParams.vdrFrameLink.replace("$clientid$",f.virtualParams.clientId).replace("$lang$",d),HR:f.virtualParams.vcrFrameLink.replace("$clientid$",f.virtualParams.clientId).replace("$lang$",d),B:f.virtualParams.vblFrameLink.replace("$clientid$",f.virtualParams.clientId).replace("$lang$",d)};g();function g(){h.changeWebTicket("virtual");k.$on("VblHeight",function(o,n){f.VblHeight=n.height});if(e.liveSport.type==null){var l=i.lastSelectedSport;if(l!=null){e.liveSport.type=l}else{e.liveSport.type="T"}}f.selectedSport=e.liveSport.type;i.lastSelectedSport=f.selectedSport;k.$watch(function(){f.selectedSport=e.liveSport.type;i.lastSelectedSport=f.selectedSport});console.log(f.selectedSport);k.$on("$destroy",function m(){h.changeWebTicket(1);e.liveSport.type=null});if(i.lastSelectedNSGame!=null){b.go(i.lastSelectedNSGame)}}function c(){if(j.locale=="sr"){return"srl"}return j.locale}}})();function setVflMatchday(a){$rootScopeExternal.$broadcast("VflMatchday",a)}function setVblHeight(a){$rootScopeExternal.$broadcast("VblHeight",a);console.log(a)}function setVblMatchday(a){$rootScopeExternal.$broadcast("VblMatchday",a)}function setVtoRound(a){$rootScopeExternal.$broadcast("VtlMatchday",a)}function placeBets(a){$rootScopeExternal.$broadcast("PlaceBets",a)};
(function(){angular.module("profile.settings",[])})();
(function(){angular.module("profile.settings").service("SettingsService",a);a.$inject=["$http","DomainService","$localStorage","UserService","$rootScope"];function a(i,g,d,h,c){var f=d["settings-"+c.user];b();var e={bonusTip:c.config=="ug"?false:true,contactCenter:true,lastResultsSlide:false,lastResultsWidget:false,promo:true,ticketSuggestion:true,marketMovers:c.config=="ug"?false:true,liveOffer:c.config=="ug"?false:true,topOffer:true,lastMinuteOffer:true,rssFeed:true};function b(j){if(c.config=="ug"){j&&j(e);return}h.pollUsernameFromServer(false,function(l){f=d["settings-"+l];if(f==null){f=e}for(var k in e){if(f[k]==null){f[k]=e[k]}}d["settings-"+l]=f;j&&j(f)})}this.getSettings=b;this.setInit=function(j){j=e}}})();
(function(){angular.module("profile.settings").controller("SettingsController",a);a.$inject=["SettingsService"];function a(d){var c=this;e();c.mainPageOfferLimit=f;b();function b(){}function f(g){switch(g){case"liveOffer":if(c.settings.topOffer==false&&c.settings.lastMinuteOffer==false){c.settings.liveOffer=true}case"lastMinuteOffer":if(c.settings.topOffer==false&&c.settings.liveOffer==false){c.settings.lastMinuteOffer=true}case"topOffer":if(c.settings.lastMinuteOffer==false&&c.settings.liveOffer==false){c.settings.topOffer=true}}}function e(){d.setInit(c.settings);d.getSettings(function(g){c.settings=g})}}})();
(function(){angular.module("profile.payment",[])})();
(function(){angular.module("profile.payment").controller("PaymentController",a);a.$inject=["PaymentService","$scope","$window","ngDialog","DESIGN","$rootScope","$location","$stateParams","$translate"];function a(k,r,f,o,q,m,j,p,e){var g=this;g.loading=false;g.reqUuid=p.reqUuid;g.status=p.status;g.signature=p.signature;g.emsId=p.EMSID;g.accept=true;g.sendOrder=d;g.depositReq=null;g.minAmountReq=m.betParams.minAmountRequestForEms;g.amount;g.openRulesWindow=l;g.design=q;g.isDone=null;g.getAll=i;g.isBackUrl=false;g.disable=false;g.getAmount=b;h();function h(){i();if(g.reqUuid!=null&&g.reqUuid!=""&&g.emsId!=null&&g.emsId!=""){g.isBackUrl=true;g.processing=true;c()}r.$watch(function(){return k.getRefreshedData()},function(t,s){if(t){if(t.depositRequest!=null){if(t.depositRequest.status!=1){g.processing=false;g.req=t.depositRequest;g.orderDetails=t.orderDetails;m.$broadcast("poll-user-account")}if(t.end){g.processing=false;g.req=t.depositRequest;g.end=true}}}},true)}function d(){g.disable=true;if(g.amount>=g.minAmountReq){if(g.accept){g.loading=true;k.sendOrder(g.amount,function(s){if(s!=null&&s.url!=null){f.location.href=s.url}else{e("profile.error").then(function(t){g.disable=false;n(t,"ERROR")})}g.loading=false})}else{e("registration.dialog_header.termsAndConditions.label").then(function(s){g.disable=false;n(s,"ERROR")})}}else{e("profile.min_payin").then(function(s){g.disable=false;n(s+" "+g.minAmountReq,"ERROR")})}}function n(t,s){e("profile.deposit").then(function(u){r.header=u});r.message=t;r.status=s;g.loading=false;o.open({template:"views/"+q+"Design/dialog/dialogView.html",scope:r,preCloseCallback:function(u){}})}function l(){o.open({template:"views/"+q+"Design/dialog/rulesPaymentEms.html",scope:r,preCloseCallback:function(s){}})}function i(s){if(s){g.loading=true}if(g.isBackUrl){c()}else{k.getAllRequests(function(t){g.requests=t;g.loading=false})}}function c(){k.checkDepositRequest(g.reqUuid,g.status,g.signature,g.emsId,function(s){j.search({});g.depositReq=s;g.requests=s.requests;g.req=s.depositRequest;g.loading=false;g.processing=false;g.orderDetails=s.orderDetails;if(s!=null&&s.depositResponse!=null&&s.depositResponse.response){g.isDone=true}else{g.isDone=false}})}function b(s){if(s!=null&&s.status==0){return s.amount+" "+(s.currency.ccy=="din"?"RSD":s.currency.ccy)}else{return""}}}})();
(function(){angular.module("profile.payment").service("PaymentService",a);a.$inject=["$http","DomainService","PAYMENT_PARAMS"];function a(o,k,p){var i=null;var d=null;var g=10;var l=0;var e=1500;var j=null;var h=true;var f=function(r){return $.param(r)};this.sendOrder=function(r,s){o.get(k.getIBetServer()+"/profile/createDeposit/"+r+".json").success(function(t){s(t)}).error(function(t){s(null)})};function n(s,r,u,t,v){o.post(k.getIBetServer()+"/profile/checkDeposit.html",{reqUuid:s,status:r,signature:u,EMSID:t},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:f}).success(function(w){i=w;if(i!=null){i.change=l;if(i.depositRequest!=null&&i.depositRequest.status!=1){clearInterval(d)}}if(v){v(w)}}).error(function(w){i=w;if(v){v(w)}})}this.checkDepositRequest=n;this.getAllRequests=function(r){o.get(k.getIBetServer()+"/profile/requests/all.json").success(function(s){r(s)}).error(function(s){r(s)})};function m(){}function c(){l++;if(l==g/2&&h){e=1800;h=false}if(l>=g){if(d){clearInterval(d);q(null);if(i==null){i={}}i.end=true}}else{if(j!=null){n(j.reqUuid,j.status,j.signature)}else{clearInterval(d)}}}function q(r){j=r;m()}function b(){return i}this.getRefreshedData=b;this.setData=q;this.setIntervalForRefresh=m}})();
(function(){angular.module("profile.payment")})();
(function(){angular.module("profile.payment").controller("PaymentGatewayController",a);a.$inject=["PaymentGatewayService","$scope","$window","ngDialog","DESIGN","$rootScope","$translate","$stateParams","$location","PAYMENT_URL","$sce","$filter","ProfileInfoService","DomainService"];function a(v,t,o,l,j,h,u,x,f,e,m,s,k,c){var w=this;w.minAmountReq=h.betParams.minAmountRequestForEms;w.amount;w.openRulesWindow=r;w.initPayment=n;w.reqUuid=x.reqUuid;w.getAmount=d;w.design=j;w.pURL=m.trustAsResourceUrl(e);w.paymentData={amount:"",hash:"123",okUrl:"",failUrl:"",storetype:"",trantype:"",oid:"",clientid:"",currency:"",rnd:"",lang:""};w.initPayment3D=i;k.getUserInfo(function(y){w.userInfo=y});w.shopUrl=c.getAddress()+"/bet";b();function b(){q();if(w.reqUuid!=null&&w.reqUuid!=""){w.processing=true;v.checkTransaction(w.reqUuid,function(y){if(y!=null){w.request=y.depositRequest;w.transactionInfo=y.transactionalInfo;w.processing=false;w.hasResponse=true;f.search({})}})}}function n(){if(w.amount>=w.minAmountReq){if(w.accept){w.loading=true;w.disable=true;v.sendOrder(w.amount,function(y){if(y!=null&&y.IBetResponse!=null&&y.IBetResponse.message!=null){if(y.IBetResponse.ibetResponseStatus=="OK"){o.location.href=y.IBetResponse.message}else{if(y.IBetResponse.ibetResponseStatus=="ERROR"){if(y.IBetResponse.message!=""){w.disable=false;p(y.IBetResponse.message,"ERROR")}else{u("profile.payment_error_init").then(function(z){w.disable=false;p(z,"ERROR")})}}}}else{u("profile.payment_error_init").then(function(z){w.disable=false;p(z,"ERROR")})}w.loading=false})}else{u("registration.dialog_header.termsAndConditions.label").then(function(y){w.disable=false;p(y,"ERROR")})}}else{u("profile.min_payin").then(function(y){w.disable=false;p(y+" "+w.minAmountReq,"ERROR")})}}function p(z,y){u("profile.deposit").then(function(A){t.header=A});t.message=z;t.status=y;w.loading=false;l.open({template:"views/"+j+"Design/dialog/dialogView.html",scope:t,preCloseCallback:function(A){}})}function r(){l.open({template:"views/"+j+"Design/dialog/rulesPaymentEms.html",scope:t,preCloseCallback:function(y){}})}function q(y){if(y){w.loading=true}if(w.isBackUrl){checkDeposit()}else{v.getAllRequests(function(z){w.requests=z;w.loading=false})}}function d(y){if(y!=null&&y.status==0){var z=s("number")(y.amount,2);return z+" "+(y.currency.ccy=="din"?"RSD":y.currency.ccy)}else{return""}}function i(){if(w.amount>=w.minAmountReq){if(w.accept){w.loading=true;w.disable=true;v.initPayment(w.amount,function(z){if(z!=null&&z.betResponse!=null&&z.betResponse.message!=null){if(z.betResponse.ibetResponseStatus=="OK"&&z.payment!=null){g(z.payment);var y=angular.element(document.querySelector("#paymentForm"));setTimeout(function(){y[0].submit()},0,false)}else{if(z.IBetResponse.ibetResponseStatus=="ERROR"){if(z.IBetResponse.message!=""){w.disable=false;p(z.IBetResponse.message,"ERROR")}else{u("profile.payment_error_init").then(function(A){w.disable=false;p(A,"ERROR")})}}}}else{u("profile.payment_error_init").then(function(A){w.disable=false;p(A,"ERROR")})}w.loading=false})}else{u("registration.dialog_header.termsAndConditions.label").then(function(y){w.disable=false;p(y,"ERROR")})}}else{u("profile.min_payin").then(function(y){w.disable=false;p(y+" "+w.minAmountReq,"ERROR")})}}function g(y){w.paymentData.amount=y.amountStr;w.paymentData.clientid=y.clientid;w.paymentData.okUrl=y.okUrl;w.paymentData.failUrl=y.failUrl;w.paymentData.lang=y.lang;w.paymentData.rnd=y.rnd;w.paymentData.oid=y.oid;w.paymentData.currency=y.currency;w.paymentData.storetype=y.storetype;w.paymentData.trantype=y.trantype;w.paymentData.hash=y.hash}}})();
(function(){angular.module("profile.payment").service("PaymentGatewayService",a);a.$inject=["$http","DomainService"];function a(e,d){var b=function(f){return $.param(f)};this.sendOrder=function(g,h){var f=false;e.get(d.getIBetServer()+"/initPayment/"+g+"/"+f+".json").success(function(i){h(i)}).error(function(i){h(null)})};function c(f,g){e.post(d.getIBetServer()+"/checkTransaction.json",{reqUuid:f},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:b}).success(function(h){if(g){g(h)}}).error(function(h){response=h;if(g){g(h)}})}this.checkDepositRequest=c;this.getAllRequests=function(f){e.get(d.getIBetServer()+"/profile/requests/all.json").success(function(g){f(g)}).error(function(g){f(g)})};this.checkTransaction=function(f,g){e.get(d.getIBetServer()+"/checkTransaction.json?reqUuid="+f).success(function(h){g(h)}).error(function(h){g(h)})};this.initPayment=function(g,h){var f=false;e.get(d.getIBetServer()+"/initPayment/"+g+"/"+f+".json").success(function(i){h(i)}).error(function(i){h(null)})}}})();
(function(){angular.module("main.contest",[])})();
(function(){angular.module("main.contest").controller("ContestController",b).filter("firstLetterLastname",a);b.$inject=["ContestService","$scope","ngDialog","DESIGN","$stateParams","$translate","$filter"];function b(e,m,j,l,k,c,h){var g=null;switch(k.mainContent){case"false":if(l=="l"){g=10;break}g=50;break;default:if(l=="l"){g=3;break}g=10}var d=this;d.showTicket=i;f();function f(){console.log("count "+g);e.getCurrentRankList(g,function(p){d.currentRankList=p;if(p.contestRound!=null){var o=h("date")(p.contestRound.roundStartTime,"dd.MM. HH:mm");var n=h("date")(p.contestRound.roundEndTime,"dd.MM. HH:mm");c("contest.promo_title_info",{round:p.contestRound.contestRound,fromDate:o,toDate:n}).then(function(q){d.contestPromoTitleInfo=q})}console.log(p)});e.getContestWinners(function(n){d.contestWinners=n;console.log(n)})}function i(n){m.ticketUuid=n;m.ticketStatus="true";j.open({template:"views/"+l+"Design/dialog/contestTicketDialog.html",scope:m,className:"ngdialog-theme-default notifications-dialog"})}}function a(){return function(c,d){return c?c.substring(0,1).toUpperCase()+".":""}}})();
(function(){angular.module("offer.casino",[])})();
(function(){angular.module("offer.casino").controller("SecondCasinoController",a);a.$inject=["CasinoService","DESIGN","CORE_DESIGN","DomainService","$scope","$rootScope","BET_PARAMS","$filter","$localStorage","$translate"];function a(j,n,f,e,r,h,i,p,t,s){var k=this;k.gameType=null;if(n=="d"||n=="l"||n=="x"){k.typeGame=j.getGameType();k.setType=l}k.setBck=q;k.interval=10000;k.index=0;k.swipe=u;k.current=null;k.slides=[];k.stop=false;k.hasCasinoGame=c;k.gamesSlider=[];k.game=null;k.gameForSlider=null;k.maxWinnings=[];k.getGameById=v;k.sizeOfUserFavoriteCasinoGames=x;k.getUserFavoriteCasinoGames=w;k.translateCasinoGameType=m;k.gamePicturesUrl=h.pragPicturesUrl;d();function d(){j.getSliderImages(function(A){k.slides=A!=null?A.iImageWithTranslations:null;k.gamesSlider=A!=null?A.games:null;var z=j.getImage();if(z!=null&&z.index>-1&&k.slides[z.index]!=null){k.current=k.slides[z.index];k.index=z.index;setTimeout(g,k.interval/2)}else{if(k.slides!=null){k.current=k.slides[0];k.index=0;k.intervalId=setInterval(b,k.interval)}}q()});j.getMaxWinnings(h.casinoCurrentWinners,i.ccy,false,function(z){k.maxWinnings=z});r.$on("$destroy",function y(){if(k.intervalId!=null){clearInterval(k.intervalId);k.interval=null}k.slides=null;k.current=null;k.images=null});j.pollProviders();j.pollSessionId();j.getGames(function(z){k.games=z;o()})}function g(){k.intervalId=setInterval(b,k.interval)}function b(y){if(y==null){y=1}if(!k.stop&&k.slides!=null){k.index=k.index+y;if(k.index<0){k.index=k.slides.length-1}if(k.index>=k.slides.length){k.index=0}k.current=k.slides[k.index];j.saveImage(k.current,k.index);c(k.current.iImage.casinoGameId,false);q()}}function u(y){b(y)}function c(z,A){if(z!=null){for(var y=0;y<k.gamesSlider.length;y++){if(k.gamesSlider[y]!=null&&k.gamesSlider[y].gameId==z){if(A){k.gameForSlider=k.gamesSlider[y]}else{k.gameSlider=k.gamesSlider[y]}return true}}}return false}function q(){if(k.slides!=null&&k.current!=null){var y=document.getElementsByClassName("casino-slider");y[0].style.backgroundImage="url('"+e.getIBetServer()+"/img/"+f+"/icimage_"+k.current.iImage.id+k.current.iImage.fileType+"')";y[0].style.width="100%";y[0].style.backgroundRepeat="no-repeat"}}function l(y){k.typeGame=y;j.setGameType(y)}function v(z){if(k.games===undefined||k.games===null){return null}else{var y=p("filter")(k.games.casinoGames,{gameId:z});return y[0]}}function o(){j.getFavoriteCasinoGameForUser(function(A){var z={};for(var B in A){var y=v(B);z[B]=y}t.myFavoriteCasinoGames=z})}function x(){if(t.myFavoriteCasinoGames===null||t.myFavoriteCasinoGames===undefined){return 0}else{return Object.keys(t.myFavoriteCasinoGames).length}}function w(){return t.myFavoriteCasinoGames}function m(z,A){var y="casino.gameType."+z;var B=s.instant(y);if(B==null||B==y){B=A}return B}}})();
(function(){angular.module("offer.casino-game",[])})();
(function(){angular.module("offer.casino-game").directive("casinoGame",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{game:"="},templateUrl:"views/"+c+"Design/casino/casino-game.html",controller:a,controllerAs:"secondCasinoGameController",}}a.$inject=["CasinoService","$scope","$rootScope","$localStorage","ngDialog"];function a(g,m,j,l,k){var c=this;c.login=i;c.game=m.game;c.gamePicturesUrl=j.pragPicturesUrl;c.saveFavoriteCasinoGame=h;c.saveFavoriteCasinoGameToCookie=f;c.isFavorite=n;var e="DESKTOP";d();function d(){}function i(o){g.loginAndStartProvider(o,m.game.provider,m.game,e,function(q){var p="ERROR";switch(q){case"LOGIN_ERROR":p="You must login";break;case"DISABLED_ERROR":p="You don't have permission to access casino!";break;default:p="ERROR"}k.open({template:p,plain:true})})}function f(o){var p=l.myFavoriteCasinoGames;if(p!=null&&p!=""){if(p[o.gameId]==null){p[o.gameId]=o}else{delete p[o.gameId]}}l.myFavoriteCasinoGames=p}function h(p){f(p);var o=null;var q=p.gameId+"_"+p.provider;g.saveFavoriteCasinoGame(q,function(r){if(r.iBetResponseStatus="OK"){o=true}else{o=false}});return o}function n(o){var p=l.myFavoriteCasinoGames;return p!=null&&p!=undefined&&p[o]!=null&&p[o]!=undefined}}})();
(function(){angular.module("offer.casino-game-display",[])})();
(function(){angular.module("offer.casino-game-display").directive("casinoGameDisplay",a);a.$inject=["DESIGN"];function a(c){return{restrict:"E",scope:{hd:"=",providerName:"@"},templateUrl:"views/"+c+"Design/casino/casino-game-display.html",controller:b,controllerAs:"casinoGameDisplayController"}}b.$inject=["CasinoService","$sce","$scope","$state","$document"];function b(j,k,m,e,g){var d=this;d.casinoGame={};d.toggleFullscreen=c;var h=1;var l=document.getElementById("casino-frame-container");i();function i(){console.log(m.hd);console.log(m.providerName);if(m.hd==true){h=16/9}else{h=4/3}f();var n=j.getIFrameUrl();if(n==null){e.go("casino")}console.log(n);d.casinoGame.url=k.trustAsResourceUrl(n);console.log(d.casinoGame.url);if(m.providerName){m.$on("userBalanceUpdated",function(p,o){j.updateBalancePragmaticCasino(o.balance)})}d.adjustToFullscreen=false}function f(){var p=window.innerWidth*0.8;var n=window.innerHeight*0.8;if(p>1280){p=1280;n=720}var q;var o=p/n;if(o>h){p=n*h;q=(window.innerHeight-n)/2;d.casinoGame.height=n+"px";d.casinoGame.width=p+"px";d.casinoGame.marginTop=q}else{n=p/h;q=(window.innerHeight-n)/2;d.casinoGame.height=n+"px";d.casinoGame.width=p+"px";d.casinoGame.marginTop=q}if(d.adjustToFullscreen){d.casinoGame.height="100vh";d.casinoGame.width="100vw"}}d.closeGame=function(){e.go("casino")};d.backToLobby=function(){e.go("casino3")};g.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){m.$apply(function(){if(!document.webkitIsFullScreen){d.adjustToFullscreen=false;f()}})});function c(){if(!document.mozFullScreen&&!document.webkitIsFullScreen){if(l.requestFullScreen){d.adjustToFullscreen=true;l.requestFullScreen();f()}else{if(l.mozRequestFullScreen){d.adjustToFullscreen=true;l.mozRequestFullScreen()}else{if(l.webkitRequestFullscreen){d.adjustToFullscreen=true;l.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);f()}else{if(l.msRequestFullscreen){d.adjustToFullscreen=true;l.msRequestFullscreen()}}}}}else{if(document.cancelFullScreen){d.adjustToFullscreen=false;document.cancelFullScreen();f()}else{if(document.mozCancelFullScreen){d.adjustToFullscreen=false;document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){d.adjustToFullscreen=false;document.webkitExitFullscreen();f()}else{if(document.msExitFullscreen){d.adjustToFullscreen=false;document.msExitFullscreen()}}}}}}}})();
(function(){angular.module("main.contact",[])})();
(function(){angular.module("main.contact").controller("ContactController",a);a.$inject=["ContactService","$translate","$scope","ngDialog","DESIGN"];function a(d,f,c,g,b){console.log("ContactController");var e=this;e.submitButtonDisabled=false;e.contactForm={};e.submit=function(h){console.log(e.emailContactForm.$valid);e.submitButtonDisabled=true;if(e.emailContactForm.$valid){d.sendContactForm(e.contactForm,function(i){f("l_help.contact.dialog").then(function(j){c.header=j});if(i==null){f("l_help.contact.dialog_server_error").then(function(j){c.message=j});c.status="ERROR"}else{c.message=i.message;c.status=i.ibetResponseStatus;if(c.status="OK"){e.contactForm={};e.inputNameValidate=false;e.inputLastnameValidate=false;e.inputEmailValidate=false;e.inputSubjectValidate=false;e.inputMessageValidate=false}}e.loading=false;g.open({template:"views/"+b+"Design/dialog/dialogView.html",scope:c,preCloseCallback:function(){e.submitButtonDisabled=false}})})}};e.reset=function(){console.log("reset");e.contactForm={}}}})();
(function(){angular.module("offer.superMatches",[])})();
(function(){angular.module("offer.superMatches").service("SuperMatchesService",a);a.$inject=["$http","DomainService","$cacheFactory"];function a(i,g,f){var d=f("superSpecial");var b=[];var c={};var h=false;function e(){d.removeAll()}this.getSuperMatches=function(j){i.get(g.getIBetOfferServer()+"/async/offer/superMatches.json").success(function(k){j(k)}).error(function(k){j(null)})};this.pollMatchesForSuperCode=function(j){c=j;if(c!=null){var k=c.matchCode;var l=d.get(k);if(l===undefined){h=true;i.get(g.getIBetOfferServer()+"/async/offer/matchesForSuperCode/"+c.matchCode+".json").success(function(m){h=false;b=[];b=m;d.put(k,m);setTimeout(e,20000);console.log(m)}).error(function(m){h=false;console.log(m)})}else{b=l}}else{b=[]}};this.getMatchesForSuperCode=function(){return b};this.returnLoading=function(){return h};this.getSuperMatch=function(){return c}}})();
(function(){angular.module("offer.superMatches").controller("SuperMatchesController",a);a.$inject=["$scope","SuperMatchesService"];function a(d,c){var f=this;f.getSuperMatches=b;f.getMatchesForSuperCode=g;e();function e(){b();d.$watch(function(){return c.getSuperMatch()},function(h){f.currentSuperMatch=h})}function b(){c.getSuperMatches(function(h){f.superMatches=h})}function g(h){if(f.currentSuperMatch!=null&&f.currentSuperMatch.matchCode==h.matchCode){h=null}c.pollMatchesForSuperCode(h)}}})();
(function(){angular.module("offer.superMatches").controller("MatchesForSuperController",a);a.$inject=["$scope","SuperMatchesService","TipTypeGroupsService"];function a(k,j,d){var c=this;var h=j.getMatchesForSuperCode();c.loading=j.returnLoading();c.refreshMatchesForSuperCode=i;c.superMatch=null;c.leagues=[];c.showTipTypes=b;c.getOddTitle=l;c.hasThisHandicap=e;c.matchChange=false;f();function f(){g();k.$on("$destroy",function m(){c.leagues=null});k.$watch(function(){return j.getMatchesForSuperCode()},function(n){h=n;c.superMatch=j.getSuperMatch();console.log(n);console.log("superMatch");console.log(c.superMatch);c.matchChange=!c.matchChange;if(c.superMatch!=null){c.tipTypesCount=0;for(var o in c.superMatch.odBetPickGroups){if(!c.superMatch.odBetPickGroups[o].showOnMain){continue}for(var p in c.superMatch.odBetPickGroups[o].tipTypes){c.tipTypesCount++}}}g()});k.$watch(function(){return j.returnLoading()},function(n){c.loading=n})}function g(){c.leagues=[];for(var m in h){c.leagues.push(h[m]);console.log(c.leagues)}}function i(){j.pollMatchesForSuperCode(j.getSuperMatch())}function b(m){if(m.tipTypes!=null){for(var n in m.tipTypes){var o=m.tipTypes[n];if(o.value>1){return true}}}return false}function l(q,m,n,p,o){return d.getOddTitle(q,m,n,p,o)}function e(m){return d.hasThisHandicap(m)}}})();
(function(){angular.module("profile.transfer",[])})();
(function(){angular.module("profile.transfer").controller("TransferController",a);a.$inject=["TransferService","$scope","ngDialog","DESIGN","$translate","$rootScope","vcRecaptchaService","RECAPTCHA_PUBLIC_KEY"];function a(n,m,k,l,c,i,h,e){var d=this;d.amount=null;d.captcha="";d.tan="";d.widgetId=null;d.sendRequest=b;d.confirmRequest=o;d.successCode=false;d.key=e;d.disableConfirm=false;d.disableCreate=false;d.loading=false;d.expireTransfer=(i.betParams!=null?i.betParams.transferExpiryMin:null);d.widgetId=null;d.setResponse=function(p){console.info("Response available");d.captcha=p};d.setWidgetId=function(p){console.info("Created widget ID: %s",p);d.widgetId=p};d.cbExpiration=function(){console.info("Captcha expired. Resetting response object");d.captcha=null};g();function g(){c("profile_transfer.header").then(function(q){d.headerTitle=q});c("profile_transfer.err_mess").then(function(q){d.errMessage=q});c("profile_transfer._success").then(function(q){d.successMessage=q});c("profile_transfer._success_init").then(function(q){d.successMessageRequest=q});c("profile_transfer.err_amount").then(function(q){d.errAmount=q});c("profile_transfer.err_tan").then(function(q){d.tanErr=q});c("profile_transfer.err_capctha").then(function(q){d.captureError=q});c("profile_transfer.expired_time").then(function(q){if(d.expireTransfer){d.transferExpired=q.replace("$$",d.expireTransfer)}});m.$on("$destroy",function p(){})}function b(){if(!d.amount&&d.amount<0){f(d.headerTitle,d.errAmount);return}else{d.disableCreate=true;d.loading=true;n.createTransferRequest(d.amount,function(p){if(p!=null&&p.iBetResponse!=null){if(p.iBetResponse.ibetResponseStatus=="ERROR"){if(p.iBetResponse.message==""){f(d.headerTitle,d.errMessage)}else{f(d.headerTitle,p.iBetResponse.message)}}else{if(p.iBetResponse.ibetResponseStatus=="OK"){d.successCode=true;d.code=p.iBetResponse.message;j();m.codeTan=p.iBetResponse.message;f(d.headerTitle,"",false,"transfer")}else{f(d.headerTitle,d.errMessage)}}}else{f(d.headerTitle,d.errMessage)}})}}function o(){if(!d.tan||d.tan==""){f(d.headerTitle,d.tanErr);return}if(!d.captcha||d.captcha==""||!d.captcha){f(d.headerTitle,d.captureError,true);return}else{d.loading=true;d.disableConfirm=true;n.confirmTransferRequest(d.tan,d.captcha,function(p){if(p!=null&&p.iBetResponse!=null){if(p.iBetResponse.ibetResponseStatus=="ERROR"){if(p.iBetResponse.message==""){f(d.headerTitle,d.errMessage,true)}else{if(p.iBetResponse.message=="CAPTCHA_ERROR"){h.reload(d.widgetId);d.captchaError=true;d.disableConfirm=false;d.loading=false}else{f(d.headerTitle,p.iBetResponse.message,true)}}}else{if(p.iBetResponse.ibetResponseStatus=="OK"){f(d.headerTitle,d.successMessage+p.transferRequest.amount+" "+(p.transferRequest.currency.ccy=="din"?"RSD":p.transferRequest.currency.ccy),true);d.tan="";i.$broadcast("poll-user-account")}else{f(d.headerTitle,d.errMessage,true)}}}else{f(d.headerTitle,d.errMessage,true)}})}}function f(t,s,r,q){m.header=t;m.message=s;var p="Design/dialog/dialogView.html";if(q!=null&&q=="transfer"){p="Design/dialog/dialogViewTransfer.html"}k.open({template:"views/"+l+p,scope:m,preCloseCallback:function(){}});if(r){h.reload(d.widgetId)}d.disableConfirm=false;d.loading=false;d.disableCreate=false}d.setResponse=function(p){console.info("Response available");d.captcha=p};d.setWidgetId=function(p){console.info("Created widget ID: %s",p);d.widgetId=p};d.cbExpiration=function(){console.info("Captcha expired. Resetting response object");h.reload(d.widgetId);d.captcha=null};function j(){if(d.successMessageRequest.indexOf("$$")>0){m.mess1=d.successMessageRequest.substring(0,d.successMessageRequest.indexOf("$$"));m.mess2=d.successMessageRequest.substring(d.successMessageRequest.indexOf("$$")+2,d.successMessageRequest.length);if(d.expireTransfer){m.mess2=m.mess2+d.transferExpired}}}}})();
(function(){angular.module("profile.activateVoucher",[])})();
(function(){angular.module("profile.activateVoucher").controller("ActivateVoucherController",a);a.$inject=["ActivateVoucherService","$scope","$translate","DESIGN","ngDialog"];function a(g,c,e,b,f){var d=this;d.voucherForm={};d.submitVoucherForm=function(h){console.log(d.voucherForm);console.log(d.activeVoucherForm.$valid);if(d.activeVoucherForm.$valid){g.sendVoucherForm(h,function(i){if(b=="d"){if(i==null){d.activateVaucherMessage=e.instant("profile_withdrawal.activate_voucher_server_error");d.activateVaucherStatus="ERROR"}else{d.activateVaucherMessage=i.message;d.activateVaucherStatus=i.ibetResponseStatus;if(d.activateVaucherStatus=="OK"){d.voucherForm={};d.inputCodeValidate=false;d.inputPinValidate=false}}}else{c.header=e.instant("profile_withdrawal.activate_voucher");if(i==null){c.message=e.instant("profile_withdrawal.activate_voucher_server_error");c.status="ERROR"}else{c.message=i.message;c.status=i.ibetResponseStatus;if(c.status=="OK"){d.voucherForm={};d.inputCodeValidate=false;d.inputPinValidate=false}}f.open({template:"views/"+b+"Design/dialog/dialogView.html",scope:c})}})}}}})();
(function(){angular.module("profile.ipayVoucher",[])})();
(function(){angular.module("profile.ipayVoucher").controller("IPayVoucherController",a);a.$inject=["IPayVoucherService","$scope","$translate","DESIGN","ngDialog","$rootScope"];function a(c,j,b,i,g,f){var d=this;d.voucherForm={};j.header=b.instant("profile_withdrawal.activate_voucher");d.wait=false;d.submitVoucherForm=function(){if(!h()){return}d.wait=true;c.activateVoucher(d.voucherForm,function(k){if(k==null||k.message==""){j.message=b.instant("profile_withdrawal.activate_voucher_server_error");j.status="ERROR"}else{j.message=k.message;j.status=k.ibetResponseStatus;if(j.status=="OK"){d.voucherForm={};f.$broadcast("poll-user-account")}}d.wait=false;e()})};function h(){if(d.voucherForm!=null){if(d.voucherForm.pin==null||d.voucherForm.pin==""){j.message=b.instant("activeVoucher.pin_error");j.status="ERROR";e();return false}else{if(d.voucherForm.code==null||d.voucherForm.code==""){j.message=b.instant("activeVoucher.code_error");j.status="ERROR";e();return false}else{if(d.voucherForm.code==null||d.voucherForm.code==""){j.message=b.instant("ipayVoucher.amount_error");j.status="ERROR";e();return false}}}}return true}function e(){g.open({template:"views/"+i+"Design/dialog/dialogView.html",scope:j})}}})();
(function(){angular.module("profile.generateTan",[])})();
(function(){angular.module("profile.generateTan").controller("GenerateTanController",a);a.$inject=["GenerateTanService"];function a(e){var c=this;c.generateTAN=d;c.currentTan=null;b();function b(){e.getTan(function(f){if(f!==null){c.currentTan=f.string}else{console.log("data of getTan is null")}})}function d(){e.generateTan(function(f){c.currentTan=f.string})}}})();
(function(){angular.module("profile.luckyGuessTicketDetails",[])})();
(function(){angular.module("profile.luckyGuessTicketDetails").service("LuckyGuessTicketDetailsService",a);a.$inject=["$http","DomainService","$rootScope"];function a(e,d,b){var c=null;this.getLuckyGuessKey=function(){if(b.luckyGuessTicketDetailsUrl!=null&&b.luckyGuessTicketDetailsUrl!=""){e.get(d.getIBetServer()+"/profile/getLuckyGuessKey.json").success(function(f){c={method:"POST",url:b.luckyGuessTicketDetailsUrl,headers:{"Content-Type":"Application/json",Authorization:"Basic "+f.string},data:{playerId:"",ticketNo:""}}}).error(function(f){c=null})}};this.getLuckyGuessTicketDetails=function(f,g,h){if(c!=null){c.data.playerId=f;c.data.ticketNo=g;e(c).success(function(i){h(i);console.log(i)}).error(function(){h(null)})}}}})();
(function(){angular.module("profile.luckyGuessTicketDetails").directive("luckyGuessTicket",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{ticketNo:"="},controller:a,templateUrl:"views/"+c+"Design/luckyGuessTicketDetails/luckyGuessTicketDetailView.html"}}a.$inject=["$scope","LuckyGuessTicketDetailsService","UserService"];function a(c,e,g){var f=c.ticketNo;console.log(c.ticketNo);var d=g.getUserAccount().userUuid;e.getLuckyGuessTicketDetails(d,f,function(h){c.ticketsDetails=h})}})();
(function(){angular.module("profile.luckySixTicketDetails",[])})();
(function(){angular.module("profile.luckySixTicketDetails").service("LuckySixTicketDetailsService",a);a.$inject=["$http","DomainService","$rootScope"];function a(e,d,b){var c=null;this.getLuckySixKey=function(){if(b.luckySixTicketDetailsUrl!=null&&b.luckySixTicketDetailsUrl!=""){e.get(d.getIBetServer()+"/profile/getLuckySixKey.json").success(function(f){c={method:"GET",headers:{"Content-Type":"Application/json",Authorization:"Basic "+f.string},data:{playerId:"",ticketNo:""},url:b.luckySixTicketDetailsUrl,}}).error(function(f){c=null})}};this.getLuckySixTicketDetails=function(g,h,i){if(c!=null){c.data.playerId=g;c.data.ticketNo=h;var f="en";if(b.locale=="sr_ME"){f="me"}else{if(b.locale=="ba"){f="bs"}else{f=b.locale}}c.url=b.luckySixTicketDetailsUrl+h+"&locale="+f;e(c).success(function(j){i(j);console.log(j)}).error(function(){i(null)})}}}})();
(function(){angular.module("profile.luckySixTicketDetails").directive("luckySixTicket",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{ticketNo:"=",ccy:"="},controller:a,templateUrl:"views/"+c+"Design/luckySixTicketDetails/luckySixTicketDetailView.html"}}a.$inject=["$scope","LuckySixTicketDetailsService","UserService"];function a(c,e,g){var f=c.ticketNo;console.log(c.ticketNo);var d=g.getUserAccount().userUuid;e.getLuckySixTicketDetails(d,f,function(h){c.ticketsDetails=h});c.formatDate=function(h){var h=h.split("-").join("/");var i=new Date(h);return i}}})();
(function(){angular.module("offer.walletIframe",[])})();
(function(){angular.module("offer.walletIframe").controller("WalletIframeController",a);a.$inject=["$sce","UserService","$rootScope","CASINO_URL","$location","$anchorScroll","DESIGN","PROVIDER3","PROVIDER2","$window","$scope","ngDialog"];function a(l,n,i,b,h,f,j,q,r,m,o,k){var p=this;p.loading=true;p.url={url:b};p.trustSrc=g;p.logged=false;p.externalDemo={};e();function e(){o.$on("messageReceivedFromForeignOrigin",function(v,u){if(u.message!=null&&u.message.type=="login"&&i.user=="anonymousUser"){localStorage.casinoLastGameId=u.message.gameId;k.open({template:"views/"+j+"Design/loginPage/loginUIView.html",className:"ngdialog-theme-default login-page-dialog"})}});var t=d();if(j=="b"){if(q!=null&&q!=""&&q!="undefined"){n.getSessionIdWithCallback(function(u){n.getUserAccountWithCallback(function(v){if(v!=null&&v.userUuid!=null){if(i.config=="sr"){n.casinoLogin(function(w){s(w,v,u,t)})}else{s(null,v,u,t)}}else{p.url.url+="?deviceType=desktop";p.url.url=c(p.url.url,t)}p.loading=false})})}if(r!=null&&r!=""&&r!="undefined"){n.casinoLogin(function(u){if(u!=null&&u.stringWrapper!=null&&u.stringWrapper.string!=null){p.url.url+=u.stringWrapper.string;p.url.url=c(p.url.url,t)}});p.loading=false}}if(j==="l"){n.getSessionIdWithCallback(function(u){n.getUserAccountWithCallback(function(v){if(v!=null&&v.userUuid!=null){p.logged=true;p.externalDemo.userUuid=v.userUuid;p.externalDemo.sessionId=u.string;p.externalDemo.locale=i.fullLocale}})})}}function s(u,t,v,w){p.url.url+="?deviceType=desktop";p.url.url+="&userUuid="+t.userUuid;p.url.url+="&sessionId="+v.string;p.url.url+="&locale="+i.fullLocale;if(u!=null&&u.stringWrapper!=null&&u.stringWrapper.string!=null){p.url.url+="&rgdToken="+u.stringWrapper.string}p.url.url=c(p.url.url,w)}function g(t){return l.trustAsResourceUrl(t)}function d(){var t=localStorage.casinoLastGameId;if(t!=null){localStorage.removeItem("casinoLastGameId")}return t}function c(u,t){if(t!=null){u+="&gameId="+t}return u}}})();
(function(){angular.module("main.locationForDisplay",[])})();
(function(){angular.module("main.locationForDisplay").directive("locationForDisplay",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{},templateUrl:"views/"+c+"Design/locationForDisplay/locationForDisplay.html",controller:a,controllerAs:"locationForDisplay"}}a.$inject=["$scope","$translate","LocationForDisplayService"];function a(c,f,e){var d=this;d.locations;e.getLocationsForDisplay(function(g){var h=g!==null?g:null;d.locations=h})}})();
(function(){angular.module("main.gameDescription",[])})();
(function(){angular.module("main.gameDescription").controller("GameDescriptionController",a);a.$inject=["GameDescriptionService","$translate","$scope","DESIGN"];function a(d,f,c,b){var e=this;e.betsPickGroups;e.collapse=[];e.sportcollapse=[];d.getAllBetsPickGroups(function(o){var v=o!==null?o:null;for(var h=0;h<v.length;h++){for(var p=0;p<v[h].odBetPickGroups.length;p++){for(var m=0;m<v[h].odBetPickGroups[p].tipTypes.length;m++){var r=v[h].odBetPickGroups[p].tipTypes[m].description;if(v[h].odBetPickGroups[p].tipTypes[m].description!==null){var n=/\$h/g;var t=/\$a/g;if(v[h].odBetPickGroups[p].tipTypes[m].description.indexOf("$h")!==-1){var g=f.instant("l_game_description_home");var l=v[h].odBetPickGroups[p].tipTypes[m].description.replace(n,g);v[h].odBetPickGroups[p].tipTypes[m].description=l}if(v[h].odBetPickGroups[p].tipTypes[m].description.indexOf("$a")!==-1){var q=f.instant("l_game_description_away");var s=v[h].odBetPickGroups[p].tipTypes[m].description.replace(t,q);v[h].odBetPickGroups[p].tipTypes[m].description=s}}}}var u="collapse-"+v[h].sport;e.sportcollapse.push(u);e.collapse[u]=false}e.betsPickGroups=v});e.changeOnVisible=function(g){e.collapse[g]=!e.collapse[g];for(var h=0;h<e.sportcollapse.length;h++){if(g!==e.sportcollapse[h]){e.collapse[e.sportcollapse[h]]=false}}}}})();
(function(){angular.module("main.downloads",[])})();
(function(){angular.module("main.downloads").controller("DownloadsController",a);a.$inject=["$rootScope","$scope","$sce"];function a(b,d,c){var e=this;f();function f(){e.downloadsUrl=c.trustAsResourceUrl(b.externalLinks.download+"="+b.locale);console.log(e.downloadsUrl)}}})();
(function(){angular.module("main.banner",[])})();
(function(){angular.module("main.banner").directive("bannerFrame",b);b.$inject=["DESIGN"];function b(c){return{restrict:"E",scope:{imageType:"@imageType",width:"@width"},controller:a,templateUrl:"views/"+c+"Design/bannerFrame/bannerFrameView.html"}}a.$inject=["ImageSliderService","DomainService","$scope","CORE_DESIGN","$window","$interval","$timeout"];function a(k,l,s,i,c,m,d){var o=0;var p=0;s.hasLink=g;s.openLink=e;var n=null;var q;h();function h(){q=m(function(){f()},8000);r();s.$on("$destroy",function(){s.stopFight()})}s.stopFight=function(){if(angular.isDefined(q)){m.cancel(q);q=undefined}};function r(){k.getImages(s.imageType,function(t){s.banners=t.ImageWithTranslations;if(s.banners!=null&&s.banners.length>0){p=-1;o=s.banners.length;f()}})}function f(){p=++p%o;s.current=s.banners[p];d(j,0)}function j(){var u=$(".banner-img-"+s.imageType);var v=$(".banner-frame-wrapper-"+s.imageType);v.css("height",0);if(s.current!=null&&s.current.iImage!=null){var t=s.width+"px "+s.current.iImage.height+"px";u.css("background-image","none");u.css("width","100%");v.css("height",s.current.iImage.height);u.css("height",s.current.iImage.height);u.css("background-repeat","no-repeat");u.css("background-size",t);u.css("background-image","url('"+l.getIBetServer()+"/img/"+i+"/icimage_"+s.current.iImage.id+s.current.iImage.fileType+"')");if(s.current.iImage.externalLink!=null&&s.current.iImage.externalLink!=""){n=s.current.iImage.externalLink;$(".banner-img-"+s.imageType).css("cursor","pointer")}else{$(".banner-img-"+s.imageType).css("cursor","default");n=null}}}function g(){if(s.current!=null&&s.current.iImage!=null){if(s.current.iImage.externalLink!=null&&s.current.iImage.externalLink!=""){s.protocol=s.current.iImage.externalLink.search(/http/i);return true}else{return false}}}function e(){if(n!=null){if(s.protocol!=-1){c.open(n)}else{c.open(n,"_self")}}}}})();
(function(){angular.module("offer.upcomingLeaguesWithMatches",[])})();
(function(){angular.module("offer.upcomingLeaguesWithMatches").controller("UpcomingLeaguesWithMatches",a);a.$inject=["UpcomingMatchesService","SportWithLeagueService"];function a(c,b){var e=this;d();function d(){f()}function f(){e.loading=true;c.getUpcomingLeaguesAndMatches(function(g){e.leaguesWithMatches=g;e.loading=false})}}})();
(function(){angular.module("offer.upcomingLeaguesWithMatches").service("UpcomingMatchesService",a);a.$inject=["$http","DomainService"];function a(c,b){this.getUpcomingLeaguesAndMatches=function(d){c.get(b.getIBetOfferServer()+"/getUpcomingLeaguesWithMatches.json").success(function(e){d(e)}).error(function(e){d(e)})}}})();
(function(){angular.module("offer.inPlay",[])})();
(function(){angular.module("offer.inPlay").directive("inPlayDirective",a);a.$inject=["DESIGN"];function a(c){return{restrict:"E",scope:{},controller:b,controllerAs:"inPlay",templateUrl:"views/"+c+"Design/inPlay/inPlay.html",bindController:true}}b.$inject=["$scope","LiveOfferService","$rootScope"];function b(o,e,n){var f=this;f.betParams=n.betParams;f.minOdd=f.betParams.minOddLive;f.getMatchesInPlay=l;var g=10000;var c=null;var d=0;var m=false;var h=5;i();function i(){e.startLivePolling(false);f.matchesForSlider=e.getMatchesInPlay();o.$watch(function(){return e.getMatchesInPlay()},function(q){f.matchesForSlider=q});o.$on("$destroy",function p(){e.stopLivePolling();f.matchesForSlider=null;clearInterval(c)})}function l(){k();if(Object.keys(f.matchesForSlider).length==0||f.matchesForSlider==null){j(1000,true)}else{if(Object.keys(f.matchesForSlider).length>0){j(g,false)}}}function k(s,r){if(s&&r&&!m){m=true;j(g,false)}if(Object.keys(f.matchesForSlider).length>0){var q=0;for(var p in f.matchesForSlider){q++;if(d>h||Object.keys(f.matchesForSlider).length==d){d=0}if((q>d||d==0)&&d<=h){f.matchInPlay=f.matchesForSlider[p];d++;break}}}}function j(q,p){clearInterval(c);c=setInterval(function(){o.$evalAsync(function(){var r=false;if(Object.keys(f.matchesForSlider).length>0&&!r){p=true;r=true}k(p,r)})},q)}}})();
(function(){angular.module("offer.searchMatches",[])})();
(function(){angular.module("offer.searchMatches").controller("SearchMatchesController",a);a.$inject=["$scope","LeaguesWithMatchesService","DESIGN","SportWithLeagueService","$state"];function a(d,h,b,c,e){var f=this;f.loading=c.returnLoading();f.searchMatches=c.getSearchMatches();f.removeLeagueByIndex=g;function g(i){c.removeSearchMatchWithLeagueLeagueByIndex(i);if(f.searchMatches==null||f.searchMatches.length==0){e.go("home.mainContent")}}}})();
(function(){angular.module("app.keyboard",[])})();
(function(){angular.module("app.keyboard").config(a);a.$inject=["keyboardLayoutProvider"];function a(g){var f={};var c={keys:[{normal:"1",type:"symbol"},{normal:"2",type:"symbol"},{normal:"3",type:"symbol"},{normal:"4",type:"symbol"},{normal:"5",type:"symbol"},{normal:"6",type:"symbol"},{normal:"7",type:"symbol"},{normal:"8",type:"symbol"},{normal:"9",type:"symbol"},{normal:".",type:"symbol"},{normal:"0",type:"symbol"},{normal:"Backspace",type:"backspace"}],lang:"en"};var d={keys:[{normal:"1",type:"symbol"},{normal:"2",type:"symbol"},{normal:"3",type:"symbol"},{normal:"4",type:"symbol"},{normal:"5",type:"symbol"},{normal:"6",type:"symbol"},{normal:"7",type:"symbol"},{normal:"8",type:"symbol"},{normal:"9",type:"symbol"},{normal:".",type:"symbol"},{normal:"0",type:"symbol"},{normal:"Backspace",type:"backspace"}],lang:"sr"};var b={keys:[{normal:"1",type:"symbol"},{normal:"2",type:"symbol"},{normal:"3",type:"symbol"},{normal:"4",type:"symbol"},{normal:"5",type:"symbol"},{normal:"6",type:"symbol"},{normal:"7",type:"symbol"},{normal:"8",type:"symbol"},{normal:"9",type:"symbol"},{normal:".",type:"symbol"},{normal:"0",type:"symbol"},{normal:"Backspace",type:"backspace"}],lang:"de"};var e={keys:[{normal:"1",type:"symbol"},{normal:"2",type:"symbol"},{normal:"3",type:"symbol"},{normal:"4",type:"symbol"},{normal:"5",type:"symbol"},{normal:"6",type:"symbol"},{normal:"7",type:"symbol"},{normal:"8",type:"symbol"},{normal:"9",type:"symbol"},{normal:".",type:"symbol"},{normal:"0",type:"symbol"},{normal:"Backspace",type:"backspace"}],lang:"tr"};f.en=c;f.sr=d;f.de=b;f.tr=e;g.setLayouts(f);g.setDefaultLanguage("en")}})();
(function(){angular.module("app.keyboard").provider("keyboardLayout",a);a.$inject=[];function a(){var f;var h;var e;var b={status:"down",focus:false};var d=null;var c;var g;return{setLayouts:function(i){f=i},setDefaultLanguage:function(i){h=i;g=i},$get:function(){return{getLayout:function(){return f[h]},setLanguage:function(i){if(f[i]==null){console.warn(i+" language not found. Resolving to default language ("+g+")");i=g}h=i},getLanguages:function(){return Object.keys(f)},getKeyboardStatus:function(){return b},setInputType:function(i){d=i},getInputType:function(){return d},setCurrentModelValue:function(i){e=i},getCurrentModelValue:function(){return e.$viewValue},updateCurrentModelValue:function(i){e.$setViewValue(i);e.$render()},setCurrentModelViewValue:function(i){e.$setViewValue(i)},setCurrentElement:function(i){c=i},getCurrentElement:function(){return c}}}}}})();
(function(){angular.module("app.keyboard").directive("setKeyboard",a);a.$inject=["keyboardLayout"];function a(b){return{restrict:"A",require:"?ngModel",link:function(f,e,d,c){if(!c){return}e.on("click",function(g){if(b.getKeyboardStatus().status=="down"){b.getKeyboardStatus().status="up";b.getKeyboardStatus().focus=true}else{if(b.getKeyboardStatus().status=="up"){b.getKeyboardStatus().status="down";b.getKeyboardStatus().focus=false}}f.$apply(b.getKeyboardStatus());b.setCurrentModelValue(c);b.setCurrentElement(e);b.setInputType(d.type);e[0].blur()})}}}})();
(function(){angular.module("app.keyboard").directive("keyboard",a);a.$inject=["keyboardLayout","$document","$timeout","DESIGN"];function a(d,e,c,b){return{restrict:"E",templateUrl:"views/"+b+"Design/keyboard/keyboard.html",link:function(j,i,h){j.mod="normal";j.layout=d.getLayout();j.languages=d.getLanguages();j.keyboardStatus=d.getKeyboardStatus();j.onClickOrTapNumeric=f;j.onClosekeyboard=g;k();function k(){i.on("click",function(l){l.preventDefault();l.stopPropagation()});e.on("click",function(l){if(!d.getKeyboardStatus().focus){j.$apply(d.getKeyboardStatus().status="down")}})}function f(l){var n=d.getCurrentModelValue();var m=d.getInputType();if(n==null){n=""}switch(l.type){case"symbol":n+=l[j.mod];if(m==="number"){if(isNaN(n)){var p=Number(n);if(isNaN(p)){n=n.substr(0,n.length-1)}}}break;case"backspace":if(!isNaN(n)&&m==="number"){n=Number(n.toString().substr(0,n.toString().length-1))}else{n=n.substr(0,n.length-1)}break}if(m==="number"&&l[j.mod]==="."){d.setCurrentModelViewValue(n)}else{d.updateCurrentModelValue(m==="number"?Number(n):n)}var o=d.getCurrentElement();c(function(){o.triggerHandler("keyup")})}function g(){d.getKeyboardStatus().status="down"}}}}})();
(function(){angular.module("offer.recommended",[])})();
(function(){angular.module("offer.recommended").controller("RecommendedController",a);a.$inject=["ImageSliderService"];function a(e){var b=this;b.matches=e.getMatches();b.mSize=c;b.getTipTypes=d;function d(g){var l=new Array();if(g==null||g.odBetPickGroups==null){return l}for(var j in g.odBetPickGroups){if(g.odBetPickGroups[j].tipTypes!=null){var h=g.odBetPickGroups[j].tipTypes;for(var f in h){if(h[f]!=null){h[f].groupName=g.odBetPickGroups[j].name;h[f].groupId=g.odBetPickGroups[j].id;l.push(h[f])}}}}return l}function c(){return e.getMatchesSize()}}})();
(function(){angular.module("offer.virtualGames",[])})();
(function(){angular.module("offer.virtualGames").controller("VirtualGamesController",a);a.$inject=["$sce","UserService","ProviderService","$rootScope","$scope","CasinoService","$stateParams","BET_PARAMS","EXEFEED_VIRTUAL_GAMES_CLIENT_NAME"];function a(p,s,m,j,t,l,A,k,q){var x=this;x.loading=true;x.url=null;x.provider=null;x.greyhoundsBaseUrl=j.luckySixBaseUrl;x.trustSrc=h;x.virtualGames={};x.startGame=f;x.isEnabledProvider=y;x.maxWinnings=null;var n=null;var r=null;var b=null;var u={type:"balanceChanged",content:{balance:null}};e();function e(){v();l.getMaxWinnings(j.casinoCurrentWinners,k.ccy,true,function(C){for(var B in C){C[B].application=C[B].application.replace(/([A-Z])/g," $1").trim()}x.maxWinnings=C})}function f(B){var C=x.virtualGames[B];x.provider=C.provider;if(C.provider=="ELBET"){g(B)}else{if(C.provider=="NS7"){c(B)}else{if(C.provider=="ALEA"){z()}else{if(C.provider=="EXEFEED"){w()}else{if(C.provider=="WLT_VIRT"){d(B)}}}}}}function h(B){return p.trustAsResourceUrl(B)}function i(B){n=document.getElementById("seven-plugin").contentWindow;r=B;t.$on("userBalanceUpdated",function(D,C){u.content.balance=C.balance;n.postMessage(u,r);console.log("balance sent "+u.content.balance)})}function c(B){s.getSessionIdWithCallback(function(F){var C="en";if(j.locale=="sr_ME"){C="me"}else{if(j.locale=="ba"){C="bs"}else{if(j.locale=="sr"){C="sr-Latn"}else{C=j.locale}}}var E=F.string;x.url=x.greyhoundsBaseUrl+"/#/"+B;var D=s.getUserAccount();if(D!=null&&D.userUuid!=null){x.url+="?auth=b2b";x.url+="&token="+E;x.url+="&id="+D.userUuid;x.url+="&lang="+C}x.loading=false;setTimeout(function(){i(x.greyhoundsBaseUrl);iFrameResize({checkOrigin:[x.greyhoundsBaseUrl],messageCallback:function(G){if(G.message&&G.message.type){switch(G.message.type){case"logoutSuccess":console.log("Succesfull logout!");break;case"contentLoaded":if(D!=null&&D.balance!=null){u.content.balance=D.balance;n.postMessage(u,r);console.log("init balance sent "+u.content.balance)}break}}}})},0)})}function g(B){x.url=j.elbetBaseUrl+B;s.getSessionIdWithCallback(function(E){var D=E.string;var C=s.getUserAccount();if(C!=null&&C.userUuid!=null){if(C.ccy=="eur"){x.url=j.elbetBaseUrlEur+B}else{x.url=j.elbetBaseUrl+B}x.url+="?sessionId="+D;x.url+="&userUuid="+C.userUuid;x.url+="&locale="+j.locale}x.loading=false})}function z(){x.url=j.aleaLuckySixUrl+"?lang="+j.locale;s.getSessionIdWithCallback(function(D){var C=D.string;var B=s.getUserAccount();if(B!=null&&B.userUuid!=null){x.url=j.aleaLuckySixUrl+"?realMode=real";x.url+="&sessionId="+C;x.url+="&userUuid="+B.userUuid;x.url+="&lang="+j.locale}x.loading=false})}function w(){var C="desktop";var B=q;var D=k;x.url=j.exefeedVirtualGamesUrl+"?lang="+j.locale+"&deviceType="+C+"&ccy="+D.ccy;if(B!=null&&B!=""){x.url+="&clientName="+B}s.getSessionIdWithCallback(function(G){var F=G.string;var E=s.getUserAccount();if(E!=null&&E.userUuid!=null){x.url=j.exefeedVirtualGamesUrl;x.url+="?sessionId="+F;x.url+="&userUuid="+E.userUuid;x.url+="&lang="+j.locale;x.url+="&deviceType="+C;x.url+="&ccy="+E.ccy;if(B!=null&&B!=""){x.url+="&clientName="+B}}x.loading=false})}function d(B){x.url=j.walletVirtualGameUrl+"?gameId="+B;s.getSessionIdWithCallback(function(E){var D=E.string;var C=s.getUserAccount();if(C!=null&&C.userUuid!=null){x.url=j.walletVirtualGameUrl;x.url+="?sessionId="+D;x.url+="&userUuid="+C.userUuid;x.url+="&language="+j.locale;x.url+="&ccy="+C.ccy;x.url+="&isVirtual=true"}x.loading=false})}function v(){l.getVirtualGames(function(E){for(var D in E){var B=E[D];x.virtualGames[B.gameId]=B}var C=A.gameId;if(C==""||C==null||C==undefined){C=o()}f(C,null)})}function y(B){return B!=null&&B!=""&&m.isEnabled(B)}function o(){for(var B in x.virtualGames){return B}return null}}})();
(function(){angular.module("app.analytics",[]).directive("analytics",b);b.$inject=[];function b(){return{restrict:"E",scope:{trackId:"=",cookieDomain:"="},controller:a,template:"<div></div>"}}a.$inject=["$scope"];function a(c){(function(f,h,l,k,j,e,d){f.GoogleAnalyticsObject=j;f[j]=f[j]||function(){(f[j].q=f[j].q||[]).push(arguments)},f[j].l=1*new Date();e=h.createElement(l),d=h.getElementsByTagName(l)[0];e.async=1;e.src=k;d.parentNode.insertBefore(e,d)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create",c.trackId,{cookieDomain:c.cookieDomain})}})();
(function(){angular.module("offer.leagueWithMatches").controller("PreMatchFavorites",a);a.$inject=["$scope","LeaguesWithMatchesService"];function a(d,i){var f=this;f.selectMatchFavorite=g;f.isPreMatchExist=h;f.preMatchList=i.getPreMatchList();f.hasMatches=c;f.pollMatchSpecial=b;e();function e(){d.$on("$destroy",function j(){f.leagues=null})}function g(j){i.addDeletePreMatchFavorite(j)}function h(j){return i.isPreMatchExist(j)}function c(){return f.preMatchList!=null&&Object.keys(f.preMatchList).length>0}function b(k,j){i.pollMatchSpecial(k,j)}}})();
(function(){angular.module("profile.ticketDetails",[])})();
(function(){angular.module("profile.ticketDetails").directive("elbetTicketDetails",a);a.$inject=["DESIGN"];function a(c){return{restrict:"E",scope:{ticketNo:"=",application:"=",provider:"=",ccy:"=",domain:"="},controller:b,templateUrl:"views/"+c+"Design/elbetTicketDetails/elbetTicketDetails.html"}}b.$inject=["$scope","TicketDetailsService"];function b(c,f){var h=c.ticketNo;var d=c.application;var i=c.provider;var g=c.domain;f.getTicketDetails(h,d,i,g,function(p){for(var k in p.BingoTicket){if(p.BingoTicket[k].Numbers==""&&p.BingoTicket[k].OddType!=""){p.BingoTicket[k].OddType=e(p.BingoTicket[k].OddType)}else{if(p.BingoTicket[k].Numbers!=""){var j=p.BingoTicket[k].Numbers;var n=j.split("|");var m="";for(var o in n){if(n[o]!=""){m+=n[o]+", "}}var l=m.substring(0,m.length-2);p.BingoTicket[k].Numbers=l}}}c.ticketsDetails=p.BingoTicket});c.formatDate=function(j){var j=j.split("-").join("/");var k=new Date(j);return k};function e(k){var j="";switch(k){case 1:j="Red";break;case 2:j="Green";break;case 3:j="Blue";break;case 4:j="Violet";break;case 5:j="Brown";break;case 6:j="Yellow";break;case 7:j="Orange";break;case 8:j="Black";break}return j}}})();
(function(){angular.module("profile.aleaTicketDetails",[])})();
(function(){angular.module("profile.aleaTicketDetails").directive("aleaTicketDetails",a);a.$inject=["DESIGN"];function a(c){return{restrict:"E",scope:{ticketNo:"=",application:"=",provider:"=",ccy:"=",domain:"="},controller:b,templateUrl:"views/"+c+"Design/aleaTicketDetails/aleaTicketDetails.html"}}b.$inject=["$scope","$translate","TicketDetailsService"];function b(l,c,g){var m=l.ticketNo;var h=l.application;var j=l.provider;var f=l.domain;var k=k;var e=e;var i=i;g.getTicketDetails(m,h,j,f,function(n){l.ticketsDetails=n});l.formatDate=function(n){var n=n.split("-").join("/");var o=new Date(n);return o};function k(p){var o="";var n=p.split(",");for(var q=0;q<n.length-1;q++){var r=n[q];o=d(o,r)}o=d(o,n[n.length-1]);return o}function d(n,o){switch(o){case 0:n+=c.instant("profile.alea.color.black")+", ";break;case 1:n+=c.instant("profile.alea.color.red")+", ";break;case 2:n+=c.instant("profile.alea.color.green")+", ";break;case 3:n+=c.instant("profile.alea.color.blue")+", ";break;case 4:n+=c.instant("profile.alea.color.purple")+", ";break;case 5:n+=c.instant("profile.alea.color.brown")+", ";break;case 6:n+=c.instant("profile.alea.color.yellow")+", ";break;case 7:n+=c.instant("profile.alea.color.gray")+", ";break;default:n+=o}return n}function e(o){var n="";switch(o){case 1:n=c.instant("profile.alea.bet.odd");break;case 2:n=c.instant("profile.alea.bet.even");break;default:n=o}return n}function i(o){var n="";switch(o){case 1:n=c.instant("profile.alea.bet.low");break;case 2:n=c.instant("profile.alea.bet.high");break;default:n=o}return n}}})();
(function(){angular.module("main.jackpot",[])})();
(function(){angular.module("main.jackpot").service("JackpotService",a);a.$inject=["$rootScope","DomainService","$http","JACKPOT_WINNERS_DAYS","DESIGN","ngDialog","$timeout","BET_PARAMS"];function a(k,g,i,d,m,l,b,h){var e={numOfDigits:null,activeJackpot:{},winningJackpot:null,jackpotConfigId:null,jackpotWinners:[],winningJackpotFlag:false,activeJackpotAmount:null,winningJackpotAmount:null,activeAmountDigits:null,winningAmountDigits:null};var n=d;e.numOfDigits=(h.jackpotNumOfDigits==null||h.jackpotNumOfDigits==0)?9:h.jackpotNumOfDigits;function o(){k.$on("jackpotMessageReceivedFromWs",function(p,r){if(e.winningJackpot!=null&&r.winningJackpot!=null&&e.winningJackpot.winningTicket!=r.winningJackpot.winningTicket){c();e.winningJackpotFlag=true;b(function(){e.winningJackpotFlag=false},3000)}e.activeJackpot=r.activeJackpot;e.winningJackpot=r.winningJackpot;e.jackpotConfigId=r.jackpotConfigId;var q=parseFloat(Math.round(r.activeJackpot.amount*100)/100).toFixed(2);e.activeJackpotAmount=q;e.activeAmountDigits=f(q,e.numOfDigits);if(r.winningJackpot!=null&&r.winningJackpot.amount){var s=parseFloat(Math.round(r.winningJackpot.amount*100)/100).toFixed(2);e.winningJackpotAmount=s;e.winningAmountDigits=f(s,e.numOfDigits)}});c()}function c(){i.get(g.getIBetServer()+"/jackpot/getJackpotWinners.json",{params:{days:n,}}).success(function(p){e.jackpotWinners=p}).error(function(p){})}function j(q,p){p.ticketUuid=q;p.ticketStatus="true";l.open({template:"views/"+m+"Design/dialog/contestTicketDialog.html",scope:p,className:"ngdialog-theme-default notifications-dialog"})}function f(t,p){var u={};var q=Math.round(t*100);for(var s=0;s<p;s++){var r=Math.floor(((q%(Math.floor(Math.pow(10,s+1))))/(Math.floor(Math.pow(10,s)))));u[p-(s+1)]=r}return u}return{init:o,getJackpotMap:function(){return e},getJackpotWinners:c,showTicket:j,getDigitsForAmount:f}}})();
(function(){angular.module("main.jackpot").controller("JackpotController",a);a.$inject=["JackpotService","$scope"];function a(f,b){var e=this;e.jackpotMap={};e.showTicket=c;d();function d(){e.jackpotMap=f.getJackpotMap()}function c(g){f.showTicket(g,b)}}})();
(function(){angular.module("main.jackpot").directive("realtimeJackpot",b);b.$inject=["DESIGN"];function b(c){return{scope:{displayOrigin:"@"},templateUrl:"views/"+c+"Design/jackpot/jackpotUIView.html",controller:a}}a.$inject=["JackpotService","$scope"];function a(i,e){e.jackpotMap={};e.toggle={jackpot:true,winners:false};e.showWinners=j;e.hideWinners=c;e.showTicket=g;e.getDigit=f;e.getJacpotSize=d;h();function h(){e.jackpotMap=i.getJackpotMap()}function j(){e.toggle.jackpot=false;e.toggle.winners=true}function c(){e.toggle.jackpot=true;e.toggle.winners=false}function g(k){i.showTicket(k,e)}function f(l,k){if(k=="active"){return e.jackpotMap.activeAmountDigits[l]}else{if(k=="winning"){return e.jackpotMap.winningAmountDigits[l]}}}function d(){if(e.jackpotMap!=null&&e.jackpotMap.activeAmountDigits!=null){return Object.keys(e.jackpotMap.activeAmountDigits).length}return 0}}})();
(function(){angular.module("main.jackpot").directive("animateJackpot",a);a.$inject=["JackpotService"];function a(b){return function(d,e,c){var f=d.$watch(c.animateJackpot,function(i,k){if(i!=k){var h=b.getJackpotMap().numOfDigits;var j=b.getDigitsForAmount(k,h);var g=b.getDigitsForAmount(i,h);var m="jackpot-animate fadeInDown";if(j[0]!=g[0]){$(".pos-1").addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}var l=setTimeout(function(){if(j[1]!=g[1]){$(".pos-2").addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}var n=setTimeout(function(){if(j[2]!=g[2]){$(".pos-3").delay(400).addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}var o=setTimeout(function(){if(j[3]!=g[3]){$(".pos-4").delay(600).addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}var p=setTimeout(function(){if(j[4]!=g[4]){$(".pos-5").delay(600).addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}var q=setTimeout(function(){if(j[5]!=g[5]){$(".pos-6").delay(600).addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}var r=setTimeout(function(){if(j[6]!=g[6]){$(".pos-7").delay(600).addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}var s=setTimeout(function(){if(j[7]!=g[7]){$(".jackpot-amount-num-decimal-1").delay(800).addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}var t=setTimeout(function(){if(j[8]!=g[8]){$(".jackpot-amount-num-decimal-2").delay(800).addClass(m).delay(400).queue(function(){$(this).removeClass(m).dequeue()})}},100)},100)},100)},100)},100)},100)},100)},100)}})}}})();
